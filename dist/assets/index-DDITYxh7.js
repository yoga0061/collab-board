(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Iw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vp={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function SC(){if(oE)return yu;oE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return yu.Fragment=t,yu.jsx=n,yu.jsxs=n,yu}var lE;function RC(){return lE||(lE=1,Vp.exports=SC()),Vp.exports}var V=RC(),Mp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function xC(){if(uE)return It;uE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,L={};function C(k,st,ct){this.props=k,this.context=st,this.refs=L,this.updater=ct||w}C.prototype.isReactComponent={},C.prototype.setState=function(k,st){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,st,"setState")},C.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function N(){}N.prototype=C.prototype;function Q(k,st,ct){this.props=k,this.context=st,this.refs=L,this.updater=ct||w}var H=Q.prototype=new N;H.constructor=Q,x(H,C.prototype),H.isPureReactComponent=!0;var rt=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function O(k,st,ct,lt,gt,Rt){return ct=Rt.ref,{$$typeof:e,type:k,key:st,ref:ct!==void 0?ct:null,props:Rt}}function R(k,st){return O(k.type,st,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function M(k){var st={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ct){return st[ct]})}var B=/\/+/g;function z(k,st){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):st.toString(36)}function P(){}function oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(P,P):(k.status="pending",k.then(function(st){k.status==="pending"&&(k.status="fulfilled",k.value=st)},function(st){k.status==="pending"&&(k.status="rejected",k.reason=st)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $t(k,st,ct,lt,gt){var Rt=typeof k;(Rt==="undefined"||Rt==="boolean")&&(k=null);var vt=!1;if(k===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(k.$$typeof){case e:case t:vt=!0;break;case y:return vt=k._init,$t(vt(k._payload),st,ct,lt,gt)}}if(vt)return gt=gt(k),vt=lt===""?"."+z(k,0):lt,rt(gt)?(ct="",vt!=null&&(ct=vt.replace(B,"$&/")+"/"),$t(gt,st,ct,"",function(Un){return Un})):gt!=null&&(I(gt)&&(gt=R(gt,ct+(gt.key==null||k&&k.key===gt.key?"":(""+gt.key).replace(B,"$&/")+"/")+vt)),st.push(gt)),1;vt=0;var Ae=lt===""?".":lt+":";if(rt(k))for(var Wt=0;Wt<k.length;Wt++)lt=k[Wt],Rt=Ae+z(lt,Wt),vt+=$t(lt,st,ct,Rt,gt);else if(Wt=b(k),typeof Wt=="function")for(k=Wt.call(k),Wt=0;!(lt=k.next()).done;)lt=lt.value,Rt=Ae+z(lt,Wt++),vt+=$t(lt,st,ct,Rt,gt);else if(Rt==="object"){if(typeof k.then=="function")return $t(oe(k),st,ct,lt,gt);throw st=String(k),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return vt}function W(k,st,ct){if(k==null)return k;var lt=[],gt=0;return $t(k,lt,"","",function(Rt){return st.call(ct,Rt,gt++)}),lt}function at(k){if(k._status===-1){var st=k._result;st=st(),st.then(function(ct){(k._status===0||k._status===-1)&&(k._status=1,k._result=ct)},function(ct){(k._status===0||k._status===-1)&&(k._status=2,k._result=ct)}),k._status===-1&&(k._status=0,k._result=st)}if(k._status===1)return k._result.default;throw k._result}var ft=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ct(){}return It.Children={map:W,forEach:function(k,st,ct){W(k,function(){st.apply(this,arguments)},ct)},count:function(k){var st=0;return W(k,function(){st++}),st},toArray:function(k){return W(k,function(st){return st})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},It.Component=C,It.Fragment=n,It.Profiler=a,It.PureComponent=Q,It.StrictMode=r,It.Suspense=m,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,It.__COMPILER_RUNTIME={__proto__:null,c:function(k){return Z.H.useMemoCache(k)}},It.cache=function(k){return function(){return k.apply(null,arguments)}},It.cloneElement=function(k,st,ct){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var lt=x({},k.props),gt=k.key,Rt=void 0;if(st!=null)for(vt in st.ref!==void 0&&(Rt=void 0),st.key!==void 0&&(gt=""+st.key),st)!ot.call(st,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&st.ref===void 0||(lt[vt]=st[vt]);var vt=arguments.length-2;if(vt===1)lt.children=ct;else if(1<vt){for(var Ae=Array(vt),Wt=0;Wt<vt;Wt++)Ae[Wt]=arguments[Wt+2];lt.children=Ae}return O(k.type,gt,void 0,void 0,Rt,lt)},It.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},It.createElement=function(k,st,ct){var lt,gt={},Rt=null;if(st!=null)for(lt in st.key!==void 0&&(Rt=""+st.key),st)ot.call(st,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(gt[lt]=st[lt]);var vt=arguments.length-2;if(vt===1)gt.children=ct;else if(1<vt){for(var Ae=Array(vt),Wt=0;Wt<vt;Wt++)Ae[Wt]=arguments[Wt+2];gt.children=Ae}if(k&&k.defaultProps)for(lt in vt=k.defaultProps,vt)gt[lt]===void 0&&(gt[lt]=vt[lt]);return O(k,Rt,void 0,void 0,null,gt)},It.createRef=function(){return{current:null}},It.forwardRef=function(k){return{$$typeof:f,render:k}},It.isValidElement=I,It.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:at}},It.memo=function(k,st){return{$$typeof:p,type:k,compare:st===void 0?null:st}},It.startTransition=function(k){var st=Z.T,ct={};Z.T=ct;try{var lt=k(),gt=Z.S;gt!==null&&gt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ct,ft)}catch(Rt){ft(Rt)}finally{Z.T=st}},It.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},It.use=function(k){return Z.H.use(k)},It.useActionState=function(k,st,ct){return Z.H.useActionState(k,st,ct)},It.useCallback=function(k,st){return Z.H.useCallback(k,st)},It.useContext=function(k){return Z.H.useContext(k)},It.useDebugValue=function(){},It.useDeferredValue=function(k,st){return Z.H.useDeferredValue(k,st)},It.useEffect=function(k,st,ct){var lt=Z.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(k,st)},It.useId=function(){return Z.H.useId()},It.useImperativeHandle=function(k,st,ct){return Z.H.useImperativeHandle(k,st,ct)},It.useInsertionEffect=function(k,st){return Z.H.useInsertionEffect(k,st)},It.useLayoutEffect=function(k,st){return Z.H.useLayoutEffect(k,st)},It.useMemo=function(k,st){return Z.H.useMemo(k,st)},It.useOptimistic=function(k,st){return Z.H.useOptimistic(k,st)},It.useReducer=function(k,st,ct){return Z.H.useReducer(k,st,ct)},It.useRef=function(k){return Z.H.useRef(k)},It.useState=function(k){return Z.H.useState(k)},It.useSyncExternalStore=function(k,st,ct){return Z.H.useSyncExternalStore(k,st,ct)},It.useTransition=function(){return Z.H.useTransition()},It.version="19.1.0",It}var cE;function uy(){return cE||(cE=1,Mp.exports=xC()),Mp.exports}var U=uy();const Ts=Iw(U);var kp={exports:{}},vu={},Lp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function CC(){return hE||(hE=1,function(e){function t(W,at){var ft=W.length;W.push(at);t:for(;0<ft;){var Ct=ft-1>>>1,k=W[Ct];if(0<a(k,at))W[Ct]=at,W[ft]=k,ft=Ct;else break t}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var at=W[0],ft=W.pop();if(ft!==at){W[0]=ft;t:for(var Ct=0,k=W.length,st=k>>>1;Ct<st;){var ct=2*(Ct+1)-1,lt=W[ct],gt=ct+1,Rt=W[gt];if(0>a(lt,ft))gt<k&&0>a(Rt,lt)?(W[Ct]=Rt,W[gt]=ft,Ct=gt):(W[Ct]=lt,W[ct]=ft,Ct=ct);else if(gt<k&&0>a(Rt,ft))W[Ct]=Rt,W[gt]=ft,Ct=gt;else break t}}return at}function a(W,at){var ft=W.sortIndex-at.sortIndex;return ft!==0?ft:W.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,b=3,w=!1,x=!1,L=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function rt(W){for(var at=n(p);at!==null;){if(at.callback===null)r(p);else if(at.startTime<=W)r(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function Z(W){if(L=!1,rt(W),!x)if(n(m)!==null)x=!0,ot||(ot=!0,z());else{var at=n(p);at!==null&&$t(Z,at.startTime-W)}}var ot=!1,O=-1,R=5,I=-1;function M(){return C?!0:!(e.unstable_now()-I<R)}function B(){if(C=!1,ot){var W=e.unstable_now();I=W;var at=!0;try{t:{x=!1,L&&(L=!1,Q(O),O=-1),w=!0;var ft=b;try{e:{for(rt(W),_=n(m);_!==null&&!(_.expirationTime>W&&M());){var Ct=_.callback;if(typeof Ct=="function"){_.callback=null,b=_.priorityLevel;var k=Ct(_.expirationTime<=W);if(W=e.unstable_now(),typeof k=="function"){_.callback=k,rt(W),at=!0;break e}_===n(m)&&r(m),rt(W)}else r(m);_=n(m)}if(_!==null)at=!0;else{var st=n(p);st!==null&&$t(Z,st.startTime-W),at=!1}}break t}finally{_=null,b=ft,w=!1}at=void 0}}finally{at?z():ot=!1}}}var z;if(typeof H=="function")z=function(){H(B)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,oe=P.port2;P.port1.onmessage=B,z=function(){oe.postMessage(null)}}else z=function(){N(B,0)};function $t(W,at){O=N(function(){W(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ft=b;b=at;try{return W()}finally{b=ft}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=b;b=W;try{return at()}finally{b=ft}},e.unstable_scheduleCallback=function(W,at,ft){var Ct=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,W){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ft+k,W={id:y++,callback:at,priorityLevel:W,startTime:ft,expirationTime:k,sortIndex:-1},ft>Ct?(W.sortIndex=ft,t(p,W),n(m)===null&&W===n(p)&&(L?(Q(O),O=-1):L=!0,$t(Z,ft-Ct))):(W.sortIndex=k,t(m,W),x||w||(x=!0,ot||(ot=!0,z()))),W},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(W){var at=b;return function(){var ft=b;b=at;try{return W.apply(this,arguments)}finally{b=ft}}}}(Up)),Up}var fE;function IC(){return fE||(fE=1,Lp.exports=CC()),Lp.exports}var jp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function DC(){if(dE)return nn;dE=1;var e=uy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},nn.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},nn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},nn.requestFormReset=function(m){r.d.r(m)},nn.unstable_batchedUpdates=function(m,p){return m(p)},nn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var mE;function NC(){if(mE)return jp.exports;mE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jp.exports=DC(),jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function PC(){if(pE)return vu;pE=1;var e=IC(),t=uy(),n=NC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,A=d.child;A;){if(A===o){E=!0,o=d,u=g;break}if(A===u){E=!0,u=d,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,u=d;break}if(A===u){E=!0,u=g,o=d;break}A=A.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case C:return"Profiler";case L:return"StrictMode";case Z:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case H:return(i.displayName||"Context")+".Provider";case Q:return(i._context.displayName||"Context")+".Consumer";case rt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:oe(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return oe(i(s))}catch{}}return null}var $t=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],k=-1;function st(i){return{current:i}}function ct(i){0>k||(i.current=Ct[k],Ct[k]=null,k--)}function lt(i,s){k++,Ct[k]=i.current,i.current=s}var gt=st(null),Rt=st(null),vt=st(null),Ae=st(null);function Wt(i,s){switch(lt(vt,s),lt(Rt,i),lt(gt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?MT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=MT(s),i=kT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(gt),lt(gt,i)}function Un(){ct(gt),ct(Rt),ct(vt)}function mi(i){i.memoizedState!==null&&lt(Ae,i);var s=gt.current,o=kT(s,i.type);s!==o&&(lt(Rt,i),lt(gt,o))}function ei(i){Rt.current===i&&(ct(gt),ct(Rt)),Ae.current===i&&(ct(Ae),fu._currentValue=ft)}var Yi=Object.prototype.hasOwnProperty,Qi=e.unstable_scheduleCallback,pi=e.unstable_cancelCallback,Xi=e.unstable_shouldYield,Ua=e.unstable_requestPaint,hn=e.unstable_now,hl=e.unstable_getCurrentPriorityLevel,js=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,Ht=e.unstable_LowPriority,He=e.unstable_IdlePriority,Je=e.log,fn=e.unstable_setDisableYieldValue,ne=null,Yt=null;function Cn(i){if(typeof Je=="function"&&fn(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ne,i)}catch{}}var tn=Math.clz32?Math.clz32:Bs,xc=Math.log,kd=Math.LN2;function Bs(i){return i>>>=0,i===0?32:31-(xc(i)/kd|0)|0}var zs=256,Fs=4194304;function ni(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ja(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?d=ni(u):(E&=A,E!==0?d=ni(E):o||(o=A&~i,o!==0&&(d=ni(o))))):(A=u&~g,A!==0?d=ni(A):E!==0?d=ni(E):o||(o=u&~i,o!==0&&(d=ni(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Hs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function fl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var i=zs;return zs<<=1,(zs&4194048)===0&&(zs=256),i}function ml(){var i=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),i}function Zi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ji(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function pl(i,s,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,D=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-tn(o),nt=1<<J;A[J]=0,D[J]=-1;var $=K[J];if($!==null)for(K[J]=null,J=0;J<$.length;J++){var Y=$[J];Y!==null&&(Y.lane&=-536870913)}o&=~nt}u!==0&&gi(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function gi(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-tn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function gl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-tn(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function jr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ba(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Br(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:eE(i.type))}function Cc(i,s){var o=at.p;try{return at.p=i,s()}finally{at.p=o}}var le=Math.random().toString(36).slice(2),De="__reactFiber$"+le,we="__reactProps$"+le,jn="__reactContainer$"+le,yl="__reactEvents$"+le,Ld="__reactListeners$"+le,zr="__reactHandles$"+le,Ic="__reactResources$"+le,qs="__reactMarker$"+le;function Fr(i){delete i[De],delete i[we],delete i[yl],delete i[Ld],delete i[zr]}function tr(i){var s=i[De];if(s)return s;for(var o=i.parentNode;o;){if(s=o[jn]||o[De]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=BT(i);i!==null;){if(o=i[De])return o;i=BT(i)}return s}i=o,o=i.parentNode}return null}function yi(i){if(i=i[De]||i[jn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function vi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function dn(i){var s=i[Ic];return s||(s=i[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ye(i){i[qs]=!0}var vl=new Set,za={};function ii(i,s){er(i,s),er(i+"Capture",s)}function er(i,s){for(za[i]=s,i=0;i<s.length;i++)vl.add(s[i])}var Dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nc={},Gs={};function Pc(i){return Yi.call(Gs,i)?!0:Yi.call(Nc,i)?!1:Dc.test(i)?Gs[i]=!0:(Nc[i]=!0,!1)}function Hr(i,s,o){if(Pc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function _i(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function qe(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ks,Oc;function nr(i){if(Ks===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ks=s&&s[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+i+Oc}var Fa=!1;function Ha(i,s){if(!i||Fa)return"";Fa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Y){var $=Y}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(Y){$=Y}i.call(nt.prototype)}}else{try{throw Error()}catch(Y){$=Y}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var D=E.split(`
`),K=A.split(`
`);for(d=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===D.length||d===K.length)for(u=D.length-1,d=K.length-1;1<=u&&0<=d&&D[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(D[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||D[u]!==K[d]){var J=`
`+D[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=d);break}}}finally{Fa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?nr(o):""}function _l(i){switch(i.tag){case 26:case 27:case 5:return nr(i.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return Ha(i.type,!1);case 11:return Ha(i.type.render,!1);case 1:return Ha(i.type,!0);case 31:return nr("Activity");default:return""}}function qa(i){try{var s="";do s+=_l(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Tl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ud(i){var s=Tl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ga(i){i._valueTracker||(i._valueTracker=Ud(i))}function El(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Tl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function $s(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jd=/[\n"\\]/g;function Se(i){return i.replace(jd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function In(i,s,o,u,d,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+mn(s)):i.value!==""+mn(s)&&(i.value=""+mn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?qr(i,E,mn(s)):o!=null?qr(i,E,mn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+mn(A):i.removeAttribute("name")}function Ys(i,s,o,u,d,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+mn(o):"",s=s!=null?""+mn(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function qr(i,s,o){s==="number"&&$s(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ir(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+mn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Zt(i,s,o){if(s!=null&&(s=""+mn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+mn(o):""}function Qs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if($t(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=mn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Bn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Xs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function bl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Vc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Vc(i,g,s[g])}function Al(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(i){return zd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var rr=null;function zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sr=null,ar=null;function wl(i){var s=yi(i);if(s&&(i=s.stateNode)){var o=i[we]||null;t:switch(i=s.stateNode,s.type){case"input":if(In(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Se(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[we]||null;if(!d)throw Error(r(90));In(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&El(u)}break t;case"textarea":Zt(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&ir(i,!!o.multiple,s,!1)}}}var Ti=!1;function Mc(i,s,o){if(Ti)return i(s,o);Ti=!0;try{var u=i(s);return u}finally{if(Ti=!1,(sr!==null||ar!==null)&&(Ch(),sr&&(s=sr,i=ar,ar=sr=null,wl(s),i)))for(s=0;s<i.length;s++)wl(i[s])}}function Ws(i,s){var o=i.stateNode;if(o===null)return null;var u=o[we]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ri)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Fn=!1}var Ei=null,Gr=null,or=null;function Sl(){if(or)return or;var i,s=Gr,o=s.length,u,d="value"in Ei?Ei.value:Ei.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===d[g-u];u++);return or=d.slice(i,1<u?1-u:void 0)}function bi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ai(){return!0}function Rl(){return!1}function Le(i){function s(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ai:Rl,this.isPropagationStopped=Rl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),s}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Le(Gt),Js=y({},Gt,{view:0,detail:0}),kc=Le(Js),Ya,Qa,wi,ta=y({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(Ya=i.screenX-wi.screenX,Qa=i.screenY-wi.screenY):Qa=Ya=0,wi=i),Ya)},movementY:function(i){return"movementY"in i?i.movementY:Qa}}),Hn=Le(ta),Lc=y({},ta,{dataTransfer:0}),Fd=Le(Lc),ea=y({},Js,{relatedTarget:0}),Xa=Le(ea),xl=y({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Le(xl),Uc=y({},Gt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Za=Le(Uc),Hd=y({},Gt,{data:0}),Cl=Le(Hd),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Il(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Bc[i])?!!s[i]:!1}function ia(){return Il}var zc=y({},Js,{key:function(i){if(i.key){var s=na[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=bi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(i){return i.type==="keypress"?bi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ja=Le(zc),Fc=y({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Le(Fc),lr=y({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),Hc=Le(lr),qc=y({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gc=Le(qc),Kc=y({},ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),to=Le(Kc),pn=y({},Gt,{newState:0,oldState:0}),$c=Le(pn),Yc=[9,13,27,32],Si=ri&&"CompositionEvent"in window,h=null;ri&&"documentMode"in document&&(h=document.documentMode);var v=ri&&"TextEvent"in window&&!h,T=ri&&(!Si||h&&8<h&&11>=h),S=" ",q=!1;function X(i,s){switch(i){case"keyup":return Yc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ut=!1;function Ne(i,s){switch(i){case"compositionend":return ut(s);case"keypress":return s.which!==32?null:(q=!0,S);case"textInput":return i=s.data,i===S&&q?null:i;default:return null}}function jt(i,s){if(Ut)return i==="compositionend"||!Si&&X(i,s)?(i=Sl(),or=Gr=Ei=null,Ut=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ue[i.type]:s==="textarea"}function ur(i,s,o,u){sr?ar?ar.push(u):ar=[u]:sr=u,s=Vh(s,"onChange"),0<s.length&&(o=new $a("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ge=null,Ri=null;function Nl(i){DT(i,0)}function Qc(i){var s=vi(i);if(El(s))return i}function Wv(i,s){if(i==="change")return s}var Zv=!1;if(ri){var qd;if(ri){var Gd="oninput"in document;if(!Gd){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),Gd=typeof Jv.oninput=="function"}qd=Gd}else qd=!1;Zv=qd&&(!document.documentMode||9<document.documentMode)}function t0(){Ge&&(Ge.detachEvent("onpropertychange",e0),Ri=Ge=null)}function e0(i){if(i.propertyName==="value"&&Qc(Ri)){var s=[];ur(s,Ri,i,zn(i)),Mc(Nl,s)}}function ex(i,s,o){i==="focusin"?(t0(),Ge=s,Ri=o,Ge.attachEvent("onpropertychange",e0)):i==="focusout"&&t0()}function nx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qc(Ri)}function ix(i,s){if(i==="click")return Qc(s)}function rx(i,s){if(i==="input"||i==="change")return Qc(s)}function sx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Dn=typeof Object.is=="function"?Object.is:sx;function Pl(i,s){if(Dn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Yi.call(s,d)||!Dn(i[d],s[d]))return!1}return!0}function n0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function i0(i,s){var o=n0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=n0(o)}}function r0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?r0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function s0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=$s(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=$s(i.document)}return s}function Kd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ax=ri&&"documentMode"in document&&11>=document.documentMode,eo=null,$d=null,Ol=null,Yd=!1;function a0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||eo==null||eo!==$s(u)||(u=eo,"selectionStart"in u&&Kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ol&&Pl(Ol,u)||(Ol=u,u=Vh($d,"onSelect"),0<u.length&&(s=new $a("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=eo)))}function ra(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var no={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Qd={},o0={};ri&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function sa(i){if(Qd[i])return Qd[i];if(!no[i])return i;var s=no[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in o0)return Qd[i]=s[o];return i}var l0=sa("animationend"),u0=sa("animationiteration"),c0=sa("animationstart"),ox=sa("transitionrun"),lx=sa("transitionstart"),ux=sa("transitioncancel"),h0=sa("transitionend"),f0=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function si(i,s){f0.set(i,s),ii(s,[i])}var d0=new WeakMap;function qn(i,s){if(typeof i=="object"&&i!==null){var o=d0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:qa(s)},d0.set(i,s),s)}return{value:i,source:s,stack:qa(s)}}var Gn=[],io=0,Wd=0;function Xc(){for(var i=io,s=Wd=io=0;s<i;){var o=Gn[s];Gn[s++]=null;var u=Gn[s];Gn[s++]=null;var d=Gn[s];Gn[s++]=null;var g=Gn[s];if(Gn[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&m0(o,d,g)}}function Wc(i,s,o,u){Gn[io++]=i,Gn[io++]=s,Gn[io++]=o,Gn[io++]=u,Wd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Zd(i,s,o,u){return Wc(i,s,o,u),Zc(i)}function ro(i,s){return Wc(i,null,null,s),Zc(i)}function m0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-tn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Zc(i){if(50<ru)throw ru=0,rp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var so={};function cx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,o,u){return new cx(i,s,o,u)}function Jd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cr(i,s){var o=i.alternate;return o===null?(o=Nn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function p0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Jc(i,s,o,u,d,g){var E=0;if(u=i,typeof i=="function")Jd(i)&&(E=1);else if(typeof i=="string")E=fC(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Nn(31,o,s,d),i.elementType=I,i.lanes=g,i;case x:return aa(o.children,d,g,s);case L:E=8,d|=24;break;case C:return i=Nn(12,o,s,d|2),i.elementType=C,i.lanes=g,i;case Z:return i=Nn(13,o,s,d),i.elementType=Z,i.lanes=g,i;case ot:return i=Nn(19,o,s,d),i.elementType=ot,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case H:E=10;break t;case Q:E=9;break t;case rt:E=11;break t;case O:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Nn(E,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function aa(i,s,o,u){return i=Nn(7,i,u,s),i.lanes=o,i}function tm(i,s,o){return i=Nn(6,i,null,s),i.lanes=o,i}function em(i,s,o){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ao=[],oo=0,th=null,eh=0,Kn=[],$n=0,oa=null,hr=1,fr="";function la(i,s){ao[oo++]=eh,ao[oo++]=th,th=i,eh=s}function g0(i,s,o){Kn[$n++]=hr,Kn[$n++]=fr,Kn[$n++]=oa,oa=i;var u=hr;i=fr;var d=32-tn(u)-1;u&=~(1<<d),o+=1;var g=32-tn(s)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,hr=1<<32-tn(s)+d|o<<d|u,fr=g+i}else hr=1<<g|o<<d|u,fr=i}function nm(i){i.return!==null&&(la(i,1),g0(i,1,0))}function im(i){for(;i===th;)th=ao[--oo],ao[oo]=null,eh=ao[--oo],ao[oo]=null;for(;i===oa;)oa=Kn[--$n],Kn[$n]=null,fr=Kn[--$n],Kn[$n]=null,hr=Kn[--$n],Kn[$n]=null}var gn=null,me=null,qt=!1,ua=null,xi=!1,rm=Error(r(519));function ca(i){var s=Error(r(418,""));throw kl(qn(s,i)),rm}function y0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[De]=i,s[we]=u,o){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(o=0;o<au.length;o++)Mt(au[o],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),Ys(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ga(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Qs(s,u.value,u.defaultValue,u.children),Ga(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||VT(s.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),u.onScroll!=null&&Mt("scroll",s),u.onScrollEnd!=null&&Mt("scrollend",s),u.onClick!=null&&(s.onclick=Mh),s=!0):s=!1,s||ca(i)}function v0(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:gn=gn.return}}function Vl(i){if(i!==gn)return!1;if(!qt)return v0(i),qt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Tp(i.type,i.memoizedProps)),o=!o),o&&me&&ca(i),v0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){me=oi(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}me=null}}else s===27?(s=me,os(i.type)?(i=wp,wp=null,me=i):me=s):me=gn?oi(i.stateNode.nextSibling):null;return!0}function Ml(){me=gn=null,qt=!1}function _0(){var i=ua;return i!==null&&(An===null?An=i:An.push.apply(An,i),ua=null),i}function kl(i){ua===null?ua=[i]:ua.push(i)}var sm=st(null),ha=null,dr=null;function Kr(i,s,o){lt(sm,s._currentValue),s._currentValue=o}function mr(i){i._currentValue=sm.current,ct(sm)}function am(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function om(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=d;for(var D=0;D<s.length;D++)if(A.context===s[D]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),am(g.return,o,i),u||(E=null);break t}g=A.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),am(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Ll(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=d.type;Dn(d.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(d===Ae.current){if(E=d.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(fu):i=[fu])}d=d.return}i!==null&&om(s,i,o,u),s.flags|=262144}function nh(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fa(i){ha=i,dr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function en(i){return T0(ha,i)}function ih(i,s){return ha===null&&fa(i),T0(i,s)}function T0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},dr===null){if(i===null)throw Error(r(308));dr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else dr=dr.next=s;return o}var hx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},fx=e.unstable_scheduleCallback,dx=e.unstable_NormalPriority,Oe={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new hx,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&fx(dx,function(){i.controller.abort()})}var jl=null,um=0,lo=0,uo=null;function mx(i,s){if(jl===null){var o=jl=[];um=0,lo=hp(),uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return um++,s.then(E0,E0),s}function E0(){if(--um===0&&jl!==null){uo!==null&&(uo.status="fulfilled");var i=jl;jl=null,lo=0,uo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function px(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var b0=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&mx(i,s),b0!==null&&b0(i,s)};var da=st(null);function cm(){var i=da.current;return i!==null?i:re.pooledCache}function rh(i,s){s===null?lt(da,da.current):lt(da,s.pool)}function A0(){var i=cm();return i===null?null:{parent:Oe._currentValue,pool:i}}var Bl=Error(r(460)),w0=Error(r(474)),sh=Error(r(542)),hm={then:function(){}};function S0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ah(){}function R0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ah,ah),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,C0(i),i;default:if(typeof s.status=="string")s.then(ah,ah);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,C0(i),i}throw zl=s,Bl}}var zl=null;function x0(){if(zl===null)throw Error(r(459));var i=zl;return zl=null,i}function C0(i){if(i===Bl||i===sh)throw Error(r(483))}var $r=!1;function fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Yr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Qr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Zc(i),m0(i,null,o),s}return Wc(i,u,s,o),Zc(i)}function Fl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,gl(i,o)}}function mm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var pm=!1;function Hl(){if(pm){var i=uo;if(i!==null)throw i}}function ql(i,s,o,u){pm=!1;var d=i.updateQueue;$r=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var D=A,K=D.next;D.next=null,E===null?g=K:E.next=K,E=D;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=K:A.next=K,J.lastBaseUpdate=D))}if(g!==null){var nt=d.baseState;E=0,J=K=D=null,A=g;do{var $=A.lane&-536870913,Y=$!==A.lane;if(Y?(Bt&$)===$:(u&$)===$){$!==0&&$===lo&&(pm=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var At=i,_t=A;$=s;var ee=o;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){nt=At.call(ee,nt,$);break t}nt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,$=typeof At=="function"?At.call(ee,nt,$):At,$==null)break t;nt=y({},nt,$);break t;case 2:$r=!0}}$=A.callback,$!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[$]:Y.push($))}else Y={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(K=J=Y,D=nt):J=J.next=Y,E|=$;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);J===null&&(D=nt),d.baseState=D,d.firstBaseUpdate=K,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),is|=E,i.lanes=E,i.memoizedState=nt}}function I0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function D0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)I0(o[i],s)}var co=st(null),oh=st(0);function N0(i,s){i=Er,lt(oh,i),lt(co,s),Er=i|s.baseLanes}function gm(){lt(oh,Er),lt(co,co.current)}function ym(){Er=oh.current,ct(co),ct(oh)}var Xr=0,Dt=null,Jt=null,Re=null,lh=!1,ho=!1,ma=!1,uh=0,Gl=0,fo=null,gx=0;function ve(){throw Error(r(321))}function vm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Dn(i[o],s[o]))return!1;return!0}function _m(i,s,o,u,d,g){return Xr=g,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?m_:p_,ma=!1,g=o(u,d),ma=!1,ho&&(g=O0(s,o,u,d)),P0(i),g}function P0(i){W.H=ph;var s=Jt!==null&&Jt.next!==null;if(Xr=0,Re=Jt=Dt=null,lh=!1,Gl=0,fo=null,s)throw Error(r(300));i===null||je||(i=i.dependencies,i!==null&&nh(i)&&(je=!0))}function O0(i,s,o,u){Dt=i;var d=0;do{if(ho&&(fo=null),Gl=0,ho=!1,25<=d)throw Error(r(301));if(d+=1,Re=Jt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=Ax,g=s(o,u)}while(ho);return g}function yx(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Kl(s):s,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Dt.flags|=1024),s}function Tm(){var i=uh!==0;return uh=0,i}function Em(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function bm(i){if(lh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}lh=!1}Xr=0,Re=Jt=Dt=null,ho=!1,Gl=uh=0,fo=null}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=i:Re=Re.next=i,Re}function xe(){if(Jt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var s=Re===null?Dt.memoizedState:Re.next;if(s!==null)Re=s,Jt=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Dt.memoizedState=Re=i:Re=Re.next=i}return Re}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(i){var s=Gl;return Gl+=1,fo===null&&(fo=[]),i=R0(fo,i,s),s=Dt,(Re===null?s.memoizedState:Re.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?m_:p_),i}function ch(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Kl(i);if(i.$$typeof===H)return en(i)}throw Error(r(438,String(i)))}function wm(i){var s=null,o=Dt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Am(),Dt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=M;return s.index++,o}function pr(i,s){return typeof s=="function"?s(i):s}function hh(i){var s=xe();return Sm(s,Jt,i)}function Sm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var A=E=null,D=null,K=s,J=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(Bt&nt)===nt:(Xr&nt)===nt){var $=K.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===lo&&(J=!0);else if((Xr&$)===$){K=K.next,$===lo&&(J=!0);continue}else nt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=nt,E=g):D=D.next=nt,Dt.lanes|=$,is|=$;nt=K.action,ma&&o(g,nt),g=K.hasEagerState?K.eagerState:o(g,nt)}else $={lane:nt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=$,E=g):D=D.next=$,Dt.lanes|=nt,is|=nt;K=K.next}while(K!==null&&K!==s);if(D===null?E=g:D.next=A,!Dn(g,i.memoizedState)&&(je=!0,J&&(o=uo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=D,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Rm(i){var s=xe(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);Dn(g,s.memoizedState)||(je=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function V0(i,s,o){var u=Dt,d=xe(),g=qt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Dn((Jt||d).memoizedState,o);E&&(d.memoizedState=o,je=!0),d=d.queue;var A=L0.bind(null,u,d,i);if($l(2048,8,A,[i]),d.getSnapshot!==s||E||Re!==null&&Re.memoizedState.tag&1){if(u.flags|=2048,mo(9,fh(),k0.bind(null,u,d,o,s),null),re===null)throw Error(r(349));g||(Xr&124)!==0||M0(u,s,o)}return o}function M0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Dt.updateQueue,s===null?(s=Am(),Dt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function k0(i,s,o,u){s.value=o,s.getSnapshot=u,U0(s)&&j0(i)}function L0(i,s,o){return o(function(){U0(s)&&j0(i)})}function U0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Dn(i,o)}catch{return!0}}function j0(i){var s=ro(i,2);s!==null&&kn(s,i,2)}function xm(i){var s=En();if(typeof i=="function"){var o=i;if(i=o(),ma){Cn(!0);try{o()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:i},s}function B0(i,s,o,u){return i.baseState=o,Sm(i,Jt,typeof u=="function"?u:pr)}function vx(i,s,o,u,d){if(mh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,z0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function z0(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=W.T,E={};W.T=E;try{var A=o(d,u),D=W.S;D!==null&&D(E,A),F0(i,s,A)}catch(K){Cm(i,s,K)}finally{W.T=g}}else try{g=o(d,u),F0(i,s,g)}catch(K){Cm(i,s,K)}}function F0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){H0(i,s,u)},function(u){return Cm(i,s,u)}):H0(i,s,o)}function H0(i,s,o){s.status="fulfilled",s.value=o,q0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,z0(i,o)))}function Cm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,q0(s),s=s.next;while(s!==u)}i.action=null}function q0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function G0(i,s){return s}function K0(i,s){if(qt){var o=re.formState;if(o!==null){t:{var u=Dt;if(qt){if(me){e:{for(var d=me,g=xi;d.nodeType!==8;){if(!g){d=null;break e}if(d=oi(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){me=oi(d.nextSibling),u=d.data==="F!";break t}}ca(u)}u=!1}u&&(s=o[0])}}return o=En(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:s},o.queue=u,o=h_.bind(null,Dt,u),u.dispatch=o,u=xm(!1),g=Om.bind(null,Dt,!1,u.queue),u=En(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=vx.bind(null,Dt,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function $0(i){var s=xe();return Y0(s,Jt,i)}function Y0(i,s,o){if(s=Sm(i,s,G0)[0],i=hh(pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Kl(s)}catch(E){throw E===Bl?sh:E}else u=s;s=xe();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Dt.flags|=2048,mo(9,fh(),_x.bind(null,d,o),null)),[u,g,i]}function _x(i,s){i.action=s}function Q0(i){var s=xe(),o=Jt;if(o!==null)return Y0(s,o,i);xe(),s=s.memoizedState,o=xe();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function mo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=Am(),Dt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function fh(){return{destroy:void 0,resource:void 0}}function X0(){return xe().memoizedState}function dh(i,s,o,u){var d=En();u=u===void 0?null:u,Dt.flags|=i,d.memoizedState=mo(1|s,fh(),o,u)}function $l(i,s,o,u){var d=xe();u=u===void 0?null:u;var g=d.memoizedState.inst;Jt!==null&&u!==null&&vm(u,Jt.memoizedState.deps)?d.memoizedState=mo(s,g,o,u):(Dt.flags|=i,d.memoizedState=mo(1|s,g,o,u))}function W0(i,s){dh(8390656,8,i,s)}function Z0(i,s){$l(2048,8,i,s)}function J0(i,s){return $l(4,2,i,s)}function t_(i,s){return $l(4,4,i,s)}function e_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function n_(i,s,o){o=o!=null?o.concat([i]):null,$l(4,4,e_.bind(null,s,i),o)}function Im(){}function i_(i,s){var o=xe();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&vm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function r_(i,s){var o=xe();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&vm(s,u[1]))return u[0];if(u=i(),ma){Cn(!0);try{i()}finally{Cn(!1)}}return o.memoizedState=[u,s],u}function Dm(i,s,o){return o===void 0||(Xr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=oT(),Dt.lanes|=i,is|=i,o)}function s_(i,s,o,u){return Dn(o,s)?o:co.current!==null?(i=Dm(i,o,u),Dn(i,s)||(je=!0),i):(Xr&42)===0?(je=!0,i.memoizedState=o):(i=oT(),Dt.lanes|=i,is|=i,s)}function a_(i,s,o,u,d){var g=at.p;at.p=g!==0&&8>g?g:8;var E=W.T,A={};W.T=A,Om(i,!1,s,o);try{var D=d(),K=W.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=px(D,u);Yl(i,s,J,Mn(i))}else Yl(i,s,u,Mn(i))}catch(nt){Yl(i,s,{then:function(){},status:"rejected",reason:nt},Mn())}finally{at.p=g,W.T=E}}function Tx(){}function Nm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=o_(i).queue;a_(i,d,s,ft,o===null?Tx:function(){return l_(i),o(u)})}function o_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function l_(i){var s=o_(i).next.queue;Yl(i,s,{},Mn())}function Pm(){return en(fu)}function u_(){return xe().memoizedState}function c_(){return xe().memoizedState}function Ex(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Mn();i=Yr(o);var u=Qr(s,i,o);u!==null&&(kn(u,s,o),Fl(u,s,o)),s={cache:lm()},i.payload=s;return}s=s.return}}function bx(i,s,o){var u=Mn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},mh(i)?f_(s,o):(o=Zd(i,s,o,u),o!==null&&(kn(o,i,u),d_(o,s,u)))}function h_(i,s,o){var u=Mn();Yl(i,s,o,u)}function Yl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(i))f_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,o);if(d.hasEagerState=!0,d.eagerState=A,Dn(A,E))return Wc(i,s,d,0),re===null&&Xc(),!1}catch{}finally{}if(o=Zd(i,s,d,u),o!==null)return kn(o,i,u),d_(o,s,u),!0}return!1}function Om(i,s,o,u){if(u={lane:2,revertLane:hp(),action:u,hasEagerState:!1,eagerState:null,next:null},mh(i)){if(s)throw Error(r(479))}else s=Zd(i,o,u,2),s!==null&&kn(s,i,2)}function mh(i){var s=i.alternate;return i===Dt||s!==null&&s===Dt}function f_(i,s){ho=lh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function d_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,gl(i,o)}}var ph={readContext:en,use:ch,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},m_={readContext:en,use:ch,useCallback:function(i,s){return En().memoizedState=[i,s===void 0?null:s],i},useContext:en,useEffect:W0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,dh(4194308,4,e_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return dh(4194308,4,i,s)},useInsertionEffect:function(i,s){dh(4,2,i,s)},useMemo:function(i,s){var o=En();s=s===void 0?null:s;var u=i();if(ma){Cn(!0);try{i()}finally{Cn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=En();if(o!==void 0){var d=o(s);if(ma){Cn(!0);try{o(s)}finally{Cn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=bx.bind(null,Dt,i),[u.memoizedState,i]},useRef:function(i){var s=En();return i={current:i},s.memoizedState=i},useState:function(i){i=xm(i);var s=i.queue,o=h_.bind(null,Dt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(i,s){var o=En();return Dm(o,i,s)},useTransition:function(){var i=xm(!1);return i=a_.bind(null,Dt,i.queue,!0,!1),En().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Dt,d=En();if(qt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),re===null)throw Error(r(349));(Bt&124)!==0||M0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,W0(L0.bind(null,u,g,i),[i]),u.flags|=2048,mo(9,fh(),k0.bind(null,u,g,o,s),null),o},useId:function(){var i=En(),s=re.identifierPrefix;if(qt){var o=fr,u=hr;o=(u&~(1<<32-tn(u)-1)).toString(32)+o,s=""+s+"R"+o,o=uh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=gx++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Pm,useFormState:K0,useActionState:K0,useOptimistic:function(i){var s=En();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Om.bind(null,Dt,!0,o),o.dispatch=s,[i,s]},useMemoCache:wm,useCacheRefresh:function(){return En().memoizedState=Ex.bind(null,Dt)}},p_={readContext:en,use:ch,useCallback:i_,useContext:en,useEffect:Z0,useImperativeHandle:n_,useInsertionEffect:J0,useLayoutEffect:t_,useMemo:r_,useReducer:hh,useRef:X0,useState:function(){return hh(pr)},useDebugValue:Im,useDeferredValue:function(i,s){var o=xe();return s_(o,Jt.memoizedState,i,s)},useTransition:function(){var i=hh(pr)[0],s=xe().memoizedState;return[typeof i=="boolean"?i:Kl(i),s]},useSyncExternalStore:V0,useId:u_,useHostTransitionStatus:Pm,useFormState:$0,useActionState:$0,useOptimistic:function(i,s){var o=xe();return B0(o,Jt,i,s)},useMemoCache:wm,useCacheRefresh:c_},Ax={readContext:en,use:ch,useCallback:i_,useContext:en,useEffect:Z0,useImperativeHandle:n_,useInsertionEffect:J0,useLayoutEffect:t_,useMemo:r_,useReducer:Rm,useRef:X0,useState:function(){return Rm(pr)},useDebugValue:Im,useDeferredValue:function(i,s){var o=xe();return Jt===null?Dm(o,i,s):s_(o,Jt.memoizedState,i,s)},useTransition:function(){var i=Rm(pr)[0],s=xe().memoizedState;return[typeof i=="boolean"?i:Kl(i),s]},useSyncExternalStore:V0,useId:u_,useHostTransitionStatus:Pm,useFormState:Q0,useActionState:Q0,useOptimistic:function(i,s){var o=xe();return Jt!==null?B0(o,Jt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:wm,useCacheRefresh:c_},po=null,Ql=0;function gh(i){var s=Ql;return Ql+=1,po===null&&(po=[]),R0(po,i,s)}function Xl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function yh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function g_(i){var s=i._init;return s(i._payload)}function y_(i){function s(F,j){if(i){var G=F.deletions;G===null?(F.deletions=[j],F.flags|=16):G.push(j)}}function o(F,j){if(!i)return null;for(;j!==null;)s(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function d(F,j){return F=cr(F,j),F.index=0,F.sibling=null,F}function g(F,j,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<j?(F.flags|=67108866,j):G):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function E(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,j,G,tt){return j===null||j.tag!==6?(j=tm(G,F.mode,tt),j.return=F,j):(j=d(j,G),j.return=F,j)}function D(F,j,G,tt){var mt=G.type;return mt===x?J(F,j,G.props.children,tt,G.key):j!==null&&(j.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&g_(mt)===j.type)?(j=d(j,G.props),Xl(j,G),j.return=F,j):(j=Jc(G.type,G.key,G.props,null,F.mode,tt),Xl(j,G),j.return=F,j)}function K(F,j,G,tt){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=em(G,F.mode,tt),j.return=F,j):(j=d(j,G.children||[]),j.return=F,j)}function J(F,j,G,tt,mt){return j===null||j.tag!==7?(j=aa(G,F.mode,tt,mt),j.return=F,j):(j=d(j,G),j.return=F,j)}function nt(F,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=tm(""+j,F.mode,G),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return G=Jc(j.type,j.key,j.props,null,F.mode,G),Xl(G,j),G.return=F,G;case w:return j=em(j,F.mode,G),j.return=F,j;case R:var tt=j._init;return j=tt(j._payload),nt(F,j,G)}if($t(j)||z(j))return j=aa(j,F.mode,G,null),j.return=F,j;if(typeof j.then=="function")return nt(F,gh(j),G);if(j.$$typeof===H)return nt(F,ih(F,j),G);yh(F,j)}return null}function $(F,j,G,tt){var mt=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return mt!==null?null:A(F,j,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===mt?D(F,j,G,tt):null;case w:return G.key===mt?K(F,j,G,tt):null;case R:return mt=G._init,G=mt(G._payload),$(F,j,G,tt)}if($t(G)||z(G))return mt!==null?null:J(F,j,G,tt,null);if(typeof G.then=="function")return $(F,j,gh(G),tt);if(G.$$typeof===H)return $(F,j,ih(F,G),tt);yh(F,G)}return null}function Y(F,j,G,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return F=F.get(G)||null,A(j,F,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return F=F.get(tt.key===null?G:tt.key)||null,D(j,F,tt,mt);case w:return F=F.get(tt.key===null?G:tt.key)||null,K(j,F,tt,mt);case R:var Pt=tt._init;return tt=Pt(tt._payload),Y(F,j,G,tt,mt)}if($t(tt)||z(tt))return F=F.get(G)||null,J(j,F,tt,mt,null);if(typeof tt.then=="function")return Y(F,j,G,gh(tt),mt);if(tt.$$typeof===H)return Y(F,j,G,ih(j,tt),mt);yh(j,tt)}return null}function At(F,j,G,tt){for(var mt=null,Pt=null,pt=j,Tt=j=0,ze=null;pt!==null&&Tt<G.length;Tt++){pt.index>Tt?(ze=pt,pt=null):ze=pt.sibling;var Ft=$(F,pt,G[Tt],tt);if(Ft===null){pt===null&&(pt=ze);break}i&&pt&&Ft.alternate===null&&s(F,pt),j=g(Ft,j,Tt),Pt===null?mt=Ft:Pt.sibling=Ft,Pt=Ft,pt=ze}if(Tt===G.length)return o(F,pt),qt&&la(F,Tt),mt;if(pt===null){for(;Tt<G.length;Tt++)pt=nt(F,G[Tt],tt),pt!==null&&(j=g(pt,j,Tt),Pt===null?mt=pt:Pt.sibling=pt,Pt=pt);return qt&&la(F,Tt),mt}for(pt=u(pt);Tt<G.length;Tt++)ze=Y(pt,F,Tt,G[Tt],tt),ze!==null&&(i&&ze.alternate!==null&&pt.delete(ze.key===null?Tt:ze.key),j=g(ze,j,Tt),Pt===null?mt=ze:Pt.sibling=ze,Pt=ze);return i&&pt.forEach(function(fs){return s(F,fs)}),qt&&la(F,Tt),mt}function _t(F,j,G,tt){if(G==null)throw Error(r(151));for(var mt=null,Pt=null,pt=j,Tt=j=0,ze=null,Ft=G.next();pt!==null&&!Ft.done;Tt++,Ft=G.next()){pt.index>Tt?(ze=pt,pt=null):ze=pt.sibling;var fs=$(F,pt,Ft.value,tt);if(fs===null){pt===null&&(pt=ze);break}i&&pt&&fs.alternate===null&&s(F,pt),j=g(fs,j,Tt),Pt===null?mt=fs:Pt.sibling=fs,Pt=fs,pt=ze}if(Ft.done)return o(F,pt),qt&&la(F,Tt),mt;if(pt===null){for(;!Ft.done;Tt++,Ft=G.next())Ft=nt(F,Ft.value,tt),Ft!==null&&(j=g(Ft,j,Tt),Pt===null?mt=Ft:Pt.sibling=Ft,Pt=Ft);return qt&&la(F,Tt),mt}for(pt=u(pt);!Ft.done;Tt++,Ft=G.next())Ft=Y(pt,F,Tt,Ft.value,tt),Ft!==null&&(i&&Ft.alternate!==null&&pt.delete(Ft.key===null?Tt:Ft.key),j=g(Ft,j,Tt),Pt===null?mt=Ft:Pt.sibling=Ft,Pt=Ft);return i&&pt.forEach(function(wC){return s(F,wC)}),qt&&la(F,Tt),mt}function ee(F,j,G,tt){if(typeof G=="object"&&G!==null&&G.type===x&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var mt=G.key;j!==null;){if(j.key===mt){if(mt=G.type,mt===x){if(j.tag===7){o(F,j.sibling),tt=d(j,G.props.children),tt.return=F,F=tt;break t}}else if(j.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&g_(mt)===j.type){o(F,j.sibling),tt=d(j,G.props),Xl(tt,G),tt.return=F,F=tt;break t}o(F,j);break}else s(F,j);j=j.sibling}G.type===x?(tt=aa(G.props.children,F.mode,tt,G.key),tt.return=F,F=tt):(tt=Jc(G.type,G.key,G.props,null,F.mode,tt),Xl(tt,G),tt.return=F,F=tt)}return E(F);case w:t:{for(mt=G.key;j!==null;){if(j.key===mt)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(F,j.sibling),tt=d(j,G.children||[]),tt.return=F,F=tt;break t}else{o(F,j);break}else s(F,j);j=j.sibling}tt=em(G,F.mode,tt),tt.return=F,F=tt}return E(F);case R:return mt=G._init,G=mt(G._payload),ee(F,j,G,tt)}if($t(G))return At(F,j,G,tt);if(z(G)){if(mt=z(G),typeof mt!="function")throw Error(r(150));return G=mt.call(G),_t(F,j,G,tt)}if(typeof G.then=="function")return ee(F,j,gh(G),tt);if(G.$$typeof===H)return ee(F,j,ih(F,G),tt);yh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(F,j.sibling),tt=d(j,G),tt.return=F,F=tt):(o(F,j),tt=tm(G,F.mode,tt),tt.return=F,F=tt),E(F)):o(F,j)}return function(F,j,G,tt){try{Ql=0;var mt=ee(F,j,G,tt);return po=null,mt}catch(pt){if(pt===Bl||pt===sh)throw pt;var Pt=Nn(29,pt,null,F.mode);return Pt.lanes=tt,Pt.return=F,Pt}finally{}}}var go=y_(!0),v_=y_(!1),Yn=st(null),Ci=null;function Wr(i){var s=i.alternate;lt(Ve,Ve.current&1),lt(Yn,i),Ci===null&&(s===null||co.current!==null||s.memoizedState!==null)&&(Ci=i)}function __(i){if(i.tag===22){if(lt(Ve,Ve.current),lt(Yn,i),Ci===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ci=i)}}else Zr()}function Zr(){lt(Ve,Ve.current),lt(Yn,Yn.current)}function gr(i){ct(Yn),Ci===i&&(Ci=null),ct(Ve)}var Ve=st(0);function vh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ap(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Vm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Mm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Mn(),d=Yr(u);d.payload=s,o!=null&&(d.callback=o),s=Qr(i,d,u),s!==null&&(kn(s,i,u),Fl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Mn(),d=Yr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Qr(i,d,u),s!==null&&(kn(s,i,u),Fl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Mn(),u=Yr(o);u.tag=2,s!=null&&(u.callback=s),s=Qr(i,u,o),s!==null&&(kn(s,i,o),Fl(s,i,o))}};function T_(i,s,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Pl(o,u)||!Pl(d,g):!0}function E_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Mm.enqueueReplaceState(s,s.state,null)}function pa(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var _h=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function b_(i){_h(i)}function A_(i){console.error(i)}function w_(i){_h(i)}function Th(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function S_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function km(i,s,o){return o=Yr(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(i,s)},o}function R_(i){return i=Yr(i),i.tag=3,i}function x_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){S_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){S_(s,o,u),typeof d!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function wx(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ll(s,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return Ci===null?ap():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===hm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),lp(i,u,d)),!1;case 22:return o.flags|=65536,u===hm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),lp(i,u,d)),!1}throw Error(r(435,o.tag))}return lp(i,u,d),ap(),!1}if(qt)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==rm&&(i=Error(r(422),{cause:u}),kl(qn(i,o)))):(u!==rm&&(s=Error(r(423),{cause:u}),kl(qn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=qn(u,o),d=km(i.stateNode,u,d),mm(i,d),pe!==4&&(pe=2)),!1;var g=Error(r(520),{cause:u});if(g=qn(g,o),iu===null?iu=[g]:iu.push(g),pe!==4&&(pe=2),s===null)return!0;u=qn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=km(o.stateNode,u,i),mm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rs===null||!rs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=R_(d),x_(d,i,o,u),mm(o,d),!1}o=o.return}while(o!==null);return!1}var C_=Error(r(461)),je=!1;function Ke(i,s,o,u){s.child=i===null?v_(s,null,o,u):go(s,i.child,o,u)}function I_(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return fa(s),u=_m(i,s,o,E,g,d),A=Tm(),i!==null&&!je?(Em(i,s,d),yr(i,s,d)):(qt&&A&&nm(s),s.flags|=1,Ke(i,s,u,d),s.child)}function D_(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Jd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,N_(i,s,g,u,d)):(i=Jc(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!qm(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Pl,o(E,u)&&i.ref===s.ref)return yr(i,s,d)}return s.flags|=1,i=cr(g,u),i.ref=s.ref,i.return=s,s.child=i}function N_(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Pl(g,u)&&i.ref===s.ref)if(je=!1,s.pendingProps=u=g,qm(i,d))(i.flags&131072)!==0&&(je=!0);else return s.lanes=i.lanes,yr(i,s,d)}return Lm(i,s,o,u,d)}function P_(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return O_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&rh(s,g!==null?g.cachePool:null),g!==null?N0(s,g):gm(),__(s);else return s.lanes=s.childLanes=536870912,O_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(rh(s,g.cachePool),N0(s,g),Zr(),s.memoizedState=null):(i!==null&&rh(s,null),gm(),Zr());return Ke(i,s,d,o),s.child}function O_(i,s,o,u){var d=cm();return d=d===null?null:{parent:Oe._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&rh(s,null),gm(),__(s),i!==null&&Ll(i,s,u,!0),null}function Eh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Lm(i,s,o,u,d){return fa(s),o=_m(i,s,o,u,void 0,d),u=Tm(),i!==null&&!je?(Em(i,s,d),yr(i,s,d)):(qt&&u&&nm(s),s.flags|=1,Ke(i,s,o,d),s.child)}function V_(i,s,o,u,d,g){return fa(s),s.updateQueue=null,o=O0(s,u,o,d),P0(i),u=Tm(),i!==null&&!je?(Em(i,s,g),yr(i,s,g)):(qt&&u&&nm(s),s.flags|=1,Ke(i,s,o,g),s.child)}function M_(i,s,o,u,d){if(fa(s),s.stateNode===null){var g=so,E=o.contextType;typeof E=="object"&&E!==null&&(g=en(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Mm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},fm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?en(E):so,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Vm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Mm.enqueueReplaceState(g,g.state,null),ql(s,u,g,d),Hl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,D=pa(o,A);g.props=D;var K=g.context,J=o.contextType;E=so,typeof J=="object"&&J!==null&&(E=en(J));var nt=o.getDerivedStateFromProps;J=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==E)&&E_(s,g,u,E),$r=!1;var $=s.memoizedState;g.state=$,ql(s,u,g,d),Hl(),K=s.memoizedState,A||$!==K||$r?(typeof nt=="function"&&(Vm(s,o,nt,u),K=s.memoizedState),(D=$r||T_(s,o,D,u,$,K,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=E,u=D):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,dm(i,s),E=s.memoizedProps,J=pa(o,E),g.props=J,nt=s.pendingProps,$=g.context,K=o.contextType,D=so,typeof K=="object"&&K!==null&&(D=en(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==nt||$!==D)&&E_(s,g,u,D),$r=!1,$=s.memoizedState,g.state=$,ql(s,u,g,d),Hl();var Y=s.memoizedState;E!==nt||$!==Y||$r||i!==null&&i.dependencies!==null&&nh(i.dependencies)?(typeof A=="function"&&(Vm(s,o,A,u),Y=s.memoizedState),(J=$r||T_(s,o,J,u,$,Y,D)||i!==null&&i.dependencies!==null&&nh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Y,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Y,D)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=D,u=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Eh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=go(s,i.child,null,d),s.child=go(s,null,o,d)):Ke(i,s,o,d),s.memoizedState=g.state,i=s.child):i=yr(i,s,d),i}function k_(i,s,o,u){return Ml(),s.flags|=256,Ke(i,s,o,u),s.child}var Um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(i){return{baseLanes:i,cachePool:A0()}}function Bm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Qn),i}function L_(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ve.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(d?Wr(s):Zr(),qt){var A=me,D;if(D=A){t:{for(D=A,A=xi;D.nodeType!==8;){if(!A){A=null;break t}if(D=oi(D.nextSibling),D===null){A=null;break t}}A=D}A!==null?(s.memoizedState={dehydrated:A,treeContext:oa!==null?{id:hr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},D=Nn(18,null,null,0),D.stateNode=A,D.return=s,s.child=D,gn=s,me=null,D=!0):D=!1}D||ca(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Ap(A)?s.lanes=32:s.lanes=536870912,null;gr(s)}return A=u.children,u=u.fallback,d?(Zr(),d=s.mode,A=bh({mode:"hidden",children:A},d),u=aa(u,d,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,d=s.child,d.memoizedState=jm(o),d.childLanes=Bm(i,E,o),s.memoizedState=Um,u):(Wr(s),zm(s,A))}if(D=i.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(g)s.flags&256?(Wr(s),s.flags&=-257,s=Fm(i,s,o)):s.memoizedState!==null?(Zr(),s.child=i.child,s.flags|=128,s=null):(Zr(),d=u.fallback,A=s.mode,u=bh({mode:"visible",children:u.children},A),d=aa(d,A,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,go(s,i.child,null,o),u=s.child,u.memoizedState=jm(o),u.childLanes=Bm(i,E,o),s.memoizedState=Um,s=d);else if(Wr(s),Ap(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(r(419)),u.stack="",u.digest=E,kl({value:u,source:null,stack:null}),s=Fm(i,s,o)}else if(je||Ll(i,s,o,!1),E=(o&i.childLanes)!==0,je||E){if(E=re,E!==null&&(u=o&-o,u=(u&42)!==0?1:jr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,ro(i,u),kn(E,i,u),C_;A.data==="$?"||ap(),s=Fm(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,me=oi(A.nextSibling),gn=s,qt=!0,ua=null,xi=!1,i!==null&&(Kn[$n++]=hr,Kn[$n++]=fr,Kn[$n++]=oa,hr=i.id,fr=i.overflow,oa=s),s=zm(s,u.children),s.flags|=4096);return s}return d?(Zr(),d=u.fallback,A=s.mode,D=i.child,K=D.sibling,u=cr(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?d=cr(K,d):(d=aa(d,A,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,A=i.child.memoizedState,A===null?A=jm(o):(D=A.cachePool,D!==null?(K=Oe._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=A0(),A={baseLanes:A.baseLanes|o,cachePool:D}),d.memoizedState=A,d.childLanes=Bm(i,E,o),s.memoizedState=Um,u):(Wr(s),o=i.child,i=o.sibling,o=cr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function zm(i,s){return s=bh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function bh(i,s){return i=Nn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Fm(i,s,o){return go(s,i.child,null,o),i=zm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function U_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),am(i.return,s,o)}function Hm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function j_(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Ke(i,s,u.children,o),u=Ve.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&U_(i,o,s);else if(i.tag===19)U_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(lt(Ve,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&vh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Hm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&vh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Hm(s,!0,o,null,g);break;case"together":Hm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function yr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),is|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ll(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=cr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=cr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function qm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&nh(i)))}function Sx(i,s,o){switch(s.tag){case 3:Wt(s,s.stateNode.containerInfo),Kr(s,Oe,i.memoizedState.cache),Ml();break;case 27:case 5:mi(s);break;case 4:Wt(s,s.stateNode.containerInfo);break;case 10:Kr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Wr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?L_(i,s,o):(Wr(s),i=yr(i,s,o),i!==null?i.sibling:null);Wr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ll(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return j_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),lt(Ve,Ve.current),u)break;return null;case 22:case 23:return s.lanes=0,P_(i,s,o);case 24:Kr(s,Oe,i.memoizedState.cache)}return yr(i,s,o)}function B_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)je=!0;else{if(!qm(i,o)&&(s.flags&128)===0)return je=!1,Sx(i,s,o);je=(i.flags&131072)!==0}else je=!1,qt&&(s.flags&1048576)!==0&&g0(s,eh,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Jd(u)?(i=pa(u,i),s.tag=1,s=M_(null,s,u,i,o)):(s.tag=0,s=Lm(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===rt){s.tag=11,s=I_(null,s,u,i,o);break t}else if(d===O){s.tag=14,s=D_(null,s,u,i,o);break t}}throw s=oe(u)||u,Error(r(306,s,""))}}return s;case 0:return Lm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=pa(u,s.pendingProps),M_(i,s,u,d,o);case 3:t:{if(Wt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,dm(i,s),ql(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Kr(s,Oe,u),u!==g.cache&&om(s,[Oe],o,!0),Hl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=k_(i,s,u,o);break t}else if(u!==d){d=qn(Error(r(424)),s),kl(d),s=k_(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(me=oi(i.firstChild),gn=s,qt=!0,ua=null,xi=!0,o=v_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ml(),u===d){s=yr(i,s,o);break t}Ke(i,s,u,o)}s=s.child}return s;case 26:return Eh(i,s),i===null?(o=qT(s.type,null,s.pendingProps,null))?s.memoizedState=o:qt||(o=s.type,i=s.pendingProps,u=kh(vt.current).createElement(o),u[De]=s,u[we]=i,Ye(u,o,i),ye(u),s.stateNode=u):s.memoizedState=qT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return mi(s),i===null&&qt&&(u=s.stateNode=zT(s.type,s.pendingProps,vt.current),gn=s,xi=!0,d=me,os(s.type)?(wp=d,me=oi(u.firstChild)):me=d),Ke(i,s,s.pendingProps.children,o),Eh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&qt&&((d=u=me)&&(u=Jx(u,s.type,s.pendingProps,xi),u!==null?(s.stateNode=u,gn=s,me=oi(u.firstChild),xi=!1,d=!0):d=!1),d||ca(s)),mi(s),d=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Tp(d,g)?u=null:E!==null&&Tp(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=_m(i,s,yx,null,null,o),fu._currentValue=d),Eh(i,s),Ke(i,s,u,o),s.child;case 6:return i===null&&qt&&((i=o=me)&&(o=tC(o,s.pendingProps,xi),o!==null?(s.stateNode=o,gn=s,me=null,i=!0):i=!1),i||ca(s)),null;case 13:return L_(i,s,o);case 4:return Wt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=go(s,null,u,o):Ke(i,s,u,o),s.child;case 11:return I_(i,s,s.type,s.pendingProps,o);case 7:return Ke(i,s,s.pendingProps,o),s.child;case 8:return Ke(i,s,s.pendingProps.children,o),s.child;case 12:return Ke(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Kr(s,s.type,u.value),Ke(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,fa(s),d=en(d),u=u(d),s.flags|=1,Ke(i,s,u,o),s.child;case 14:return D_(i,s,s.type,s.pendingProps,o);case 15:return N_(i,s,s.type,s.pendingProps,o);case 19:return j_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=bh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=cr(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return P_(i,s,o);case 24:return fa(s),u=en(Oe),i===null?(d=cm(),d===null&&(d=re,g=lm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},fm(s),Kr(s,Oe,d)):((i.lanes&o)!==0&&(dm(i,s),ql(s,null,null,o),Hl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Kr(s,Oe,u)):(u=g.cache,Kr(s,Oe,u),u!==d.cache&&om(s,[Oe],o,!0))),Ke(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function vr(i){i.flags|=4}function z_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!QT(s)){if(s=Yn.current,s!==null&&((Bt&4194048)===Bt?Ci!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==Ci))throw zl=hm,w0;i.flags|=8192}}function Ah(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ml():536870912,i.lanes|=s,To|=s)}function Wl(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ce(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function Rx(i,s,o){var u=s.pendingProps;switch(im(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),mr(Oe),Un(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Vl(s)?vr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_0())),ce(s),null;case 26:return o=s.memoizedState,i===null?(vr(s),o!==null?(ce(s),z_(s,o)):(ce(s),s.flags&=-16777217)):o?o!==i.memoizedState?(vr(s),ce(s),z_(s,o)):(ce(s),s.flags&=-16777217):(i.memoizedProps!==u&&vr(s),ce(s),s.flags&=-16777217),null;case 27:ei(s),o=vt.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&vr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ce(s),null}i=gt.current,Vl(s)?y0(s):(i=zT(d,u,o),s.stateNode=i,vr(s))}return ce(s),null;case 5:if(ei(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&vr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ce(s),null}if(i=gt.current,Vl(s))y0(s);else{switch(d=kh(vt.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[De]=s,i[we]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch(Ye(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&vr(s)}}return ce(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&vr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=vt.current,Vl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=gn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[De]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||VT(i.nodeValue,o)),i||ca(s)}else i=kh(i).createTextNode(u),i[De]=s,s.stateNode=i}return ce(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Vl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[De]=s}else Ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),d=!1}else d=_0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(gr(s),s):(gr(s),null)}if(gr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Ah(s,s.updateQueue),ce(s),null;case 4:return Un(),i===null&&pp(s.stateNode.containerInfo),ce(s),null;case 10:return mr(s.type),ce(s),null;case 19:if(ct(Ve),d=s.memoizedState,d===null)return ce(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)Wl(d,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=vh(i),g!==null){for(s.flags|=128,Wl(d,!1),i=g.updateQueue,s.updateQueue=i,Ah(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)p0(o,i),o=o.sibling;return lt(Ve,Ve.current&1|2),s.child}i=i.sibling}d.tail!==null&&hn()>Rh&&(s.flags|=128,u=!0,Wl(d,!1),s.lanes=4194304)}else{if(!u)if(i=vh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Ah(s,i),Wl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!qt)return ce(s),null}else 2*hn()-d.renderingStartTime>Rh&&o!==536870912&&(s.flags|=128,u=!0,Wl(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=hn(),s.sibling=null,i=Ve.current,lt(Ve,u?i&1|2:i&1),s):(ce(s),null);case 22:case 23:return gr(s),ym(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),o=s.updateQueue,o!==null&&Ah(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ct(da),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),mr(Oe),ce(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function xx(i,s){switch(im(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return mr(Oe),Un(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ei(s),null;case 13:if(gr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ml()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ct(Ve),null;case 4:return Un(),null;case 10:return mr(s.type),null;case 22:case 23:return gr(s),ym(),i!==null&&ct(da),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return mr(Oe),null;case 25:return null;default:return null}}function F_(i,s){switch(im(s),s.tag){case 3:mr(Oe),Un();break;case 26:case 27:case 5:ei(s);break;case 4:Un();break;case 13:gr(s);break;case 19:ct(Ve);break;case 10:mr(s.type);break;case 22:case 23:gr(s),ym(),i!==null&&ct(da);break;case 24:mr(Oe)}}function Zl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(A){ie(s,s.return,A)}}function Jr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,d=s;var D=o,K=A;try{K()}catch(J){ie(d,D,J)}}}u=u.next}while(u!==g)}}catch(J){ie(s,s.return,J)}}function H_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{D0(s,o)}catch(u){ie(i,i.return,u)}}}function q_(i,s,o){o.props=pa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ie(i,s,u)}}function Jl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){ie(i,s,d)}}function Ii(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ie(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ie(i,s,d)}else o.current=null}function G_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ie(i,i.return,d)}}function Gm(i,s,o){try{var u=i.stateNode;Yx(u,i.type,o,s),u[we]=s}catch(d){ie(i,i.return,d)}}function K_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&os(i.type)||i.tag===4}function Km(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||K_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&os(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $m(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Mh));else if(u!==4&&(u===27&&os(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for($m(i,s,o),i=i.sibling;i!==null;)$m(i,s,o),i=i.sibling}function wh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&os(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(wh(i,s,o),i=i.sibling;i!==null;)wh(i,s,o),i=i.sibling}function $_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ye(s,u,o),s[De]=i,s[we]=o}catch(g){ie(i,i.return,g)}}var _r=!1,_e=!1,Ym=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Cx(i,s){if(i=i.containerInfo,vp=Fh,i=s0(i),Kd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,A=-1,D=-1,K=0,J=0,nt=i,$=null;e:for(;;){for(var Y;nt!==o||d!==0&&nt.nodeType!==3||(A=E+d),nt!==g||u!==0&&nt.nodeType!==3||(D=E+u),nt.nodeType===3&&(E+=nt.nodeValue.length),(Y=nt.firstChild)!==null;)$=nt,nt=Y;for(;;){if(nt===i)break e;if($===o&&++K===d&&(A=E),$===g&&++J===u&&(D=E),(Y=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=Y}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(_p={focusedElem:i,selectionRange:o},Fh=!1,Be=s;Be!==null;)if(s=Be,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Be=i;else for(;Be!==null;){switch(s=Be,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var At=pa(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(At,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(_t){ie(o,o.return,_t)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)bp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":bp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Be=i;break}Be=s.return}}function Q_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ts(i,o),u&4&&Zl(5,o);break;case 1:if(ts(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){ie(o,o.return,E)}else{var d=pa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){ie(o,o.return,E)}}u&64&&H_(o),u&512&&Jl(o,o.return);break;case 3:if(ts(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{D0(i,s)}catch(E){ie(o,o.return,E)}}break;case 27:s===null&&u&4&&$_(o);case 26:case 5:ts(i,o),s===null&&u&4&&G_(o),u&512&&Jl(o,o.return);break;case 12:ts(i,o);break;case 13:ts(i,o),u&4&&Z_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Lx.bind(null,o),eC(i,o))));break;case 22:if(u=o.memoizedState!==null||_r,!u){s=s!==null&&s.memoizedState!==null||_e,d=_r;var g=_e;_r=u,(_e=s)&&!g?es(i,o,(o.subtreeFlags&8772)!==0):ts(i,o),_r=d,_e=g}break;case 30:break;default:ts(i,o)}}function X_(i){var s=i.alternate;s!==null&&(i.alternate=null,X_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,bn=!1;function Tr(i,s,o){for(o=o.child;o!==null;)W_(i,s,o),o=o.sibling}function W_(i,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ne,o)}catch{}switch(o.tag){case 26:_e||Ii(o,s),Tr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_e||Ii(o,s);var u=ue,d=bn;os(o.type)&&(ue=o.stateNode,bn=!1),Tr(i,s,o),lu(o.stateNode),ue=u,bn=d;break;case 5:_e||Ii(o,s);case 6:if(u=ue,d=bn,ue=null,Tr(i,s,o),ue=u,bn=d,ue!==null)if(bn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(g){ie(o,s,g)}else try{ue.removeChild(o.stateNode)}catch(g){ie(o,s,g)}break;case 18:ue!==null&&(bn?(i=ue,jT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),gu(i)):jT(ue,o.stateNode));break;case 4:u=ue,d=bn,ue=o.stateNode.containerInfo,bn=!0,Tr(i,s,o),ue=u,bn=d;break;case 0:case 11:case 14:case 15:_e||Jr(2,o,s),_e||Jr(4,o,s),Tr(i,s,o);break;case 1:_e||(Ii(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&q_(o,s,u)),Tr(i,s,o);break;case 21:Tr(i,s,o);break;case 22:_e=(u=_e)||o.memoizedState!==null,Tr(i,s,o),_e=u;break;default:Tr(i,s,o)}}function Z_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{gu(i)}catch(o){ie(s,s.return,o)}}function Ix(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Y_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Y_),s;default:throw Error(r(435,i.tag))}}function Qm(i,s){var o=Ix(i);s.forEach(function(u){var d=Ux.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Pn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=s,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(os(A.type)){ue=A.stateNode,bn=!1;break t}break;case 5:ue=A.stateNode,bn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,bn=!0;break t}A=A.return}if(ue===null)throw Error(r(160));W_(g,E,d),ue=null,bn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)J_(s,i),s=s.sibling}var ai=null;function J_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pn(s,i),On(i),u&4&&(Jr(3,i,i.return),Zl(3,i),Jr(5,i,i.return));break;case 1:Pn(s,i),On(i),u&512&&(_e||o===null||Ii(o,o.return)),u&64&&_r&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ai;if(Pn(s,i),On(i),u&512&&(_e||o===null||Ii(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[qs]||g[De]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Ye(g,u,o),g[De]=i,ye(g),u=g;break t;case"link":var E=$T("link","href",d).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break e}}g=d.createElement(u),Ye(g,u,o),d.head.appendChild(g);break;case"meta":if(E=$T("meta","content",d).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break e}}g=d.createElement(u),Ye(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[De]=i,ye(g),u=g}i.stateNode=u}else YT(d,i.type,i.stateNode);else i.stateNode=KT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?YT(d,i.type,i.stateNode):KT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Gm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Pn(s,i),On(i),u&512&&(_e||o===null||Ii(o,o.return)),o!==null&&u&4&&Gm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Pn(s,i),On(i),u&512&&(_e||o===null||Ii(o,o.return)),i.flags&32){d=i.stateNode;try{Bn(d,"")}catch(Y){ie(i,i.return,Y)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Gm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Ym=!0);break;case 6:if(Pn(s,i),On(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Y){ie(i,i.return,Y)}}break;case 3:if(jh=null,d=ai,ai=Lh(s.containerInfo),Pn(s,i),ai=d,On(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{gu(s.containerInfo)}catch(Y){ie(i,i.return,Y)}Ym&&(Ym=!1,tT(i));break;case 4:u=ai,ai=Lh(i.stateNode.containerInfo),Pn(s,i),On(i),ai=u;break;case 12:Pn(s,i),On(i);break;case 13:Pn(s,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ep=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 22:d=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,K=_r,J=_e;if(_r=K||d,_e=J||D,Pn(s,i),_e=J,_r=K,On(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||D||_r||_e||ga(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(g=D.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=D.stateNode;var nt=D.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){ie(D,D.return,Y)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(Y){ie(D,D.return,Y)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Qm(i,o))));break;case 19:Pn(s,i),On(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 30:break;case 21:break;default:Pn(s,i),On(i)}}function On(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(K_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Km(i);wh(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Bn(E,""),o.flags&=-33);var A=Km(i);wh(i,A,E);break;case 3:case 4:var D=o.stateNode.containerInfo,K=Km(i);$m(i,K,D);break;default:throw Error(r(161))}}catch(J){ie(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function tT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;tT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ts(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Q_(i,s.alternate,s),s=s.sibling}function ga(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Jr(4,s,s.return),ga(s);break;case 1:Ii(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&q_(s,s.return,o),ga(s);break;case 27:lu(s.stateNode);case 26:case 5:Ii(s,s.return),ga(s);break;case 22:s.memoizedState===null&&ga(s);break;case 30:ga(s);break;default:ga(s)}i=i.sibling}}function es(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:es(d,g,o),Zl(4,g);break;case 1:if(es(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){ie(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var A=u.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)I0(D[d],A)}catch(K){ie(u,u.return,K)}}o&&E&64&&H_(g),Jl(g,g.return);break;case 27:$_(g);case 26:case 5:es(d,g,o),o&&u===null&&E&4&&G_(g),Jl(g,g.return);break;case 12:es(d,g,o);break;case 13:es(d,g,o),o&&E&4&&Z_(d,g);break;case 22:g.memoizedState===null&&es(d,g,o),Jl(g,g.return);break;case 30:break;default:es(d,g,o)}s=s.sibling}}function Xm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ul(o))}function Wm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i))}function Di(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)eT(i,s,o,u),s=s.sibling}function eT(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Di(i,s,o,u),d&2048&&Zl(9,s);break;case 1:Di(i,s,o,u);break;case 3:Di(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i)));break;case 12:if(d&2048){Di(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){ie(s,s.return,D)}}else Di(i,s,o,u);break;case 13:Di(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Di(i,s,o,u):tu(i,s):g._visibility&2?Di(i,s,o,u):(g._visibility|=2,yo(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Xm(E,s);break;case 24:Di(i,s,o,u),d&2048&&Wm(s.alternate,s);break;default:Di(i,s,o,u)}}function yo(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,A=o,D=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:yo(g,E,A,D,d),Zl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?yo(g,E,A,D,d):tu(g,E):(J._visibility|=2,yo(g,E,A,D,d)),d&&K&2048&&Xm(E.alternate,E);break;case 24:yo(g,E,A,D,d),d&&K&2048&&Wm(E.alternate,E);break;default:yo(g,E,A,D,d)}s=s.sibling}}function tu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:tu(o,u),d&2048&&Xm(u.alternate,u);break;case 24:tu(o,u),d&2048&&Wm(u.alternate,u);break;default:tu(o,u)}s=s.sibling}}var eu=8192;function vo(i){if(i.subtreeFlags&eu)for(i=i.child;i!==null;)nT(i),i=i.sibling}function nT(i){switch(i.tag){case 26:vo(i),i.flags&eu&&i.memoizedState!==null&&mC(ai,i.memoizedState,i.memoizedProps);break;case 5:vo(i);break;case 3:case 4:var s=ai;ai=Lh(i.stateNode.containerInfo),vo(i),ai=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=eu,eu=16777216,vo(i),eu=s):vo(i));break;default:vo(i)}}function iT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function nu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,sT(u,i)}iT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rT(i),i=i.sibling}function rT(i){switch(i.tag){case 0:case 11:case 15:nu(i),i.flags&2048&&Jr(9,i,i.return);break;case 3:nu(i);break;case 12:nu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Sh(i)):nu(i);break;default:nu(i)}}function Sh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,sT(u,i)}iT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Jr(8,s,s.return),Sh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Sh(s));break;default:Sh(s)}i=i.sibling}}function sT(i,s){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:Jr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var d=u.sibling,g=u.return;if(X_(u),u===o){Be=null;break t}if(d!==null){d.return=g,Be=d;break t}Be=g}}}var Dx={getCacheForType:function(i){var s=en(Oe),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},Nx=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,Vt=null,Bt=0,Xt=0,Vn=null,ns=!1,_o=!1,Zm=!1,Er=0,pe=0,is=0,ya=0,Jm=0,Qn=0,To=0,iu=null,An=null,tp=!1,ep=0,Rh=1/0,xh=null,rs=null,$e=0,ss=null,Eo=null,bo=0,np=0,ip=null,aT=null,ru=0,rp=null;function Mn(){if((Qt&2)!==0&&Bt!==0)return Bt&-Bt;if(W.T!==null){var i=lo;return i!==0?i:hp()}return Br()}function oT(){Qn===0&&(Qn=(Bt&536870912)===0||qt?dl():536870912);var i=Yn.current;return i!==null&&(i.flags|=32),Qn}function kn(i,s,o){(i===re&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),as(i,Bt,Qn,!1)),Ji(i,o),((Qt&2)===0||i!==re)&&(i===re&&((Qt&2)===0&&(ya|=o),pe===4&&as(i,Bt,Qn,!1)),Ni(i))}function lT(i,s,o){if((Qt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Hs(i,s),d=u?Vx(i,s):op(i,s,!0),g=u;do{if(d===0){_o&&!u&&as(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!Px(o)){d=op(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var A=i;d=iu;var D=A.current.memoizedState.isDehydrated;if(D&&(Ao(A,E).flags|=256),E=op(A,E,!1),E!==2){if(Zm&&!D){A.errorRecoveryDisabledLanes|=g,ya|=g,d=4;break t}g=An,An=d,g!==null&&(An===null?An=g:An.push.apply(An,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){Ao(i,0),as(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:as(u,s,Qn,!ns);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=ep+300-hn(),10<d)){if(as(u,s,Qn,!ns),ja(u,0,!0)!==0)break t;u.timeoutHandle=LT(uT.bind(null,u,o,An,xh,tp,s,Qn,ya,To,ns,g,2,-0,0),d);break t}uT(u,o,An,xh,tp,s,Qn,ya,To,ns,g,0,-0,0)}}break}while(!0);Ni(i)}function uT(i,s,o,u,d,g,E,A,D,K,J,nt,$,Y){if(i.timeoutHandle=-1,nt=s.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:dC},nT(s),nt=pC(),nt!==null)){i.cancelPendingCommit=nt(gT.bind(null,i,s,g,o,u,d,E,A,D,J,1,$,Y)),as(i,g,E,!K);return}gT(i,s,g,o,u,d,E,A,D)}function Px(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Dn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(i,s,o,u){s&=~Jm,s&=~ya,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-tn(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&gi(i,o,s)}function Ch(){return(Qt&6)===0?(su(0),!1):!0}function sp(){if(Vt!==null){if(Xt===0)var i=Vt.return;else i=Vt,dr=ha=null,bm(i),po=null,Ql=0,i=Vt;for(;i!==null;)F_(i.alternate,i),i=i.return;Vt=null}}function Ao(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Xx(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),sp(),re=i,Vt=o=cr(i.current,null),Bt=s,Xt=0,Vn=null,ns=!1,_o=Hs(i,s),Zm=!1,To=Qn=Jm=ya=is=pe=0,An=iu=null,tp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-tn(u),g=1<<d;s|=i[d],u&=~g}return Er=s,Xc(),o}function cT(i,s){Dt=null,W.H=ph,s===Bl||s===sh?(s=x0(),Xt=3):s===w0?(s=x0(),Xt=4):Xt=s===C_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,Vt===null&&(pe=1,Th(i,qn(s,i.current)))}function hT(){var i=W.H;return W.H=ph,i===null?ph:i}function fT(){var i=W.A;return W.A=Dx,i}function ap(){pe=4,ns||(Bt&4194048)!==Bt&&Yn.current!==null||(_o=!0),(is&134217727)===0&&(ya&134217727)===0||re===null||as(re,Bt,Qn,!1)}function op(i,s,o){var u=Qt;Qt|=2;var d=hT(),g=fT();(re!==i||Bt!==s)&&(xh=null,Ao(i,s)),s=!1;var E=pe;t:do try{if(Xt!==0&&Vt!==null){var A=Vt,D=Vn;switch(Xt){case 8:sp(),E=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var K=Xt;if(Xt=0,Vn=null,wo(i,A,D,K),o&&_o){E=0;break t}break;default:K=Xt,Xt=0,Vn=null,wo(i,A,D,K)}}Ox(),E=pe;break}catch(J){cT(i,J)}while(!0);return s&&i.shellSuspendCounter++,dr=ha=null,Qt=u,W.H=d,W.A=g,Vt===null&&(re=null,Bt=0,Xc()),E}function Ox(){for(;Vt!==null;)dT(Vt)}function Vx(i,s){var o=Qt;Qt|=2;var u=hT(),d=fT();re!==i||Bt!==s?(xh=null,Rh=hn()+500,Ao(i,s)):_o=Hs(i,s);t:do try{if(Xt!==0&&Vt!==null){s=Vt;var g=Vn;e:switch(Xt){case 1:Xt=0,Vn=null,wo(i,s,g,1);break;case 2:case 9:if(S0(g)){Xt=0,Vn=null,mT(s);break}s=function(){Xt!==2&&Xt!==9||re!==i||(Xt=7),Ni(i)},g.then(s,s);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:S0(g)?(Xt=0,Vn=null,mT(s)):(Xt=0,Vn=null,wo(i,s,g,7));break;case 5:var E=null;switch(Vt.tag){case 26:E=Vt.memoizedState;case 5:case 27:var A=Vt;if(!E||QT(E)){Xt=0,Vn=null;var D=A.sibling;if(D!==null)Vt=D;else{var K=A.return;K!==null?(Vt=K,Ih(K)):Vt=null}break e}}Xt=0,Vn=null,wo(i,s,g,5);break;case 6:Xt=0,Vn=null,wo(i,s,g,6);break;case 8:sp(),pe=6;break t;default:throw Error(r(462))}}Mx();break}catch(J){cT(i,J)}while(!0);return dr=ha=null,W.H=u,W.A=d,Qt=o,Vt!==null?0:(re=null,Bt=0,Xc(),pe)}function Mx(){for(;Vt!==null&&!Xi();)dT(Vt)}function dT(i){var s=B_(i.alternate,i,Er);i.memoizedProps=i.pendingProps,s===null?Ih(i):Vt=s}function mT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=V_(o,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=V_(o,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:bm(s);default:F_(o,s),s=Vt=p0(s,Er),s=B_(o,s,Er)}i.memoizedProps=i.pendingProps,s===null?Ih(i):Vt=s}function wo(i,s,o,u){dr=ha=null,bm(s),po=null,Ql=0;var d=s.return;try{if(wx(i,d,s,o,Bt)){pe=1,Th(i,qn(o,i.current)),Vt=null;return}}catch(g){if(d!==null)throw Vt=d,g;pe=1,Th(i,qn(o,i.current)),Vt=null;return}s.flags&32768?(qt||u===1?i=!0:_o||(Bt&536870912)!==0?i=!1:(ns=i=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),pT(s,i)):Ih(s)}function Ih(i){var s=i;do{if((s.flags&32768)!==0){pT(s,ns);return}i=s.return;var o=Rx(s.alternate,s,Er);if(o!==null){Vt=o;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=i}while(s!==null);pe===0&&(pe=5)}function pT(i,s){do{var o=xx(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);pe=6,Vt=null}function gT(i,s,o,u,d,g,E,A,D){i.cancelPendingCommit=null;do Dh();while($e!==0);if((Qt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Wd,pl(i,o,g,E,A,D),i===re&&(Vt=re=null,Bt=0),Eo=s,ss=i,bo=o,np=g,ip=d,aT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jx(Ot,function(){return ET(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=at.p,at.p=2,E=Qt,Qt|=4;try{Cx(i,s,o)}finally{Qt=E,at.p=d,W.T=u}}$e=1,yT(),vT(),_T()}}function yT(){if($e===1){$e=0;var i=ss,s=Eo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var d=Qt;Qt|=4;try{J_(s,i);var g=_p,E=s0(i.containerInfo),A=g.focusedElem,D=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&r0(A.ownerDocument.documentElement,A)){if(D!==null&&Kd(A)){var K=D.start,J=D.end;if(J===void 0&&(J=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(J,A.value.length);else{var nt=A.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var Y=$.getSelection(),At=A.textContent.length,_t=Math.min(D.start,At),ee=D.end===void 0?_t:Math.min(D.end,At);!Y.extend&&_t>ee&&(E=ee,ee=_t,_t=E);var F=i0(A,_t),j=i0(A,ee);if(F&&j&&(Y.rangeCount!==1||Y.anchorNode!==F.node||Y.anchorOffset!==F.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var G=nt.createRange();G.setStart(F.node,F.offset),Y.removeAllRanges(),_t>ee?(Y.addRange(G),Y.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),Y.addRange(G))}}}}for(nt=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&nt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var tt=nt[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Fh=!!vp,_p=vp=null}finally{Qt=d,at.p=u,W.T=o}}i.current=s,$e=2}}function vT(){if($e===2){$e=0;var i=ss,s=Eo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var d=Qt;Qt|=4;try{Q_(i,s.alternate,s)}finally{Qt=d,at.p=u,W.T=o}}$e=3}}function _T(){if($e===4||$e===3){$e=0,Ua();var i=ss,s=Eo,o=bo,u=aT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$e=5:($e=0,Eo=ss=null,TT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(rs=null),Ba(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ne,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=at.p,at.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var A=u[E];g(A.value,{componentStack:A.stack})}}finally{W.T=s,at.p=d}}(bo&3)!==0&&Dh(),Ni(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===rp?ru++:(ru=0,rp=i):ru=0,su(0)}}function TT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ul(s)))}function Dh(i){return yT(),vT(),_T(),ET()}function ET(){if($e!==5)return!1;var i=ss,s=np;np=0;var o=Ba(bo),u=W.T,d=at.p;try{at.p=32>o?32:o,W.T=null,o=ip,ip=null;var g=ss,E=bo;if($e=0,Eo=ss=null,bo=0,(Qt&6)!==0)throw Error(r(331));var A=Qt;if(Qt|=4,rT(g.current),eT(g,g.current,E,o),Qt=A,su(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ne,g)}catch{}return!0}finally{at.p=d,W.T=u,TT(i,s)}}function bT(i,s,o){s=qn(o,s),s=km(i.stateNode,s,2),i=Qr(i,s,2),i!==null&&(Ji(i,2),Ni(i))}function ie(i,s,o){if(i.tag===3)bT(i,i,o);else for(;s!==null;){if(s.tag===3){bT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){i=qn(o,i),o=R_(2),u=Qr(s,o,2),u!==null&&(x_(o,u,s,i),Ji(u,2),Ni(u));break}}s=s.return}}function lp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Nx;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Zm=!0,d.add(o),i=kx.bind(null,i,s,o),s.then(i,i))}function kx(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,re===i&&(Bt&o)===o&&(pe===4||pe===3&&(Bt&62914560)===Bt&&300>hn()-ep?(Qt&2)===0&&Ao(i,0):Jm|=o,To===Bt&&(To=0)),Ni(i)}function AT(i,s){s===0&&(s=ml()),i=ro(i,s),i!==null&&(Ji(i,s),Ni(i))}function Lx(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),AT(i,o)}function Ux(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),AT(i,o)}function jx(i,s){return Qi(i,s)}var Nh=null,So=null,up=!1,Ph=!1,cp=!1,va=0;function Ni(i){i!==So&&i.next===null&&(So===null?Nh=So=i:So=So.next=i),Ph=!0,up||(up=!0,zx())}function su(i,s){if(!cp&&Ph){cp=!0;do for(var o=!1,u=Nh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-tn(42|i)+1)-1,g&=d&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,xT(u,g))}else g=Bt,g=ja(u,u===re?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Hs(u,g)||(o=!0,xT(u,g));u=u.next}while(o);cp=!1}}function Bx(){wT()}function wT(){Ph=up=!1;var i=0;va!==0&&(Qx()&&(i=va),va=0);for(var s=hn(),o=null,u=Nh;u!==null;){var d=u.next,g=ST(u,s);g===0?(u.next=null,o===null?Nh=d:o.next=d,d===null&&(So=o)):(o=u,(i!==0||(g&3)!==0)&&(Ph=!0)),u=d}su(i)}function ST(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-tn(g),A=1<<E,D=d[E];D===-1?((A&o)===0||(A&u)!==0)&&(d[E]=fl(A,s)):D<=s&&(i.expiredLanes|=A),g&=~A}if(s=re,o=Bt,o=ja(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&pi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Hs(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&pi(u),Ba(o)){case 2:case 8:o=Wi;break;case 32:o=Ot;break;case 268435456:o=He;break;default:o=Ot}return u=RT.bind(null,i),o=Qi(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&pi(u),i.callbackPriority=2,i.callbackNode=null,2}function RT(i,s){if($e!==0&&$e!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Dh()&&i.callbackNode!==o)return null;var u=Bt;return u=ja(i,i===re?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(lT(i,u,s),ST(i,hn()),i.callbackNode!=null&&i.callbackNode===o?RT.bind(null,i):null)}function xT(i,s){if(Dh())return null;lT(i,s,!0)}function zx(){Wx(function(){(Qt&6)!==0?Qi(js,Bx):wT()})}function hp(){return va===0&&(va=dl()),va}function CT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ka(""+i)}function IT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function Fx(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=CT((d[we]||null).action),E=u.submitter;E&&(s=(s=E[we]||null)?CT(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new $a("action","action",null,u,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(va!==0){var D=E?IT(d,E):new FormData(d);Nm(o,{pending:!0,data:D,method:d.method,action:g},null,D)}}else typeof g=="function"&&(A.preventDefault(),D=E?IT(d,E):new FormData(d),Nm(o,{pending:!0,data:D,method:d.method,action:g},g,D))},currentTarget:d}]})}}for(var fp=0;fp<Xd.length;fp++){var dp=Xd[fp],Hx=dp.toLowerCase(),qx=dp[0].toUpperCase()+dp.slice(1);si(Hx,"on"+qx)}si(l0,"onAnimationEnd"),si(u0,"onAnimationIteration"),si(c0,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(ox,"onTransitionRun"),si(lx,"onTransitionStart"),si(ux,"onTransitionCancel"),si(h0,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function DT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=K;try{g(d)}catch(J){_h(J)}d.currentTarget=null,g=D}else for(E=0;E<u.length;E++){if(A=u[E],D=A.instance,K=A.currentTarget,A=A.listener,D!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=K;try{g(d)}catch(J){_h(J)}d.currentTarget=null,g=D}}}}function Mt(i,s){var o=s[yl];o===void 0&&(o=s[yl]=new Set);var u=i+"__bubble";o.has(u)||(NT(s,i,2,!1),o.add(u))}function mp(i,s,o){var u=0;s&&(u|=4),NT(o,i,u,s)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function pp(i){if(!i[Oh]){i[Oh]=!0,vl.forEach(function(o){o!=="selectionchange"&&(Gx.has(o)||mp(o,!1,i),mp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Oh]||(s[Oh]=!0,mp("selectionchange",!1,s))}}function NT(i,s,o,u){switch(eE(s)){case 2:var d=vC;break;case 8:d=_C;break;default:d=Ip}o=d.bind(null,s,o,i),d=void 0,!Fn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function gp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===d)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;A!==null;){if(E=tr(A),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=g=E;continue t}A=A.parentNode}}u=u.return}Mc(function(){var K=g,J=zn(o),nt=[];t:{var $=f0.get(i);if($!==void 0){var Y=$a,At=i;switch(i){case"keypress":if(bi(o)===0)break t;case"keydown":case"keyup":Y=Ja;break;case"focusin":At="focus",Y=Xa;break;case"focusout":At="blur",Y=Xa;break;case"beforeblur":case"afterblur":Y=Xa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Hc;break;case l0:case u0:case c0:Y=Wa;break;case h0:Y=Gc;break;case"scroll":case"scrollend":Y=kc;break;case"wheel":Y=to;break;case"copy":case"cut":case"paste":Y=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Dl;break;case"toggle":case"beforetoggle":Y=$c}var _t=(s&4)!==0,ee=!_t&&(i==="scroll"||i==="scrollend"),F=_t?$!==null?$+"Capture":null:$;_t=[];for(var j=K,G;j!==null;){var tt=j;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||F===null||(tt=Ws(j,F),tt!=null&&_t.push(ou(j,tt,G))),ee)break;j=j.return}0<_t.length&&($=new Y($,At,null,o,J),nt.push({event:$,listeners:_t}))}}if((s&7)===0){t:{if($=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",$&&o!==rr&&(At=o.relatedTarget||o.fromElement)&&(tr(At)||At[jn]))break t;if((Y||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(At=o.relatedTarget||o.toElement,Y=K,At=At?tr(At):null,At!==null&&(ee=l(At),_t=At.tag,At!==ee||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(Y=null,At=K),Y!==At)){if(_t=Hn,tt="onMouseLeave",F="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(_t=Dl,tt="onPointerLeave",F="onPointerEnter",j="pointer"),ee=Y==null?$:vi(Y),G=At==null?$:vi(At),$=new _t(tt,j+"leave",Y,o,J),$.target=ee,$.relatedTarget=G,tt=null,tr(J)===K&&(_t=new _t(F,j+"enter",At,o,J),_t.target=G,_t.relatedTarget=ee,tt=_t),ee=tt,Y&&At)e:{for(_t=Y,F=At,j=0,G=_t;G;G=Ro(G))j++;for(G=0,tt=F;tt;tt=Ro(tt))G++;for(;0<j-G;)_t=Ro(_t),j--;for(;0<G-j;)F=Ro(F),G--;for(;j--;){if(_t===F||F!==null&&_t===F.alternate)break e;_t=Ro(_t),F=Ro(F)}_t=null}else _t=null;Y!==null&&PT(nt,$,Y,_t,!1),At!==null&&ee!==null&&PT(nt,ee,At,_t,!0)}}t:{if($=K?vi(K):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var mt=Wv;else if(Pe($))if(Zv)mt=rx;else{mt=nx;var Pt=ex}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&Al(K.elementType)&&(mt=Wv):mt=ix;if(mt&&(mt=mt(i,K))){ur(nt,mt,o,J);break t}Pt&&Pt(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&qr($,"number",$.value)}switch(Pt=K?vi(K):window,i){case"focusin":(Pe(Pt)||Pt.contentEditable==="true")&&(eo=Pt,$d=K,Ol=null);break;case"focusout":Ol=$d=eo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,a0(nt,o,J);break;case"selectionchange":if(ax)break;case"keydown":case"keyup":a0(nt,o,J)}var pt;if(Si)t:{switch(i){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?X(i,o)&&(Tt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(T&&o.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(pt=Sl()):(Ei=J,Gr="value"in Ei?Ei.value:Ei.textContent,Ut=!0)),Pt=Vh(K,Tt),0<Pt.length&&(Tt=new Cl(Tt,i,null,o,J),nt.push({event:Tt,listeners:Pt}),pt?Tt.data=pt:(pt=ut(o),pt!==null&&(Tt.data=pt)))),(pt=v?Ne(i,o):jt(i,o))&&(Tt=Vh(K,"onBeforeInput"),0<Tt.length&&(Pt=new Cl("onBeforeInput","beforeinput",null,o,J),nt.push({event:Pt,listeners:Tt}),Pt.data=pt)),Fx(nt,i,K,o,J)}DT(nt,s)})}function ou(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Vh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Ws(i,o),d!=null&&u.unshift(ou(i,d,g)),d=Ws(i,s),d!=null&&u.push(ou(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Ro(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function PT(i,s,o,u,d){for(var g=s._reactName,E=[];o!==null&&o!==u;){var A=o,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||K===null||(D=K,d?(K=Ws(o,g),K!=null&&E.unshift(ou(o,K,D))):d||(K=Ws(o,g),K!=null&&E.push(ou(o,K,D)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var Kx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function OT(i){return(typeof i=="string"?i:""+i).replace(Kx,`
`).replace($x,"")}function VT(i,s){return s=OT(s),OT(i)===s}function Mh(){}function te(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Bn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Bn(i,""+u);break;case"className":_i(i,"class",u);break;case"tabIndex":_i(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(i,o,u);break;case"style":bl(i,u,g);break;case"data":if(s!=="object"){_i(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ka(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&te(i,s,"name",d.name,d,null),te(i,s,"formEncType",d.formEncType,d,null),te(i,s,"formMethod",d.formMethod,d,null),te(i,s,"formTarget",d.formTarget,d,null)):(te(i,s,"encType",d.encType,d,null),te(i,s,"method",d.method,d,null),te(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ka(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Mh);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ka(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Mt("beforetoggle",i),Mt("toggle",i),Hr(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bd.get(o)||o,Hr(i,o,u))}}function yp(i,s,o,u,d,g){switch(o){case"style":bl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Bn(i,u):(typeof u=="number"||typeof u=="bigint")&&Bn(i,""+u);break;case"onScroll":u!=null&&Mt("scroll",i);break;case"onScrollEnd":u!=null&&Mt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[we]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Hr(i,o,u)}}}function Ye(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",i),Mt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(i,s,g,E,o,null)}}d&&te(i,s,"srcSet",o.srcSet,o,null),u&&te(i,s,"src",o.src,o,null);return;case"input":Mt("invalid",i);var A=g=E=d=null,D=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":E=J;break;case"checked":D=J;break;case"defaultChecked":K=J;break;case"value":g=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:te(i,s,u,J,o,null)}}Ys(i,g,A,D,K,E,d,!1),Ga(i);return;case"select":Mt("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:te(i,s,d,A,o,null)}s=g,o=E,i.multiple=!!u,s!=null?ir(i,!!u,s,!1):o!=null&&ir(i,!!u,o,!0);return;case"textarea":Mt("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:te(i,s,E,A,o,null)}Qs(i,u,d,g),Ga(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(i,s,D,u,o,null)}return;case"dialog":Mt("beforetoggle",i),Mt("toggle",i),Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":Mt("load",i);break;case"video":case"audio":for(u=0;u<au.length;u++)Mt(au[u],i);break;case"image":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"embed":case"source":case"link":Mt("error",i),Mt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(i,s,K,u,o,null)}return;default:if(Al(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&yp(i,s,J,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&te(i,s,A,u,o,null))}function Yx(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,A=null,D=null,K=null,J=null;for(Y in o){var nt=o[Y];if(o.hasOwnProperty(Y)&&nt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=nt;default:u.hasOwnProperty(Y)||te(i,s,Y,null,u,nt)}}for(var $ in u){var Y=u[$];if(nt=o[$],u.hasOwnProperty($)&&(Y!=null||nt!=null))switch($){case"type":g=Y;break;case"name":d=Y;break;case"checked":K=Y;break;case"defaultChecked":J=Y;break;case"value":E=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==nt&&te(i,s,$,Y,u,nt)}}In(i,E,A,D,K,J,g,d);return;case"select":Y=E=A=$=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Y=D;default:u.hasOwnProperty(g)||te(i,s,g,null,u,D)}for(d in u)if(g=u[d],D=o[d],u.hasOwnProperty(d)&&(g!=null||D!=null))switch(d){case"value":$=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==D&&te(i,s,d,g,u,D)}s=A,o=E,u=Y,$!=null?ir(i,!!o,$,!1):!!u!=!!o&&(s!=null?ir(i,!!o,s,!0):ir(i,!!o,o?[]:"",!1));return;case"textarea":Y=$=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:te(i,s,A,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":$=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&te(i,s,E,d,u,g)}Zt(i,$,Y);return;case"option":for(var At in o)if($=o[At],o.hasOwnProperty(At)&&$!=null&&!u.hasOwnProperty(At))switch(At){case"selected":i.selected=!1;break;default:te(i,s,At,null,u,$)}for(D in u)if($=u[D],Y=o[D],u.hasOwnProperty(D)&&$!==Y&&($!=null||Y!=null))switch(D){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:te(i,s,D,$,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)$=o[_t],o.hasOwnProperty(_t)&&$!=null&&!u.hasOwnProperty(_t)&&te(i,s,_t,null,u,$);for(K in u)if($=u[K],Y=o[K],u.hasOwnProperty(K)&&$!==Y&&($!=null||Y!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:te(i,s,K,$,u,Y)}return;default:if(Al(s)){for(var ee in o)$=o[ee],o.hasOwnProperty(ee)&&$!==void 0&&!u.hasOwnProperty(ee)&&yp(i,s,ee,void 0,u,$);for(J in u)$=u[J],Y=o[J],!u.hasOwnProperty(J)||$===Y||$===void 0&&Y===void 0||yp(i,s,J,$,u,Y);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&te(i,s,F,null,u,$);for(nt in u)$=u[nt],Y=o[nt],!u.hasOwnProperty(nt)||$===Y||$==null&&Y==null||te(i,s,nt,$,u,Y)}var vp=null,_p=null;function kh(i){return i.nodeType===9?i:i.ownerDocument}function MT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Tp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ep=null;function Qx(){var i=window.event;return i&&i.type==="popstate"?i===Ep?!1:(Ep=i,!0):(Ep=null,!1)}var LT=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(i){return UT.resolve(null).then(i).catch(Zx)}:LT;function Zx(i){setTimeout(function(){throw i})}function os(i){return i==="head"}function jT(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&lu(E.documentElement),o&2&&lu(E.body),o&4)for(o=E.head,lu(o),E=o.firstChild;E;){var A=E.nextSibling,D=E.nodeName;E[qs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(d===0){i.removeChild(g),gu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);gu(s)}function bp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bp(o),Fr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Jx(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[qs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function tC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function Ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function eC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function oi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var wp=null;function BT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function zT(i,s,o){switch(s=kh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function lu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Fr(i)}var Xn=new Map,FT=new Set;function Lh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var br=at.d;at.d={f:nC,r:iC,D:rC,C:sC,L:aC,m:oC,X:uC,S:lC,M:cC};function nC(){var i=br.f(),s=Ch();return i||s}function iC(i){var s=yi(i);s!==null&&s.tag===5&&s.type==="form"?l_(s):br.r(i)}var xo=typeof document>"u"?null:document;function HT(i,s,o){var u=xo;if(u&&typeof s=="string"&&s){var d=Se(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),FT.has(d)||(FT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Ye(s,"link",i),ye(s),u.head.appendChild(s)))}}function rC(i){br.D(i),HT("dns-prefetch",i,null)}function sC(i,s){br.C(i,s),HT("preconnect",i,s)}function aC(i,s,o){br.L(i,s,o);var u=xo;if(u&&i&&s){var d='link[rel="preload"][as="'+Se(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Se(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Se(o.imageSizes)+'"]')):d+='[href="'+Se(i)+'"]';var g=d;switch(s){case"style":g=Co(i);break;case"script":g=Io(i)}Xn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Xn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(uu(g))||s==="script"&&u.querySelector(cu(g))||(s=u.createElement("link"),Ye(s,"link",i),ye(s),u.head.appendChild(s)))}}function oC(i,s){br.m(i,s);var o=xo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Io(i)}if(!Xn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Xn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cu(g)))return}u=o.createElement("link"),Ye(u,"link",i),ye(u),o.head.appendChild(u)}}}function lC(i,s,o){br.S(i,s,o);var u=xo;if(u&&i){var d=dn(u).hoistableStyles,g=Co(i);s=s||"default";var E=d.get(g);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(uu(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Xn.get(g))&&Sp(i,o);var D=E=u.createElement("link");ye(D),Ye(D,"link",i),D._p=new Promise(function(K,J){D.onload=K,D.onerror=J}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Uh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},d.set(g,E)}}}function uC(i,s){br.X(i,s);var o=xo;if(o&&i){var u=dn(o).hoistableScripts,d=Io(i),g=u.get(d);g||(g=o.querySelector(cu(d)),g||(i=y({src:i,async:!0},s),(s=Xn.get(d))&&Rp(i,s),g=o.createElement("script"),ye(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function cC(i,s){br.M(i,s);var o=xo;if(o&&i){var u=dn(o).hoistableScripts,d=Io(i),g=u.get(d);g||(g=o.querySelector(cu(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Xn.get(d))&&Rp(i,s),g=o.createElement("script"),ye(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function qT(i,s,o,u){var d=(d=vt.current)?Lh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Co(o.href),o=dn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Co(o.href);var g=dn(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(uu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Xn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(i,o),g||hC(d,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Io(o),o=dn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Co(i){return'href="'+Se(i)+'"'}function uu(i){return'link[rel="stylesheet"]['+i+"]"}function GT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function hC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ye(s,"link",o),ye(s),i.head.appendChild(s))}function Io(i){return'[src="'+Se(i)+'"]'}function cu(i){return"script[async]"+i}function KT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Se(o.href)+'"]');if(u)return s.instance=u,ye(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ye(u),Ye(u,"style",d),Uh(u,o.precedence,i),s.instance=u;case"stylesheet":d=Co(o.href);var g=i.querySelector(uu(d));if(g)return s.state.loading|=4,s.instance=g,ye(g),g;u=GT(o),(d=Xn.get(d))&&Sp(u,d),g=(i.ownerDocument||i).createElement("link"),ye(g);var E=g;return E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),Ye(g,"link",u),s.state.loading|=4,Uh(g,o.precedence,i),s.instance=g;case"script":return g=Io(o.src),(d=i.querySelector(cu(g)))?(s.instance=d,ye(d),d):(u=o,(d=Xn.get(g))&&(u=y({},o),Rp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),ye(d),Ye(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Uh(u,o.precedence,i));return s.instance}function Uh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Sp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Rp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jh=null;function $T(i,s,o){if(jh===null){var u=new Map,d=jh=new Map;d.set(o,u)}else d=jh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[qs]||g[De]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var A=u.get(E);A?A.push(g):u.set(E,[g])}}return u}function YT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function fC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function QT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var hu=null;function dC(){}function mC(i,s,o){if(hu===null)throw Error(r(475));var u=hu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Co(o.href),g=i.querySelector(uu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Bh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,ye(g);return}g=i.ownerDocument||i,o=GT(o),(d=Xn.get(d))&&Sp(o,d),g=g.createElement("link"),ye(g);var E=g;E._p=new Promise(function(A,D){E.onload=A,E.onerror=D}),Ye(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Bh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function pC(){if(hu===null)throw Error(r(475));var i=hu;return i.stylesheets&&i.count===0&&xp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&xp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Bh(){if(this.count--,this.count===0){if(this.stylesheets)xp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zh=null;function xp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zh=new Map,s.forEach(gC,i),zh=null,Bh.call(i))}function gC(i,s){if(!(s.state.loading&4)){var o=zh.get(i);if(o)var u=o.get(null);else{o=new Map,zh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=Bh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var fu={$$typeof:H,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function yC(i,s,o,u,d,g,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function XT(i,s,o,u,d,g,E,A,D,K,J,nt){return i=new yC(i,s,o,E,A,D,K,nt),s=1,g===!0&&(s|=24),g=Nn(3,null,null,s),i.current=g,g.stateNode=i,s=lm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},fm(g),i}function WT(i){return i?(i=so,i):so}function ZT(i,s,o,u,d,g){d=WT(d),u.context===null?u.context=d:u.pendingContext=d,u=Yr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Qr(i,u,s),o!==null&&(kn(o,i,s),Fl(o,i,s))}function JT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Cp(i,s){JT(i,s),(i=i.alternate)&&JT(i,s)}function tE(i){if(i.tag===13){var s=ro(i,67108864);s!==null&&kn(s,i,67108864),Cp(i,67108864)}}var Fh=!0;function vC(i,s,o,u){var d=W.T;W.T=null;var g=at.p;try{at.p=2,Ip(i,s,o,u)}finally{at.p=g,W.T=d}}function _C(i,s,o,u){var d=W.T;W.T=null;var g=at.p;try{at.p=8,Ip(i,s,o,u)}finally{at.p=g,W.T=d}}function Ip(i,s,o,u){if(Fh){var d=Dp(u);if(d===null)gp(i,s,u,Hh,o),nE(i,u);else if(EC(d,i,s,o,u))u.stopPropagation();else if(nE(i,u),s&4&&-1<TC.indexOf(i)){for(;d!==null;){var g=yi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ni(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var D=1<<31-tn(E);A.entanglements[1]|=D,E&=~D}Ni(g),(Qt&6)===0&&(Rh=hn()+500,su(0))}}break;case 13:A=ro(g,2),A!==null&&kn(A,g,2),Ch(),Cp(g,2)}if(g=Dp(u),g===null&&gp(i,s,u,Hh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else gp(i,s,u,null,o)}}function Dp(i){return i=zn(i),Np(i)}var Hh=null;function Np(i){if(Hh=null,i=tr(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Hh=i,null}function eE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hl()){case js:return 2;case Wi:return 8;case Ot:case Ht:return 32;case He:return 268435456;default:return 32}default:return 32}}var Pp=!1,ls=null,us=null,cs=null,du=new Map,mu=new Map,hs=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nE(i,s){switch(i){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(s.pointerId)}}function pu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=yi(s),s!==null&&tE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function EC(i,s,o,u,d){switch(s){case"focusin":return ls=pu(ls,i,s,o,u,d),!0;case"dragenter":return us=pu(us,i,s,o,u,d),!0;case"mouseover":return cs=pu(cs,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return du.set(g,pu(du.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,mu.set(g,pu(mu.get(g)||null,i,s,o,u,d)),!0}return!1}function iE(i){var s=tr(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Cc(i.priority,function(){if(o.tag===13){var u=Mn();u=jr(u);var d=ro(o,u);d!==null&&kn(d,o,u),Cp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Dp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);rr=u,o.target.dispatchEvent(u),rr=null}else return s=yi(o),s!==null&&tE(s),i.blockedOn=o,!1;s.shift()}return!0}function rE(i,s,o){qh(i)&&o.delete(s)}function bC(){Pp=!1,ls!==null&&qh(ls)&&(ls=null),us!==null&&qh(us)&&(us=null),cs!==null&&qh(cs)&&(cs=null),du.forEach(rE),mu.forEach(rE)}function Gh(i,s){i.blockedOn===s&&(i.blockedOn=null,Pp||(Pp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bC)))}var Kh=null;function sE(i){Kh!==i&&(Kh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kh===i&&(Kh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Np(u||o)===null)continue;break}var g=yi(o);g!==null&&(i.splice(s,3),s-=3,Nm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function gu(i){function s(D){return Gh(D,i)}ls!==null&&Gh(ls,i),us!==null&&Gh(us,i),cs!==null&&Gh(cs,i),du.forEach(s),mu.forEach(s);for(var o=0;o<hs.length;o++){var u=hs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<hs.length&&(o=hs[0],o.blockedOn===null);)iE(o),o.blockedOn===null&&hs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[we]||null;if(typeof g=="function")E||sE(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[we]||null)A=E.formAction;else if(Np(d)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),sE(o)}}}function Op(i){this._internalRoot=i}$h.prototype.render=Op.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Mn();ZT(o,u,i,s,null,null)},$h.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ZT(i.current,2,null,i,null,null),Ch(),s[jn]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var s=Br();i={blockedOn:null,target:i,priority:s};for(var o=0;o<hs.length&&s!==0&&s<hs[o].priority;o++);hs.splice(o,0,i),o===0&&iE(i)}};var aE=t.version;if(aE!=="19.1.0")throw Error(r(527,aE,"19.1.0"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var AC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{ne=Yh.inject(AC),Yt=Yh}catch{}}return vu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=b_,g=A_,E=w_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=XT(i,1,!1,null,null,o,u,d,g,E,A,null),i[jn]=s.current,pp(i),new Op(s)},vu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=b_,E=A_,A=w_,D=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=XT(i,1,!0,s,o??null,u,d,g,E,A,D,K),s.context=WT(null),o=s.current,u=Mn(),u=jr(u),d=Yr(u),d.callback=null,Qr(o,d,u),o=u,s.current.lanes=o,Ji(s,o),Ni(s),i[jn]=s.current,pp(i),new $h(s)},vu.version="19.1.0",vu}var gE;function OC(){if(gE)return kp.exports;gE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kp.exports=PC(),kp.exports}var VC=OC();const MC=Iw(VC),kC=()=>{};var yE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},LC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,w=p&63;m||(w=64,c||(b=64)),r.push(n[y],n[_],n[b],n[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):LC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new UC;const b=l<<2|f>>4;if(r.push(b),p!==64){const w=f<<4&240|p>>2;if(r.push(w),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class UC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jC=function(e){const t=Dw(e);return Nw.encodeByteArray(t,!0)},Sf=function(e){return jC(e).replace(/\./g,"")},Pw=function(e){try{return Nw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=()=>BC().__FIREBASE_DEFAULTS__,FC=()=>{if(typeof process>"u"||typeof yE>"u")return;const e=yE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},HC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Pw(e[1]);return t&&JSON.parse(t)},rd=()=>{try{return kC()||zC()||FC()||HC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ow=e=>{var t,n;return(n=(t=rd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Vw=e=>{const t=Ow(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Mw=()=>{var e;return(e=rd())===null||e===void 0?void 0:e.config},kw=e=>{var t;return(t=rd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sf(JSON.stringify(n)),Sf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function KC(){var e;const t=(e=rd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YC(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function QC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XC(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function WC(){return!KC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZC(){try{return typeof indexedDB=="object"}catch{return!1}}function JC(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="FirebaseError";class Gi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=tI,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?eI(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Gi(a,f,r)}}function eI(e,t){return e.replace(nI,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const nI=/\{\$([^}]+)}/g;function iI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ss(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(vE(l)&&vE(c)){if(!Ss(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function vE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Au(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function wu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function rI(e,t){const n=new sI(e,t);return n.subscribe.bind(n)}class sI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aI(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Bp),a.error===void 0&&(a.error=Bp),a.complete===void 0&&(a.complete=Bp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e){return e&&e._delegate?e._delegate:e}class Rs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new qC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uI(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lI(e){return e===Ta?void 0:e}function uI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new oI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const hI={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},fI=kt.INFO,dI={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},mI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=dI[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cy{constructor(t){this.name=t,this._logLevel=fI,this._logHandler=mI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const pI=(e,t)=>t.some(n=>e instanceof n);let _E,TE;function gI(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yI(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uw=new WeakMap,dg=new WeakMap,jw=new WeakMap,zp=new WeakMap,hy=new WeakMap;function vI(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Es(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Uw.set(n,e)}).catch(()=>{}),hy.set(t,e),t}function _I(e){if(dg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});dg.set(e,t)}let mg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function TI(e){mg=e(mg)}function EI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fp(this),t,...n);return jw.set(r,t.sort?t.sort():[t]),Es(r)}:yI().includes(e)?function(...t){return e.apply(Fp(this),t),Es(Uw.get(this))}:function(...t){return Es(e.apply(Fp(this),t))}}function bI(e){return typeof e=="function"?EI(e):(e instanceof IDBTransaction&&_I(e),pI(e,gI())?new Proxy(e,mg):e)}function Es(e){if(e instanceof IDBRequest)return vI(e);if(zp.has(e))return zp.get(e);const t=bI(e);return t!==e&&(zp.set(e,t),hy.set(t,e)),t}const Fp=e=>hy.get(e);function AI(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=Es(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Es(c.result),m.oldVersion,m.newVersion,Es(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const wI=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],Hp=new Map;function EE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Hp.get(t))return Hp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=SI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||wI.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Hp.set(t,l),l}TI(e=>({...e,get:(t,n,r)=>EE(t,n)||e.get(t,n,r),has:(t,n)=>!!EE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pg="@firebase/app",bE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new cy("@firebase/app"),CI="@firebase/app-compat",II="@firebase/analytics-compat",DI="@firebase/analytics",NI="@firebase/app-check-compat",PI="@firebase/app-check",OI="@firebase/auth",VI="@firebase/auth-compat",MI="@firebase/database",kI="@firebase/data-connect",LI="@firebase/database-compat",UI="@firebase/functions",jI="@firebase/functions-compat",BI="@firebase/installations",zI="@firebase/installations-compat",FI="@firebase/messaging",HI="@firebase/messaging-compat",qI="@firebase/performance",GI="@firebase/performance-compat",KI="@firebase/remote-config",$I="@firebase/remote-config-compat",YI="@firebase/storage",QI="@firebase/storage-compat",XI="@firebase/firestore",WI="@firebase/vertexai",ZI="@firebase/firestore-compat",JI="firebase",tD="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",eD={[pg]:"fire-core",[CI]:"fire-core-compat",[DI]:"fire-analytics",[II]:"fire-analytics-compat",[PI]:"fire-app-check",[NI]:"fire-app-check-compat",[OI]:"fire-auth",[VI]:"fire-auth-compat",[MI]:"fire-rtdb",[kI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[UI]:"fire-fn",[jI]:"fire-fn-compat",[BI]:"fire-iid",[zI]:"fire-iid-compat",[FI]:"fire-fcm",[HI]:"fire-fcm-compat",[qI]:"fire-perf",[GI]:"fire-perf-compat",[KI]:"fire-rc",[$I]:"fire-rc-compat",[YI]:"fire-gcs",[QI]:"fire-gcs-compat",[XI]:"fire-fst",[ZI]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[JI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,nD=new Map,yg=new Map;function AE(e,t){try{e.container.addComponent(t)}catch(n){Ir.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ca(e){const t=e.name;if(yg.has(t))return Ir.debug(`There were multiple attempts to register component ${t}.`),!1;yg.set(t,e);for(const n of Rf.values())AE(n,e);for(const n of nD.values())AE(n,e);return!0}function sd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new ac("app","Firebase",iD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=tD;function Bw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:gg,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw bs.create("bad-app-name",{appName:String(a)});if(n||(n=Mw()),!n)throw bs.create("no-options");const l=Rf.get(a);if(l){if(Ss(n,l.options)&&Ss(r,l.config))return l;throw bs.create("duplicate-app",{appName:a})}const c=new cI(a);for(const m of yg.values())c.addComponent(m);const f=new rD(n,r,c);return Rf.set(a,f),f}function fy(e=gg){const t=Rf.get(e);if(!t&&e===gg&&Mw())return Bw();if(!t)throw bs.create("no-app",{appName:e});return t}function Oi(e,t,n){var r;let a=(r=eD[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ir.warn(f.join(" "));return}Ca(new Rs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebase-heartbeat-database",aD=1,Bu="firebase-heartbeat-store";let qp=null;function zw(){return qp||(qp=AI(sD,aD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(e=>{throw bs.create("idb-open",{originalErrorMessage:e.message})})),qp}async function oD(e){try{const n=(await zw()).transaction(Bu),r=await n.objectStore(Bu).get(Fw(e));return await n.done,r}catch(t){if(t instanceof Gi)Ir.warn(t.message);else{const n=bs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ir.warn(n.message)}}}async function wE(e,t){try{const r=(await zw()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(t,Fw(e)),await r.done}catch(n){if(n instanceof Gi)Ir.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function Fw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=1024,uD=30;class cD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=SE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>uD){const c=dD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SE(),{heartbeatsToSend:r,unsentEntries:a}=hD(this._heartbeatsCache.heartbeats),l=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ir.warn(n),""}}}function SE(){return new Date().toISOString().substring(0,10)}function hD(e,t=lD){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),RE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),RE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZC()?JC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return wE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return wE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function RE(e){return Sf(JSON.stringify({version:2,heartbeats:e})).length}function dD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(e){Ca(new Rs("platform-logger",t=>new RI(t),"PRIVATE")),Ca(new Rs("heartbeat",t=>new cD(t),"PRIVATE")),Oi(pg,bE,e),Oi(pg,bE,"esm2017"),Oi("fire-js","")}mD("");var pD="firebase",gD="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(pD,gD,"app");function dy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Hw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yD=Hw,qw=new ac("auth","Firebase",Hw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new cy("@firebase/auth");function vD(e,...t){xf.logLevel<=kt.WARN&&xf.warn(`Auth (${Oa}): ${e}`,...t)}function uf(e,...t){xf.logLevel<=kt.ERROR&&xf.error(`Auth (${Oa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(e,...t){throw py(e,...t)}function fi(e,...t){return py(e,...t)}function my(e,t,n){const r=Object.assign(Object.assign({},yD()),{[t]:n});return new ac("auth","Firebase",r).create(t,{appName:e.name})}function Rr(e){return my(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _D(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&ti(e,"argument-error"),my(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function py(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return qw.create(e,...t)}function bt(e,t,...n){if(!e)throw py(t,...n)}function wr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw uf(t),new Error(t)}function Dr(e,t){e||wr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function TD(){return xE()==="http:"||xE()==="https:"}function xE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TD()||YC()||"connection"in navigator)?navigator.onLine:!0}function bD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Dr(n>t,"Short delay should be less than long delay!"),this.isMobile=GC()||QC()}get(){return ED()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(e,t){Dr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SD=new lc(3e4,6e4);function Mr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kr(e,t,n,r,a={}){return Kw(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=oc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return $C()||(p.referrerPolicy="no-referrer"),Gw.fetch()(await $w(e,e.config.apiHost,n,f),p)})}async function Kw(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},AD),t);try{const a=new xD(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Qh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Qh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Qh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw my(e,y,p);ti(e,y)}}catch(a){if(a instanceof Gi)throw a;ti(e,"network-request-failed",{message:String(a)})}}async function uc(e,t,n,r,a={}){const l=await kr(e,t,n,r,a);return"mfaPendingCredential"in l&&ti(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function $w(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?gy(e.config,a):`${e.config.apiScheme}://${a}`;return wD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function RD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),SD.get())})}}function Qh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=fi(e,t,r);return a.customData._tokenResponse=n,a}function CE(e){return e!==void 0&&e.enterprise!==void 0}class CD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return RD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ID(e,t){return kr(e,"GET","/v2/recaptchaConfig",Mr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(e,t){return kr(e,"POST","/v1/accounts:delete",t)}async function Cf(e,t){return kr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ND(e,t=!1){const n=be(e),r=await n.getIdToken(t),a=yy(r);bt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Nu(Gp(a.auth_time)),issuedAtTime:Nu(Gp(a.iat)),expirationTime:Nu(Gp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Gp(e){return Number(e)*1e3}function yy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Pw(n);return a?JSON.parse(a):(uf("Failed to decode base64 JWT payload"),null)}catch(a){return uf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function IE(e){const t=yy(e);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Gi&&PD(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function PD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(e){var t;const n=e.auth,r=await e.getIdToken(),a=await zu(e,Cf(n,{idToken:r}));bt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Yw(l.providerUserInfo):[],f=MD(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new _g(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function VD(e){const t=be(e);await If(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MD(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function Yw(e){return e.map(t=>{var{providerId:n}=t,r=dy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(e,t){const n=await Kw(e,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await $w(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Gw.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LD(e,t){return kr(e,"POST","/v2/accounts:revokeToken",Mr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):IE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=IE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await kD(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new jo;return r&&(bt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(bt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(bt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e,t){bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ci{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=dy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _g(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await zu(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ND(this,t)}reload(){return VD(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ci(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await If(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Rr(this.auth));const t=await this.getIdToken();return await zu(this,DD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,L=(f=n.tenantId)!==null&&f!==void 0?f:void 0,C=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Q=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:rt,isAnonymous:Z,providerData:ot,stsTokenManager:O}=n;bt(H&&O,t,"internal-error");const R=jo.fromJSON(this.name,O);bt(typeof H=="string",t,"internal-error"),ds(_,t.name),ds(b,t.name),bt(typeof rt=="boolean",t,"internal-error"),bt(typeof Z=="boolean",t,"internal-error"),ds(w,t.name),ds(x,t.name),ds(L,t.name),ds(C,t.name),ds(N,t.name),ds(Q,t.name);const I=new ci({uid:H,auth:t,email:b,emailVerified:rt,displayName:_,isAnonymous:Z,photoURL:x,phoneNumber:w,tenantId:L,stsTokenManager:R,createdAt:N,lastLoginAt:Q});return ot&&Array.isArray(ot)&&(I.providerData=ot.map(M=>Object.assign({},M))),C&&(I._redirectEventId=C),I}static async _fromIdTokenResponse(t,n,r=!1){const a=new jo;a.updateFromServerResponse(n);const l=new ci({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await If(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];bt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Yw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new jo;f.updateFromIdToken(r);const m=new ci({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new _g(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function Sr(e){Dr(e instanceof Function,"Expected a class definition");let t=DE.get(e);return t?(Dr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,DE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Qw.type="NONE";const NE=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(e,t,n){return`firebase:${e}:${t}:${n}`}class Bo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=cf(this.userKey,a.apiKey,l),this.fullPersistenceKey=cf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Cf(this.auth,{idToken:t}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Bo(Sr(NE),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Sr(NE);const c=cf(r,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Cf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await ci._fromGetAccountInfoResponse(t,b,y)}else _=ci._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Bo(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Bo(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eS(t))return"Blackberry";if(nS(t))return"Webos";if(Ww(t))return"Safari";if((t.includes("chrome/")||Zw(t))&&!t.includes("edge/"))return"Chrome";if(tS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xw(e=cn()){return/firefox\//i.test(e)}function Ww(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zw(e=cn()){return/crios\//i.test(e)}function Jw(e=cn()){return/iemobile/i.test(e)}function tS(e=cn()){return/android/i.test(e)}function eS(e=cn()){return/blackberry/i.test(e)}function nS(e=cn()){return/webos/i.test(e)}function vy(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function UD(e=cn()){var t;return vy(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function jD(){return XC()&&document.documentMode===10}function iS(e=cn()){return vy(e)||tS(e)||nS(e)||eS(e)||/windows phone/i.test(e)||Jw(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(e,t=[]){let n;switch(e){case"Browser":n=PE(cn());break;case"Worker":n=`${PE(cn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(e,t={}){return kr(e,"GET","/v2/passwordPolicy",Mr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=6;class HD{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:FD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new BD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Cf(this,{idToken:t}),r=await ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Sn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await If(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Sn(this.app))return Promise.reject(Rr(this));const n=t?be(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Sn(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zD(this),n=new HD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ac("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LD(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Sr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&vD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lr(e){return be(e)}class OE{constructor(t){this.auth=t,this.observer=null,this.addObserver=rI(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GD(e){ad=e}function sS(e){return ad.loadJS(e)}function KD(){return ad.recaptchaEnterpriseScript}function $D(){return ad.gapiScript}function YD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class QD{constructor(){this.enterprise=new XD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class XD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const WD="recaptcha-enterprise",aS="NO_RECAPTCHA";class ZD{constructor(t){this.type=WD,this.auth=Lr(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{ID(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new CD(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;CE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(aS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&CE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=KD();m.length!==0&&(m+=f),sS(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function VE(e,t,n,r=!1,a=!1){const l=new ZD(e);let c;if(a)c=aS;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Df(e,t,n,r,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await VE(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await VE(e,t,n,n==="getOobCode");return r(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e,t){const n=sd(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ss(l,t??{}))return a;ti(a,"already-initialized")}return n.initialize({options:t})}function tN(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function eN(e,t,n){const r=Lr(e);bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=oS(t),{host:c,port:f}=nN(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(Ss(p,r.config.emulator)&&Ss(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,iN()}function oS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nN(e){const t=oS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:ME(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:ME(c)}}}function ME(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function iN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(t){return wr("not implemented")}_linkToIdToken(t,n){return wr("not implemented")}_getReauthenticationResolver(t){return wr("not implemented")}}async function rN(e,t){return kr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(e,t){return uc(e,"POST","/v1/accounts:signInWithPassword",Mr(e,t))}async function aN(e,t){return kr(e,"POST","/v1/accounts:sendOobCode",Mr(e,t))}async function oN(e,t){return aN(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(e,t){return uc(e,"POST","/v1/accounts:signInWithEmailLink",Mr(e,t))}async function uN(e,t){return uc(e,"POST","/v1/accounts:signInWithEmailLink",Mr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends _y{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Fu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Fu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Df(t,n,"signInWithPassword",sN);case"emailLink":return lN(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Df(t,r,"signUpPassword",rN);case"emailLink":return uN(t,{idToken:n,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(e,t){return uc(e,"POST","/v1/accounts:signInWithIdp",Mr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="http://localhost";class Ia extends _y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=dy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ia(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return zo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,zo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,zo(t,n)}buildRequest(){const t={requestUri:cN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=oc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fN(e){const t=Au(wu(e)).link,n=t?Au(wu(t)).deep_link_id:null,r=Au(wu(e)).deep_link_id;return(r?Au(wu(r)).link:null)||r||n||t||e}class Ty{constructor(t){var n,r,a,l,c,f;const m=Au(wu(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=hN((a=m.mode)!==null&&a!==void 0?a:null);bt(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const n=fN(t);try{return new Ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(t,n){return Fu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Ty.parseLink(n);return bt(r,"argument-error"),Fu._fromEmailAndCode(t,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Ey{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends cc{constructor(){super("facebook.com")}static credential(t){return Ia._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ia._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends cc{constructor(){super("github.com")}static credential(t){return Ia._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ys.credential(t.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends cc{constructor(){super("twitter.com")}static credential(t,n){return Ia._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return vs.credential(n,r)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(e,t){return uc(e,"POST","/v1/accounts:signUp",Mr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await ci._fromIdTokenResponse(t,r,a),c=kE(r);return new Da({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=kE(r);return new Da({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function kE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends Gi{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Nf(t,n,r,a)}}function lS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(e,l,t,r):l})}async function mN(e,t,n=!1){const r=await zu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Da._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(e,t,n=!1){const{auth:r}=e;if(Sn(r.app))return Promise.reject(Rr(r));const a="reauthenticate";try{const l=await zu(e,lS(r,a,t,e),n);bt(l.idToken,r,"internal-error");const c=yy(l.idToken);bt(c,r,"internal-error");const{sub:f}=c;return bt(e.uid===f,r,"user-mismatch"),Da._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ti(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(e,t,n=!1){if(Sn(e.app))return Promise.reject(Rr(e));const r="signIn",a=await lS(e,r,t),l=await Da._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function gN(e,t){return uS(Lr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(e){const t=Lr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function yN(e,t,n){const r=Lr(e);await Df(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",oN)}async function vN(e,t,n){if(Sn(e.app))return Promise.reject(Rr(e));const r=Lr(e),c=await Df(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&cS(e),m}),f=await Da._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function _N(e,t,n){return Sn(e.app)?Promise.reject(Rr(e)):gN(be(e),tl.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cS(e),r})}function TN(e,t,n,r){return be(e).onIdTokenChanged(t,n,r)}function EN(e,t,n){return be(e).beforeAuthStateChanged(t,n)}function bN(e){return be(e).signOut()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1e3,wN=10;class fS extends hS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);jD()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,wN):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fS.type="LOCAL";const SN=fS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends hS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dS.type="SESSION";const mS=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new od(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await RN(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=by("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function CN(e){Vi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function IN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function NN(){return pS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebaseLocalStorageDb",PN=1,Of="firebaseLocalStorage",yS="fbase_key";class hc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(e,t){return e.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function ON(){const e=indexedDB.deleteDatabase(gS);return new hc(e).toPromise()}function Tg(){const e=indexedDB.open(gS,PN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Of,{keyPath:yS})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Of)?t(r):(r.close(),await ON(),t(await Tg()))})})}async function LE(e,t,n){const r=ld(e,!0).put({[yS]:t,value:n});return new hc(r).toPromise()}async function VN(e,t){const n=ld(e,!1).get(t),r=await new hc(n).toPromise();return r===void 0?null:r.value}function UE(e,t){const n=ld(e,!0).delete(t);return new hc(n).toPromise()}const MN=800,kN=3;class vS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>kN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(NN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await IN(),!this.activeServiceWorker)return;this.sender=new xN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tg();return await LE(t,Pf,"1"),await UE(t,Pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>VN(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ld(a,!1).getAll();return new hc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vS.type="LOCAL";const LN=vS;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(e,t){return t?Sr(t):(bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends _y{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return zo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function UN(e){return uS(e.auth,new Ay(e),e.bypassAuthState)}function jN(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),pN(n,new Ay(e),e.bypassAuthState)}async function BN(e){const{auth:t,user:n}=e;return bt(n,t,"internal-error"),mN(n,new Ay(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UN;case"linkViaPopup":case"linkViaRedirect":return BN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:ti(this.auth,"internal-error")}}resolve(t){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new lc(2e3,1e4);async function FN(e,t,n){if(Sn(e.app))return Promise.reject(fi(e,"operation-not-supported-in-this-environment"));const r=Lr(e);_D(e,t,Ey);const a=_S(r,n);return new Aa(r,"signInViaPopup",t,a).executeNotNull()}class Aa extends TS{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const t=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zN.get())};t()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="pendingRedirect",hf=new Map;class qN extends TS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=hf.get(this.auth._key());if(!t){try{const r=await GN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}hf.set(this.auth._key(),t)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GN(e,t){const n=YN(t),r=$N(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function KN(e,t){hf.set(e._key(),t)}function $N(e){return Sr(e._redirectPersistence)}function YN(e){return cf(HN,e.config.apiKey,e.name)}async function QN(e,t,n=!1){if(Sn(e.app))return Promise.reject(Rr(e));const r=Lr(e),a=_S(r,t),c=await new qN(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=10*60*1e3;class WN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!ES(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XN&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(t))}saveEventToCache(t){this.cachedEventUids.add(jE(t)),this.lastProcessedEventTime=Date.now()}}function jE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ES({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ZN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(e,t={}){return kr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eP=/^https?/;async function nP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await JN(e);for(const n of t)try{if(iP(n))return}catch{}ti(e,"unauthorized-domain")}function iP(e){const t=vg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!eP.test(n))return!1;if(tP.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new lc(3e4,6e4);function BE(){const e=Vi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function sP(e){return new Promise((t,n)=>{var r,a,l;function c(){BE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{BE(),n(fi(e,"network-request-failed"))},timeout:rP.get()})}if(!((a=(r=Vi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Vi().gapi)===null||l===void 0)&&l.load)c();else{const f=YD("iframefcb");return Vi()[f]=()=>{gapi.load?c():n(fi(e,"network-request-failed"))},sS(`${$D()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw ff=null,t})}let ff=null;function aP(e){return ff=ff||sP(e),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new lc(5e3,15e3),lP="__/auth/iframe",uP="emulator/auth/iframe",cP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fP(e){const t=e.config;bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?gy(t,uP):`https://${e.config.authDomain}/${lP}`,r={apiKey:t.apiKey,appName:e.name,v:Oa},a=hP.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${oc(r).slice(1)}`}async function dP(e){const t=await aP(e),n=Vi().gapi;return bt(n,e,"internal-error"),t.open({where:document.body,url:fP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cP,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=fi(e,"network-request-failed"),f=Vi().setTimeout(()=>{l(c)},oP.get());function m(){Vi().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pP=500,gP=600,yP="_blank",vP="http://localhost";class zE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _P(e,t,n,r=pP,a=gP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},mP),{width:r.toString(),height:a.toString(),top:l,left:c}),p=cn().toLowerCase();n&&(f=Zw(p)?yP:n),Xw(p)&&(t=t||vP,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[w,x])=>`${b}${w}=${x},`,"");if(UD(p)&&f!=="_self")return TP(t||"",f),new zE(null);const _=window.open(t||"",f,y);bt(_,e,"popup-blocked");try{_.focus()}catch{}return new zE(_)}function TP(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="__/auth/handler",bP="emulator/auth/handler",AP=encodeURIComponent("fac");async function FE(e,t,n,r,a,l){bt(e.config.authDomain,e,"auth-domain-config-required"),bt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Oa,eventId:a};if(t instanceof Ey){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",iI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof cc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${AP}=${encodeURIComponent(m)}`:"";return`${wP(e)}?${oc(f).slice(1)}${p}`}function wP({config:e}){return e.emulator?gy(e,bP):`https://${e.authDomain}/${EP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class SP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mS,this._completeRedirectFn=QN,this._overrideRedirectResult=KN}async _openPopup(t,n,r,a){var l;Dr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await FE(t,n,r,vg(),a);return _P(t,c,by())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await FE(t,n,r,vg(),a);return CN(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Dr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await dP(t),r=new WN(t);return n.register("authEvent",a=>(bt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kp,{type:Kp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Kp];c!==void 0&&n(!!c),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return iS()||Ww()||vy()}}const RP=SP;var HE="@firebase/auth",qE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IP(e){Ca(new Rs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(e)},p=new qD(r,a,l,m);return tN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ca(new Rs("auth-internal",t=>{const n=Lr(t.getProvider("auth").getImmediate());return(r=>new xP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(HE,qE,CP(e)),Oi(HE,qE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=5*60,NP=kw("authIdTokenMaxAge")||DP;let GE=null;const PP=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NP)return;const a=n==null?void 0:n.token;GE!==a&&(GE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function OP(e=fy()){const t=sd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=JD(e,{popupRedirectResolver:RP,persistence:[LN,SN,mS]}),r=kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=PP(l.toString());EN(n,c,()=>c(n.currentUser)),TN(n,f=>c(f))}}const a=Ow("auth");return a&&eN(n,`http://${a}`),n}function VP(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}GD({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=fi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",VP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IP("Browser");var KE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,bS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function I(){}I.prototype=R.prototype,O.D=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(M,B,z){for(var P=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)P[oe-2]=arguments[oe];return R.prototype[B].apply(M,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)M[B]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(B=0;16>B;++B)M[B]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],B=O.g[2];var z=O.g[3],P=R+(z^I&(B^z))+M[0]+3614090360&4294967295;R=I+(P<<7&4294967295|P>>>25),P=z+(B^R&(I^B))+M[1]+3905402710&4294967295,z=R+(P<<12&4294967295|P>>>20),P=B+(I^z&(R^I))+M[2]+606105819&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(R^B&(z^R))+M[3]+3250441966&4294967295,I=B+(P<<22&4294967295|P>>>10),P=R+(z^I&(B^z))+M[4]+4118548399&4294967295,R=I+(P<<7&4294967295|P>>>25),P=z+(B^R&(I^B))+M[5]+1200080426&4294967295,z=R+(P<<12&4294967295|P>>>20),P=B+(I^z&(R^I))+M[6]+2821735955&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(R^B&(z^R))+M[7]+4249261313&4294967295,I=B+(P<<22&4294967295|P>>>10),P=R+(z^I&(B^z))+M[8]+1770035416&4294967295,R=I+(P<<7&4294967295|P>>>25),P=z+(B^R&(I^B))+M[9]+2336552879&4294967295,z=R+(P<<12&4294967295|P>>>20),P=B+(I^z&(R^I))+M[10]+4294925233&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(R^B&(z^R))+M[11]+2304563134&4294967295,I=B+(P<<22&4294967295|P>>>10),P=R+(z^I&(B^z))+M[12]+1804603682&4294967295,R=I+(P<<7&4294967295|P>>>25),P=z+(B^R&(I^B))+M[13]+4254626195&4294967295,z=R+(P<<12&4294967295|P>>>20),P=B+(I^z&(R^I))+M[14]+2792965006&4294967295,B=z+(P<<17&4294967295|P>>>15),P=I+(R^B&(z^R))+M[15]+1236535329&4294967295,I=B+(P<<22&4294967295|P>>>10),P=R+(B^z&(I^B))+M[1]+4129170786&4294967295,R=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(R^I))+M[6]+3225465664&4294967295,z=R+(P<<9&4294967295|P>>>23),P=B+(R^I&(z^R))+M[11]+643717713&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^R&(B^z))+M[0]+3921069994&4294967295,I=B+(P<<20&4294967295|P>>>12),P=R+(B^z&(I^B))+M[5]+3593408605&4294967295,R=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(R^I))+M[10]+38016083&4294967295,z=R+(P<<9&4294967295|P>>>23),P=B+(R^I&(z^R))+M[15]+3634488961&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^R&(B^z))+M[4]+3889429448&4294967295,I=B+(P<<20&4294967295|P>>>12),P=R+(B^z&(I^B))+M[9]+568446438&4294967295,R=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(R^I))+M[14]+3275163606&4294967295,z=R+(P<<9&4294967295|P>>>23),P=B+(R^I&(z^R))+M[3]+4107603335&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^R&(B^z))+M[8]+1163531501&4294967295,I=B+(P<<20&4294967295|P>>>12),P=R+(B^z&(I^B))+M[13]+2850285829&4294967295,R=I+(P<<5&4294967295|P>>>27),P=z+(I^B&(R^I))+M[2]+4243563512&4294967295,z=R+(P<<9&4294967295|P>>>23),P=B+(R^I&(z^R))+M[7]+1735328473&4294967295,B=z+(P<<14&4294967295|P>>>18),P=I+(z^R&(B^z))+M[12]+2368359562&4294967295,I=B+(P<<20&4294967295|P>>>12),P=R+(I^B^z)+M[5]+4294588738&4294967295,R=I+(P<<4&4294967295|P>>>28),P=z+(R^I^B)+M[8]+2272392833&4294967295,z=R+(P<<11&4294967295|P>>>21),P=B+(z^R^I)+M[11]+1839030562&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^R)+M[14]+4259657740&4294967295,I=B+(P<<23&4294967295|P>>>9),P=R+(I^B^z)+M[1]+2763975236&4294967295,R=I+(P<<4&4294967295|P>>>28),P=z+(R^I^B)+M[4]+1272893353&4294967295,z=R+(P<<11&4294967295|P>>>21),P=B+(z^R^I)+M[7]+4139469664&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^R)+M[10]+3200236656&4294967295,I=B+(P<<23&4294967295|P>>>9),P=R+(I^B^z)+M[13]+681279174&4294967295,R=I+(P<<4&4294967295|P>>>28),P=z+(R^I^B)+M[0]+3936430074&4294967295,z=R+(P<<11&4294967295|P>>>21),P=B+(z^R^I)+M[3]+3572445317&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^R)+M[6]+76029189&4294967295,I=B+(P<<23&4294967295|P>>>9),P=R+(I^B^z)+M[9]+3654602809&4294967295,R=I+(P<<4&4294967295|P>>>28),P=z+(R^I^B)+M[12]+3873151461&4294967295,z=R+(P<<11&4294967295|P>>>21),P=B+(z^R^I)+M[15]+530742520&4294967295,B=z+(P<<16&4294967295|P>>>16),P=I+(B^z^R)+M[2]+3299628645&4294967295,I=B+(P<<23&4294967295|P>>>9),P=R+(B^(I|~z))+M[0]+4096336452&4294967295,R=I+(P<<6&4294967295|P>>>26),P=z+(I^(R|~B))+M[7]+1126891415&4294967295,z=R+(P<<10&4294967295|P>>>22),P=B+(R^(z|~I))+M[14]+2878612391&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~R))+M[5]+4237533241&4294967295,I=B+(P<<21&4294967295|P>>>11),P=R+(B^(I|~z))+M[12]+1700485571&4294967295,R=I+(P<<6&4294967295|P>>>26),P=z+(I^(R|~B))+M[3]+2399980690&4294967295,z=R+(P<<10&4294967295|P>>>22),P=B+(R^(z|~I))+M[10]+4293915773&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~R))+M[1]+2240044497&4294967295,I=B+(P<<21&4294967295|P>>>11),P=R+(B^(I|~z))+M[8]+1873313359&4294967295,R=I+(P<<6&4294967295|P>>>26),P=z+(I^(R|~B))+M[15]+4264355552&4294967295,z=R+(P<<10&4294967295|P>>>22),P=B+(R^(z|~I))+M[6]+2734768916&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~R))+M[13]+1309151649&4294967295,I=B+(P<<21&4294967295|P>>>11),P=R+(B^(I|~z))+M[4]+4149444226&4294967295,R=I+(P<<6&4294967295|P>>>26),P=z+(I^(R|~B))+M[11]+3174756917&4294967295,z=R+(P<<10&4294967295|P>>>22),P=B+(R^(z|~I))+M[2]+718787259&4294967295,B=z+(P<<15&4294967295|P>>>17),P=I+(z^(B|~R))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(B+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var I=R-this.blockSize,M=this.B,B=this.h,z=0;z<R;){if(B==0)for(;z<=I;)a(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(M[B++]=O.charCodeAt(z++),B==this.blockSize){a(this,M),B=0;break}}else for(;z<R;)if(M[B++]=O[z++],B==this.blockSize){a(this,M),B=0;break}}this.h=B,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var I=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=I&255,I/=256;for(this.u(O),O=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)O[I++]=this.g[R]>>>M&255;return O};function l(O,R){var I=f;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function c(O,R){this.h=R;for(var I=[],M=!0,B=O.length-1;0<=B;B--){var z=O[B]|0;M&&z==R||(I[B]=z,M=!1)}this.g=I}var f={};function m(O){return-128<=O&&128>O?l(O,function(R){return new c([R|0],0>R?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return C(p(-O));for(var R=[],I=1,M=0;O>=I;M++)R[M]=O/I|0,I*=4294967296;return new c(R,0)}function y(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return C(y(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),M=_,B=0;B<O.length;B+=8){var z=Math.min(8,O.length-B),P=parseInt(O.substring(B,B+z),R);8>z?(z=p(Math.pow(R,z)),M=M.j(z).add(p(P))):(M=M.j(I),M=M.add(p(P)))}return M}var _=m(0),b=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(L(this))return-C(this).m();for(var O=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);O+=(0<=M?M:4294967296+M)*R,R*=4294967296}return O},e.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(L(this))return"-"+C(this).toString(O);for(var R=p(Math.pow(O,6)),I=this,M="";;){var B=rt(I,R).g;I=N(I,B.j(R));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=B,x(I))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},e.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function L(O){return O.h==-1}e.l=function(O){return O=N(this,O),L(O)?-1:x(O)?0:1};function C(O){for(var R=O.g.length,I=[],M=0;M<R;M++)I[M]=~O.g[M];return new c(I,~O.h).add(b)}e.abs=function(){return L(this)?C(this):this},e.add=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0,B=0;B<=R;B++){var z=M+(this.i(B)&65535)+(O.i(B)&65535),P=(z>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);M=P>>>16,z&=65535,P&=65535,I[B]=P<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function N(O,R){return O.add(C(R))}e.j=function(O){if(x(this)||x(O))return _;if(L(this))return L(O)?C(this).j(C(O)):C(C(this).j(O));if(L(O))return C(this.j(C(O)));if(0>this.l(w)&&0>O.l(w))return p(this.m()*O.m());for(var R=this.g.length+O.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<O.g.length;B++){var z=this.i(M)>>>16,P=this.i(M)&65535,oe=O.i(B)>>>16,$t=O.i(B)&65535;I[2*M+2*B]+=P*$t,Q(I,2*M+2*B),I[2*M+2*B+1]+=z*$t,Q(I,2*M+2*B+1),I[2*M+2*B+1]+=P*oe,Q(I,2*M+2*B+1),I[2*M+2*B+2]+=z*oe,Q(I,2*M+2*B+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new c(I,0)};function Q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function H(O,R){this.g=O,this.h=R}function rt(O,R){if(x(R))throw Error("division by zero");if(x(O))return new H(_,_);if(L(O))return R=rt(C(O),R),new H(C(R.g),C(R.h));if(L(R))return R=rt(O,C(R)),new H(C(R.g),R.h);if(30<O.g.length){if(L(O)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=R;0>=M.l(O);)I=Z(I),M=Z(M);var B=ot(I,1),z=ot(M,1);for(M=ot(M,2),I=ot(I,2);!x(M);){var P=z.add(M);0>=P.l(O)&&(B=B.add(I),z=P),M=ot(M,1),I=ot(I,1)}return R=N(O,B.j(R)),new H(B,R)}for(B=_;0<=O.l(R);){for(I=Math.max(1,Math.floor(O.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(I),P=z.j(R);L(P)||0<P.l(O);)I-=M,z=p(I),P=z.j(R);x(z)&&(z=b),B=B.add(z),O=N(O,P)}return new H(B,O)}e.A=function(O){return rt(this,O).h},e.and=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&O.i(M);return new c(I,this.h&O.h)},e.or=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|O.i(M);return new c(I,this.h|O.h)},e.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^O.i(M);return new c(I,this.h^O.h)};function Z(O){for(var R=O.g.length+1,I=[],M=0;M<R;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(I,O.h)}function ot(O,R){var I=R>>5;R%=32;for(var M=O.g.length-I,B=[],z=0;z<M;z++)B[z]=0<R?O.i(z+I)>>>R|O.i(z+I+1)<<32-R:O.i(z+I);return new c(B,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,As=c}).apply(typeof KE<"u"?KE:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AS,Su,wS,df,Eg,SS,RS,xS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var T=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in T))break t;T=T[q]}h=h[h.length-1],S=T[h],v=v(S),v!=S&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,S=!1,q={next:function(){if(!S&&T<h.length){var X=T++;return{value:v(X,h[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function w(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function x(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(S,q,X){for(var ut=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ut[Ut-2]=arguments[Ut];return v.prototype[q].apply(S,ut)}}function L(h){const v=h.length;if(0<v){const T=Array(v);for(let S=0;S<v;S++)T[S]=h[S];return T}return[]}function C(h,v){for(let T=1;T<arguments.length;T++){const S=arguments[T];if(m(S)){const q=h.length||0,X=S.length||0;h.length=q+X;for(let ut=0;ut<X;ut++)h[q+ut]=S[ut]}else h.push(S)}}class N{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(h){return/^[\s\xa0]*$/.test(h)}function H(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function rt(h){return rt[" "](h),h}rt[" "]=function(){};var Z=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ot(h,v,T){for(const S in h)v.call(T,h[S],S,h)}function O(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let T,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(T in S)h[T]=S[T];for(let X=0;X<I.length;X++)T=I[X],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function B(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function z(h){f.setTimeout(()=>{throw h},0)}function P(){var h=Ct;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class oe{constructor(){this.h=this.g=null}add(v,T){const S=$t.get();S.set(v,T),this.h?this.h.next=S:this.g=S,this.h=S}}var $t=new N(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,Ct=new oe,k=()=>{const h=f.Promise.resolve(void 0);at=()=>{h.then(st)}};var st=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(T){z(T)}var v=$t;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Rt(h,v){if(lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Z){t:{try{rt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:vt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Rt.aa.h.call(this)}}x(Rt,lt);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Un(h,v,T,S,q){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!S,this.ha=q,this.key=++Wt,this.da=this.fa=!1}function mi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ei(h){this.src=h,this.g={},this.h=0}ei.prototype.add=function(h,v,T,S,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ut=Qi(h,v,S,q);return-1<ut?(v=h[ut],T||(v.fa=!1)):(v=new Un(v,this.src,X,!!S,q),v.fa=T,h.push(v)),v};function Yi(h,v){var T=v.type;if(T in h.g){var S=h.g[T],q=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=q)&&Array.prototype.splice.call(S,q,1),X&&(mi(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Qi(h,v,T,S){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==S)return q}return-1}var pi="closure_lm_"+(1e6*Math.random()|0),Xi={};function Ua(h,v,T,S,q){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Ua(h,v[X],T,S,q);return null}return T=fn(T),h&&h[Ae]?h.K(v,T,p(S)?!!S.capture:!1,q):hn(h,v,T,!1,S,q)}function hn(h,v,T,S,q,X){if(!v)throw Error("Invalid event type");var ut=p(q)?!!q.capture:!!q,Ut=He(h);if(Ut||(h[pi]=Ut=new ei(h)),T=Ut.add(v,T,S,ut,X),T.proxy)return T;if(S=hl(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)gt||(q=ut),q===void 0&&(q=!1),h.addEventListener(v.toString(),S,q);else if(h.attachEvent)h.attachEvent(Ot(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function hl(){function h(T){return v.call(h.src,h.listener,T)}const v=Ht;return h}function js(h,v,T,S,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)js(h,v[X],T,S,q);else S=p(S)?!!S.capture:!!S,T=fn(T),h&&h[Ae]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],T=Qi(X,T,S,q),-1<T&&(mi(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=He(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Qi(v,T,S,q)),(T=-1<h?v[h]:null)&&Wi(T))}function Wi(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ae])Yi(v.i,h);else{var T=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(T,S,h.capture):v.detachEvent?v.detachEvent(Ot(T),S):v.addListener&&v.removeListener&&v.removeListener(S),(T=He(v))?(Yi(T,h),T.h==0&&(T.src=null,v[pi]=null)):mi(h)}}}function Ot(h){return h in Xi?Xi[h]:Xi[h]="on"+h}function Ht(h,v){if(h.da)h=!0;else{v=new Rt(v,this);var T=h.listener,S=h.ha||h.src;h.fa&&Wi(h),h=T.call(S,v)}return h}function He(h){return h=h[pi],h instanceof ei?h:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(h){return typeof h=="function"?h:(h[Je]||(h[Je]=function(v){return h.handleEvent(v)}),h[Je])}function ne(){ct.call(this),this.i=new ei(this),this.M=this,this.F=null}x(ne,ct),ne.prototype[Ae]=!0,ne.prototype.removeEventListener=function(h,v,T,S){js(this,h,v,T,S)};function Yt(h,v){var T,S=h.F;if(S)for(T=[];S;S=S.F)T.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new lt(v,h);else if(v instanceof lt)v.target=v.target||h;else{var q=v;v=new lt(S,h),M(v,q)}if(q=!0,T)for(var X=T.length-1;0<=X;X--){var ut=v.g=T[X];q=Cn(ut,S,!0,v)&&q}if(ut=v.g=h,q=Cn(ut,S,!0,v)&&q,q=Cn(ut,S,!1,v)&&q,T)for(X=0;X<T.length;X++)ut=v.g=T[X],q=Cn(ut,S,!1,v)&&q}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],S=0;S<T.length;S++)mi(T[S]);delete h.g[v],h.h--}}this.F=null},ne.prototype.K=function(h,v,T,S){return this.i.add(String(h),v,!1,T,S)},ne.prototype.L=function(h,v,T,S){return this.i.add(String(h),v,!0,T,S)};function Cn(h,v,T,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,X=0;X<v.length;++X){var ut=v[X];if(ut&&!ut.da&&ut.capture==T){var Ut=ut.listener,Ne=ut.ha||ut.src;ut.fa&&Yi(h.i,ut),q=Ut.call(Ne,S)!==!1&&q}}return q&&!S.defaultPrevented}function tn(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function xc(h){h.g=tn(()=>{h.g=null,h.i&&(h.i=!1,xc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class kd extends ct{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(h){ct.call(this),this.h=h,this.g={}}x(Bs,ct);var zs=[];function Fs(h){ot(h.g,function(v,T){this.g.hasOwnProperty(T)&&Wi(v)},h),h.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Fs(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=f.JSON.stringify,ja=f.JSON.parse,Hs=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function fl(){}fl.prototype.h=null;function dl(h){return h.h||(h.h=h.i())}function ml(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){lt.call(this,"d")}x(Ji,lt);function pl(){lt.call(this,"c")}x(pl,lt);var gi={},gl=null;function jr(){return gl=gl||new ne}gi.La="serverreachability";function Ba(h){lt.call(this,gi.La,h)}x(Ba,lt);function Br(h){const v=jr();Yt(v,new Ba(v))}gi.STAT_EVENT="statevent";function Cc(h,v){lt.call(this,gi.STAT_EVENT,h),this.stat=v}x(Cc,lt);function le(h){const v=jr();Yt(v,new Cc(v,h))}gi.Ma="timingevent";function De(h,v){lt.call(this,gi.Ma,h),this.size=v}x(De,lt);function we(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function yl(h,v,T,S,q,X){h.info(function(){if(h.g)if(X)for(var ut="",Ut=X.split("&"),Ne=0;Ne<Ut.length;Ne++){var jt=Ut[Ne].split("=");if(1<jt.length){var Ue=jt[0];jt=jt[1];var Pe=Ue.split("_");ut=2<=Pe.length&&Pe[1]=="type"?ut+(Ue+"="+jt+"&"):ut+(Ue+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+T+`
`+ut})}function Ld(h,v,T,S,q,X,ut){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+T+`
`+X+" "+ut})}function zr(h,v,T,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+qs(h,T)+(S?" "+S:"")})}function Ic(h,v){h.info(function(){return"TIMEOUT: "+v})}jn.prototype.info=function(){};function qs(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var S=T[h];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<q.length;ut++)q[ut]=""}}}}return ni(T)}catch{return v}}var Fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function vi(){}x(vi,fl),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},yi=new vi;function dn(h,v,T,S){this.j=h,this.i=v,this.l=T,this.R=S||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var vl={},za={};function ii(h,v,T){h.L=1,h.v=Qs(In(v)),h.m=T,h.P=!0,er(h,null)}function er(h,v){h.F=Date.now(),Gs(h),h.A=In(h.v);var T=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),wl(T.i,"t",S),h.C=0,T=h.j.J,h.h=new ye,h.g=Gc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new kd(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,S=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(zs[0]=q.toString()),q=zs);for(var X=0;X<q.length;X++){var ut=Ua(T,q[X],S||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Br(),yl(h.i,h.u,h.A,h.l,h.R,h.m)}dn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Hn(h)==3?v.j():this.Y(h)},dn.prototype.Y=function(h){try{if(h==this.g)t:{const Pe=Hn(this.g);var v=this.g.Ba();const ur=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Lc(this.g)))){this.J||Pe!=4||v==7||(v==8||0>=ur?Br(3):Br(2)),Hr(this);var T=this.g.Z();this.X=T;e:if(Dc(this)){var S=Lc(this.g);h="";var q=S.length,X=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),_i(this);var ut="";break e}this.h.i=new f.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(X&&v==q-1)});S.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=T==200,Ld(this.i,this.u,this.A,this.l,this.R,Pe,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ne=this.g;if((Ut=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ut)){var jt=Ut;break e}}jt=null}if(T=jt)zr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,T);else{this.o=!1,this.s=3,le(12),qe(this),_i(this);break t}}if(this.P){T=!0;let Ge;for(;!this.J&&this.C<ut.length;)if(Ge=Nc(this,ut),Ge==za){Pe==4&&(this.s=4,le(14),T=!1),zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==vl){this.s=4,le(15),zr(this.i,this.l,ut,"[Invalid Chunk]"),T=!1;break}else zr(this.i,this.l,Ge,null),Ks(this,Ge);if(Dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||ut.length!=0||this.h.h||(this.s=1,le(16),T=!1),this.o=this.o&&T,!T)zr(this.i,this.l,ut,"[Invalid Chunked Response]"),qe(this),_i(this);else if(0<ut.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),ia(Ue),Ue.M=!0,le(11))}}else zr(this.i,this.l,ut,null),Ks(this,ut);Pe==4&&qe(this),this.o&&!this.J&&(Pe==4?Fc(this.j,this):(this.o=!1,Gs(this)))}else Fd(this.g),T==400&&0<ut.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),qe(this),_i(this)}}}catch{}finally{}};function Dc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Nc(h,v){var T=h.C,S=v.indexOf(`
`,T);return S==-1?za:(T=Number(v.substring(T,S)),isNaN(T)?vl:(S+=1,S+T>v.length?za:(v=v.slice(S,S+T),h.C=S+T,v)))}dn.prototype.cancel=function(){this.J=!0,qe(this)};function Gs(h){h.S=Date.now()+h.I,Pc(h,h.I)}function Pc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=we(b(h.ba,h),v)}function Hr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}dn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ic(this.i,this.A),this.L!=2&&(Br(),le(17)),qe(this),this.s=2,_i(this)):Pc(this,this.S-h)};function _i(h){h.j.G==0||h.J||Fc(h.j,h)}function qe(h){Hr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Fs(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ks(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||_l(T.h,h))){if(!h.K&&_l(T.h,h)&&T.G==3){try{var S=T.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ja(T),Wa(T);else break t;Il(T),le(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=we(b(T.Za,T),6e3));if(1>=Ha(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else lr(T,11)}else if((h.K||T.g==h)&&Ja(T),!Q(v))for(q=T.Da.g.parse(v),v=0;v<q.length;v++){let jt=q[v];if(T.T=jt[0],jt=jt[1],T.G==2)if(jt[0]=="c"){T.K=jt[1],T.ia=jt[2];const Ue=jt[3];Ue!=null&&(T.la=Ue,T.j.info("VER="+T.la));const Pe=jt[4];Pe!=null&&(T.Aa=Pe,T.j.info("SVER="+T.Aa));const ur=jt[5];ur!=null&&typeof ur=="number"&&0<ur&&(S=1.5*ur,T.L=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Ge=h.g;if(Ge){const Ri=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var X=S.h;X.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(qa(X,X.h),X.h=null))}if(S.D){const Nl=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(S.ya=Nl,Zt(S.I,S.D,Nl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),S=T;var ut=h;if(S.qa=qc(S,S.J?S.ia:null,S.W),ut.K){mn(S.h,ut);var Ut=ut,Ne=S.L;Ne&&(Ut.I=Ne),Ut.B&&(Hr(Ut),Gs(Ut)),S.g=ut}else Bc(S);0<T.i.length&&Za(T)}else jt[0]!="stop"&&jt[0]!="close"||lr(T,7);else T.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?lr(T,7):xl(T):jt[0]!="noop"&&T.l&&T.l.ta(jt),T.v=0)}}Br(4)}catch{}}var Oc=class{constructor(h,v){this.g=h,this.map=v}};function nr(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ha(h){return h.h?1:h.g?h.g.size:0}function _l(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function qa(h,v){h.g?h.g.add(v):h.h=v}function mn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}nr.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return L(h.i)}function Ud(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,S=0;S<T;S++)v.push(h[S]);return v}v=[],T=0;for(S in h)v[T++]=h[S];return v}function Ga(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const S in h)v[T++]=S;return v}}}function El(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Ga(h),S=Ud(h),q=S.length,X=0;X<q;X++)v.call(void 0,S[X],T&&T[X],h)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jd(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var S=h[T].indexOf("="),q=null;if(0<=S){var X=h[T].substring(0,S);q=h[T].substring(S+1)}else X=h[T];v(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Se){this.h=h.h,Ys(this,h.j),this.o=h.o,this.g=h.g,qr(this,h.s),this.l=h.l;var v=h.i,T=new rr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ir(this,T),this.m=h.m}else h&&(v=String(h).match($s))?(this.h=!1,Ys(this,v[1]||"",!0),this.o=Bn(v[2]||""),this.g=Bn(v[3]||"",!0),qr(this,v[4]),this.l=Bn(v[5]||"",!0),ir(this,v[6]||"",!0),this.m=Bn(v[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}Se.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Xs(v,bl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Xs(v,bl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Xs(T,T.charAt(0)=="/"?Bd:Al,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Xs(T,Ka)),h.join("")};function In(h){return new Se(h)}function Ys(h,v,T){h.j=T?Bn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ir(h,v,T){v instanceof rr?(h.i=v,Mc(h.i,h.h)):(T||(v=Xs(v,zd)),h.i=new rr(v,h.h))}function Zt(h,v,T){h.i.set(v,T)}function Qs(h){return Zt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Bn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xs(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Vc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Vc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bl=/[#\/\?@]/g,Al=/[#\?:]/g,Bd=/[#\?]/g,zd=/[#\?@]/g,Ka=/#/g;function rr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&jd(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=rr.prototype,e.add=function(h,v){zn(this),this.i=null,h=Ti(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function sr(h,v){zn(h),v=Ti(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ar(h,v){return zn(h),v=Ti(h,v),h.g.has(v)}e.forEach=function(h,v){zn(this),this.g.forEach(function(T,S){T.forEach(function(q){h.call(v,q,S,this)},this)},this)},e.na=function(){zn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let S=0;S<v.length;S++){const q=h[S];for(let X=0;X<q.length;X++)T.push(v[S])}return T},e.V=function(h){zn(this);let v=[];if(typeof h=="string")ar(this,h)&&(v=v.concat(this.g.get(Ti(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return zn(this),this.i=null,h=Ti(this,h),ar(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function wl(h,v,T){sr(h,v),0<T.length&&(h.i=null,h.g.set(Ti(h,v),L(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var S=v[T];const X=encodeURIComponent(String(S)),ut=this.V(S);for(S=0;S<ut.length;S++){var q=X;ut[S]!==""&&(q+="="+encodeURIComponent(String(ut[S]))),h.push(q)}}return this.i=h.join("&")};function Ti(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Mc(h,v){v&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(T,S){var q=S.toLowerCase();S!=q&&(sr(this,S),wl(this,q,T))},h)),h.j=v}function Ws(h,v){const T=new jn;if(f.Image){const S=new Image;S.onload=w(Fn,T,"TestLoadImage: loaded",!0,v,S),S.onerror=w(Fn,T,"TestLoadImage: error",!1,v,S),S.onabort=w(Fn,T,"TestLoadImage: abort",!1,v,S),S.ontimeout=w(Fn,T,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function ri(h,v){const T=new jn,S=new AbortController,q=setTimeout(()=>{S.abort(),Fn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(q),X.ok?Fn(T,"TestPingServer: ok",!0,v):Fn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Fn(T,"TestPingServer: error",!1,v)})}function Fn(h,v,T,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(T)}catch{}}function Zs(){this.g=new Hs}function Ei(h,v,T){const S=T||"";try{El(h,function(q,X){let ut=q;p(q)&&(ut=ni(q)),v.push(S+X+"="+encodeURIComponent(ut))})}catch(q){throw v.push(S+"type="+encodeURIComponent("_badmap")),q}}function Gr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Gr,fl),Gr.prototype.g=function(){return new or(this.l,this.j)},Gr.prototype.i=function(h){return function(){return h}}({});function or(h,v){ne.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(or,ne),e=or.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ai(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?bi(this):Ai(this),this.readyState==3&&Sl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,bi(this))},e.Qa=function(h){this.g&&(this.response=h,bi(this))},e.ga=function(){this.g&&bi(this)};function bi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ai(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Rl(h){let v="";return ot(h,function(T,S){v+=S,v+=":",v+=T,v+=`\r
`}),v}function Le(h,v,T){t:{for(S in T){var S=!1;break t}S=!0}S||(T=Rl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Zt(h,v,T))}function Gt(h){ne.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Gt,ne);var $a=/^https?$/i,Js=["POST","PUT"];e=Gt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?dl(this.o):dl(yi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){kc(this,X);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)T.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())T.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Js,v,void 0))||S||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of T)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ta(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){kc(this,X)}};function kc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ya(h),wi(h)}function Ya(h){h.A||(h.A=!0,Yt(h,"complete"),Yt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Yt(this,"complete"),Yt(this,"abort"),wi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},e.bb=function(){Qa(this)};function Qa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Hn(h)!=4||h.Z()!=2)){if(h.u&&Hn(h)==4)tn(h.Ea,0,h);else if(Yt(h,"readystatechange"),Hn(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var S;if(S=ut===0){var q=String(h.D).match($s)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),S=!$a.test(q?q.toLowerCase():"")}T=S}if(T)Yt(h,"complete"),Yt(h,"success");else{h.m=6;try{var X=2<Hn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Ya(h)}}finally{wi(h)}}}}function wi(h,v){if(h.g){ta(h);const T=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Yt(h,"ready");try{T.onreadystatechange=S}catch{}}}function ta(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Hn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ja(v)}};function Lc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fd(h){const v={};h=(h.g&&2<=Hn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(Q(h[S]))continue;var T=B(h[S]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[q]||[];v[q]=X,X.push(T)}O(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Xa(h){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,h),this.cb=ea("retryDelaySeedMs",1e4,h),this.Wa=ea("forwardChannelMaxRetries",2,h),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new nr(h&&h.concurrentRequestLimit),this.Da=new Zs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Xa.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,S){le(0),this.W=h,this.H=v||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.I=qc(this,null,this.W),Za(this)};function xl(h){if(Uc(h),h.G==3){var v=h.U++,T=In(h.I);if(Zt(T,"SID",h.K),Zt(T,"RID",v),Zt(T,"TYPE","terminate"),na(h,T),v=new dn(h,h.j,v),v.L=2,v.v=Qs(In(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Gc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Gs(v)}Hc(h)}function Wa(h){h.g&&(ia(h),h.g.cancel(),h.g=null)}function Uc(h){Wa(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ja(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Za(h){if(!Fa(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||k(),ft||(at(),ft=!0),Ct.add(v,h),h.B=0}}function Hd(h,v){return Ha(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=we(b(h.Ga,h,v),Dl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new dn(this,this.j,h);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=jc(this,q,v),T=In(this.I),Zt(T,"RID",h),Zt(T,"CVER",22),this.D&&Zt(T,"X-HTTP-Session-Id",this.D),na(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(Rl(X)))+"&"+v:this.m&&Le(T,this.m,X)),qa(this.h,q),this.Ua&&Zt(T,"TYPE","init"),this.P?(Zt(T,"$req",v),Zt(T,"SID","null"),q.T=!0,ii(q,T,null)):ii(q,T,v),this.G=2}}else this.G==3&&(h?Cl(this,h):this.i.length==0||Fa(this.h)||Cl(this))};function Cl(h,v){var T;v?T=v.l:T=h.U++;const S=In(h.I);Zt(S,"SID",h.K),Zt(S,"RID",T),Zt(S,"AID",h.T),na(h,S),h.m&&h.o&&Le(S,h.m,h.o),T=new dn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=jc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),qa(h.h,T),ii(T,S,v)}function na(h,v){h.H&&ot(h.H,function(T,S){Zt(v,S,T)}),h.l&&El({},function(T,S){Zt(v,S,T)})}function jc(h,v,T){T=Math.min(h.i.length,T);var S=h.l?b(h.l.Na,h.l,h):null;t:{var q=h.i;let X=-1;for(;;){const ut=["count="+T];X==-1?0<T?(X=q[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Ut=!0;for(let Ne=0;Ne<T;Ne++){let jt=q[Ne].g;const Ue=q[Ne].map;if(jt-=X,0>jt)X=Math.max(0,q[Ne].g-100),Ut=!1;else try{Ei(Ue,ut,"req"+jt+"_")}catch{S&&S(Ue)}}if(Ut){S=ut.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,S}function Bc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||k(),ft||(at(),ft=!0),Ct.add(v,h),h.v=0}}function Il(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=we(b(h.Fa,h),Dl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,zc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=we(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Wa(this),zc(this))};function ia(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function zc(h){h.g=new dn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=In(h.qa);Zt(v,"RID","rpc"),Zt(v,"SID",h.K),Zt(v,"AID",h.T),Zt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Zt(v,"TO",h.ja),Zt(v,"TYPE","xmlhttp"),na(h,v),h.m&&h.o&&Le(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Qs(In(v)),T.m=null,T.P=!0,er(T,h)}e.Za=function(){this.C!=null&&(this.C=null,Wa(this),Il(this),le(19))};function Ja(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Fc(h,v){var T=null;if(h.g==v){Ja(h),ia(h),h.g=null;var S=2}else if(_l(h.h,v))T=v.D,mn(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;S=jr(),Yt(S,new De(S,T)),Za(h)}else Bc(h);else if(q=v.s,q==3||q==0&&0<v.X||!(S==1&&Hd(h,v)||S==2&&Il(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),q){case 1:lr(h,5);break;case 4:lr(h,10);break;case 3:lr(h,6);break;default:lr(h,2)}}}function Dl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function lr(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),S=h.Xa;const q=!S;S=new Se(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ys(S,"https"),Qs(S),q?Ws(S.toString(),T):ri(S.toString(),T)}else le(2);h.G=0,h.l&&h.l.sa(v),Hc(h),Uc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Hc(h){if(h.G=0,h.ka=[],h.l){const v=Tl(h.h);(v.length!=0||h.i.length!=0)&&(C(h.ka,v),C(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function qc(h,v,T){var S=T instanceof Se?In(T):new Se(T);if(S.g!="")v&&(S.g=v+"."+S.g),qr(S,S.s);else{var q=f.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var X=new Se(null);S&&Ys(X,S),v&&(X.g=v),q&&qr(X,q),T&&(X.l=T),S=X}return T=h.D,v=h.ya,T&&v&&Zt(S,T,v),Zt(S,"VER",h.la),na(h,S),S}function Gc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Gt(new Gr({eb:T})):new Gt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}e=Kc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function to(){}to.prototype.g=function(h,v){return new pn(h,v)};function pn(h,v){ne.call(this),this.g=new Xa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Si(this)}x(pn,ne),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){xl(this.g)},pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ni(h),h=T);v.i.push(new Oc(v.Ya++,h)),v.G==3&&Za(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,pn.aa.N.call(this)};function $c(h){Ji.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x($c,Ji);function Yc(){pl.call(this),this.status=1}x(Yc,pl);function Si(h){this.g=h}x(Si,Kc),Si.prototype.ua=function(){Yt(this.g,"a")},Si.prototype.ta=function(h){Yt(this.g,new $c(h))},Si.prototype.sa=function(h){Yt(this.g,new Yc)},Si.prototype.ra=function(){Yt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,xS=function(){return new to},RS=function(){return jr()},SS=gi,Eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,df=Fr,tr.COMPLETE="complete",wS=tr,ml.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Su=ml,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,AS=Gt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const $E="@firebase/firestore",YE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new cy("@firebase/firestore");function Do(){return Na.logLevel}function dt(e,...t){if(Na.logLevel<=kt.DEBUG){const n=t.map(wy);Na.debug(`Firestore (${el}): ${e}`,...n)}}function Nr(e,...t){if(Na.logLevel<=kt.ERROR){const n=t.map(wy);Na.error(`Firestore (${el}): ${e}`,...n)}}function qo(e,...t){if(Na.logLevel<=kt.WARN){const n=t.map(wy);Na.warn(`Firestore (${el}): ${e}`,...n)}}function wy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(e="Unexpected state"){const t=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+e;throw Nr(t),new Error(t)}function Kt(e,t){e||wt()}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class kP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LP{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string"),new CS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new an(t)}}class UP{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jP{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new UP(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BP{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0);const r=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new QE(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Kt(typeof n.token=="string"),this.R=n.token,new QE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=zP(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Nt(e,t){return e<t?-1:e>t?1:0}function bg(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Nt(r,a);{const l=IS(),c=FP(l.encode(XE(e,n)),l.encode(XE(t,n)));return c!==0?c:Nt(r,a)}}n+=r>65535?2:1}return Nt(e.length,t.length)}function XE(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function FP(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Nt(e[n],t[n]);return Nt(e.length,t.length)}function Go(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,ZE=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*ZE);return new Me(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<WE)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZE}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-WE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Me(0,0))}static max(){return new St(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__name__";class Pi{constructor(t,n,r){n===void 0?n=0:n>t.length&&wt(),r===void 0?r=t.length-n:r>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Pi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Nt(t.length,n.length)}static compareSegments(t,n){const r=Pi.isNumericId(t),a=Pi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Pi.extractNumericId(t).compare(Pi.extractNumericId(n)):bg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return As.fromString(t.substring(4,t.length-2))}}class ae extends Pi{construct(t,n,r){return new ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const HP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Pi{construct(t,n,r){return new We(t,n,r)}static isValidIdentifier(t){return HP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JE}static keyField(){return new We([JE])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ae.fromString(t))}static fromName(t){return new yt(ae.fromString(t).popFirst(5))}static empty(){return new yt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=-1;function qP(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new xs(a,yt.empty(),t)}function GP(e){return new xs(e.readTime,e.key,Hu)}class xs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(St.min(),yt.empty(),Hu)}static max(){return new xs(St.max(),yt.empty(),Hu)}}function KP(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:Nt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==$P)throw e;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):it.reject(n)}static resolve(t){return new it((n,r)=>{n(t)})}static reject(t){return new it((n,r)=>{r(t)})}static waitFor(t){return new it((n,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=it.resolve(!1);for(const r of t)n=n.next(a=>a?it.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new it((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new it((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function QP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function il(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}ud.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function cd(e){return e==null}function Vf(e){return e===0&&1/e==-1/0}function XP(e){return typeof e=="number"&&Number.isInteger(e)&&!Vf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="";function WP(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tb(t)),t=ZP(e.get(n),t);return tb(t)}function ZP(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case NS:n+="";break;default:n+=l}}return n}function tb(e){return e+NS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wh(this.root,t,this.comparator,!0)}}class Wh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Xe.RED,this.left=a??Xe.EMPTY,this.right=l??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Xe(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Xe.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,r,a,l){return this}insert(t,n,r){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nb(this.data.getIterator())}getIteratorFrom(t){return new nb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class nb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new ke(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new OS("Invalid base64 string: "+l):l}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const JP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(Kt(!!e),typeof e=="string"){let t=0;const n=JP.exec(e);if(Kt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Is(e){return typeof e=="string"?Ze.fromBase64String(e):Ze.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="server_timestamp",MS="__type__",kS="__previous_value__",LS="__local_write_time__";function Ry(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[MS])===null||n===void 0?void 0:n.stringValue)===VS}function hd(e){const t=e.mapValue.fields[kS];return Ry(t)?hd(t):t}function qu(e){const t=Cs(e.mapValue.fields[LS].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,n,r,a,l,c,f,m,p){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p}}const Mf="(default)";class Gu{constructor(t,n){this.projectId=t,this.database=n||Mf}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(t){return t instanceof Gu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="__type__",eO="__max__",Zh={mapValue:{}},jS="__vector__",kf="value";function Ds(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ry(e)?4:iO(e)?9007199254740991:nO(e)?10:11:wt()}function zi(e,t){if(e===t)return!0;const n=Ds(e);if(n!==Ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qu(e).isEqual(qu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cs(a.timestampValue),f=Cs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return Is(a.bytesValue).isEqual(Is(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return Ee(a.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ee(a.integerValue)===Ee(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ee(a.doubleValue),f=Ee(l.doubleValue);return c===f?Vf(c)===Vf(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Go(e.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(eb(c)!==eb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!zi(c[m],f[m])))return!1;return!0}(e,t);default:return wt()}}function Ku(e,t){return(e.values||[]).find(n=>zi(n,t))!==void 0}function Ko(e,t){if(e===t)return 0;const n=Ds(e),r=Ds(t);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=Ee(l.integerValue||l.doubleValue),m=Ee(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(e,t);case 3:return ib(e.timestampValue,t.timestampValue);case 4:return ib(qu(e),qu(t));case 5:return bg(e.stringValue,t.stringValue);case 6:return function(l,c){const f=Is(l),m=Is(c);return f.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Nt(f[p],m[p]);if(y!==0)return y}return Nt(f.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=Nt(Ee(l.latitude),Ee(c.latitude));return f!==0?f:Nt(Ee(l.longitude),Ee(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rb(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},b=c.fields||{},w=(f=_[kf])===null||f===void 0?void 0:f.arrayValue,x=(m=b[kf])===null||m===void 0?void 0:m.arrayValue,L=Nt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:rb(w,x)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===Zh.mapValue&&c===Zh.mapValue)return 0;if(l===Zh.mapValue)return 1;if(c===Zh.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=bg(m[_],y[_]);if(b!==0)return b;const w=Ko(f[m[_]],p[y[_]]);if(w!==0)return w}return Nt(m.length,y.length)}(e.mapValue,t.mapValue);default:throw wt()}}function ib(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Nt(e,t);const n=Cs(e),r=Cs(t),a=Nt(n.seconds,r.seconds);return a!==0?a:Nt(n.nanos,r.nanos)}function rb(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ko(n[a],r[a]);if(l)return l}return Nt(n.length,r.length)}function $o(e){return Ag(e)}function Ag(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Is(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Ag(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Ag(n.fields[c])}`;return a+"}"}(e.mapValue):wt()}function mf(e){switch(Ds(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hd(e);return t?16+mf(t):16;case 5:return 2*e.stringValue.length;case 6:return Is(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+mf(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return Ms(r.fields,(l,c)=>{a+=l.length+mf(c)}),a}(e.mapValue);default:throw wt()}}function sb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wg(e){return!!e&&"integerValue"in e}function xy(e){return!!e&&"arrayValue"in e}function ab(e){return!!e&&"nullValue"in e}function ob(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pf(e){return!!e&&"mapValue"in e}function nO(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[US])===null||n===void 0?void 0:n.stringValue)===jS}function Pu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Pu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function iO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===eO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pu(n)}setAll(t){let n=We.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Pu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Ms(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new Rn(Pu(this.value))}}function BS(e){const t=[];return Ms(e.fields,(n,r)=>{const a=new We([n]);if(pf(r)){const l=BS(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new on(t,0,St.min(),St.min(),St.min(),Rn.empty(),0)}static newFoundDocument(t,n,r,a){return new on(t,1,n,St.min(),r,a,0)}static newNoDocument(t,n){return new on(t,2,n,St.min(),St.min(),Rn.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,St.min(),St.min(),Rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,n){this.position=t,this.inclusive=n}}function lb(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=Ko(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function ub(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,n="asc"){this.field=t,this.dir=n}}function rO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class Ie extends zS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new aO(t,n,r):n==="array-contains"?new uO(t,r):n==="in"?new cO(t,r):n==="not-in"?new hO(t,r):n==="array-contains-any"?new fO(t,r):new Ie(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new oO(t,r):new lO(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends zS{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new di(t,n)}matches(t){return FS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function FS(e){return e.op==="and"}function HS(e){return sO(e)&&FS(e)}function sO(e){for(const t of e.filters)if(t instanceof di)return!1;return!0}function Sg(e){if(e instanceof Ie)return e.field.canonicalString()+e.op.toString()+$o(e.value);if(HS(e))return e.filters.map(t=>Sg(t)).join(",");{const t=e.filters.map(n=>Sg(n)).join(",");return`${e.op}(${t})`}}function qS(e,t){return e instanceof Ie?function(r,a){return a instanceof Ie&&r.op===a.op&&r.field.isEqual(a.field)&&zi(r.value,a.value)}(e,t):e instanceof di?function(r,a){return a instanceof di&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&qS(c,a.filters[f]),!0):!1}(e,t):void wt()}function GS(e){return e instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(e):e instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map(GS).join(" ,")+"}"}(e):"Filter"}class aO extends Ie{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class oO extends Ie{constructor(t,n){super(t,"in",n),this.keys=KS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class lO extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=KS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function KS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>yt.fromName(r.referenceValue))}class uO extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xy(n)&&Ku(n.arrayValue,this.value)}}class cO extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class hO extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ku(this.value.arrayValue,n)}}class fO extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function cb(e,t=null,n=[],r=[],a=null,l=null,c=null){return new dO(e,t,n,r,a,l,c)}function Cy(e){const t=xt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Sg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),cd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>$o(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>$o(r)).join(",")),t.le=n}return t.le}function Iy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ub(e.startAt,t.startAt)&&ub(e.endAt,t.endAt)}function Rg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mO(e,t,n,r,a,l,c,f){return new rl(e,t,n,r,a,l,c,f)}function fd(e){return new rl(e)}function hb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $S(e){return e.collectionGroup!==null}function Ou(e){const t=xt(e);if(t.he===null){t.he=[];const n=new Set;for(const l of t.explicitOrderBy)t.he.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new ke(We.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.he.push(new $u(l,r))}),n.has(We.keyField().canonicalString())||t.he.push(new $u(We.keyField(),r))}return t.he}function Mi(e){const t=xt(e);return t.Pe||(t.Pe=pO(t,Ou(e))),t.Pe}function pO(e,t){if(e.limitType==="F")return cb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new $u(a.field,l)});const n=e.endAt?new Lf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Lf(e.startAt.position,e.startAt.inclusive):null;return cb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xg(e,t){const n=e.filters.concat([t]);return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Cg(e,t,n){return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dd(e,t){return Iy(Mi(e),Mi(t))&&e.limitType===t.limitType}function YS(e){return`${Cy(Mi(e))}|lt:${e.limitType}`}function No(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>GS(a)).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>$o(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>$o(a)).join(",")),`Target(${r})`}(Mi(e))}; limitType=${e.limitType})`}function md(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Ou(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=lb(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,Ou(r),a)||r.endAt&&!function(c,f,m){const p=lb(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,Ou(r),a))}(e,t)}function gO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function QS(e){return(t,n)=>{let r=!1;for(const a of Ou(e)){const l=yO(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function yO(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Ko(m,p):wt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new de(yt.comparator);function Pr(){return vO}const XS=new de(yt.comparator);function Ru(...e){let t=XS;for(const n of e)t=t.insert(n.key,n);return t}function WS(e){let t=XS;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function wa(){return Vu()}function ZS(){return Vu()}function Vu(){return new Va(e=>e.toString(),(e,t)=>e.isEqual(t))}const _O=new de(yt.comparator),TO=new ke(yt.comparator);function Lt(...e){let t=TO;for(const n of e)t=t.add(n);return t}const EO=new ke(Nt);function bO(){return EO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(t)?"-0":t}}function JS(e){return{integerValue:""+e}}function AO(e,t){return XP(t)?JS(t):Dy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this._=void 0}}function wO(e,t,n){return e instanceof Uf?function(a,l){const c={fields:{[MS]:{stringValue:VS},[LS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ry(l)&&(l=hd(l)),l&&(c.fields[kS]=l),{mapValue:c}}(n,t):e instanceof Yo?e1(e,t):e instanceof Yu?n1(e,t):function(a,l){const c=t1(a,l),f=fb(c)+fb(a.Ie);return wg(c)&&wg(a.Ie)?JS(f):Dy(a.serializer,f)}(e,t)}function SO(e,t,n){return e instanceof Yo?e1(e,t):e instanceof Yu?n1(e,t):n}function t1(e,t){return e instanceof jf?function(r){return wg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Uf extends pd{}class Yo extends pd{constructor(t){super(),this.elements=t}}function e1(e,t){const n=i1(t);for(const r of e.elements)n.some(a=>zi(a,r))||n.push(r);return{arrayValue:{values:n}}}class Yu extends pd{constructor(t){super(),this.elements=t}}function n1(e,t){let n=i1(t);for(const r of e.elements)n=n.filter(a=>!zi(a,r));return{arrayValue:{values:n}}}class jf extends pd{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function fb(e){return Ee(e.integerValue||e.doubleValue)}function i1(e){return xy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,n){this.field=t,this.transform=n}}function xO(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof Yo&&a instanceof Yo||r instanceof Yu&&a instanceof Yu?Go(r.elements,a.elements,zi):r instanceof jf&&a instanceof jf?zi(r.Ie,a.Ie):r instanceof Uf&&a instanceof Uf}(e.transform,t.transform)}class CO{constructor(t,n){this.version=t,this.transformResults=n}}class _n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _n}static exists(t){return new _n(void 0,t)}static updateTime(t){return new _n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gd{}function r1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new yd(e.key,_n.none()):new fc(e.key,e.data,_n.none());{const n=e.data,r=Rn.empty();let a=new ke(We.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ks(e.key,r,new Ln(a.toArray()),_n.none())}}function IO(e,t,n){e instanceof fc?function(a,l,c){const f=a.value.clone(),m=mb(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof ks?function(a,l,c){if(!gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=mb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(s1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Mu(e,t,n,r){return e instanceof fc?function(l,c,f,m){if(!gf(l.precondition,c))return f;const p=l.value.clone(),y=pb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof ks?function(l,c,f,m){if(!gf(l.precondition,c))return f;const p=pb(l.fieldTransforms,m,c),y=c.data;return y.setAll(s1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,r):function(l,c,f){return gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function DO(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=t1(r.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,l))}return n||null}function db(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Go(r,a,(l,c)=>xO(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fc extends gd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ks extends gd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function s1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function mb(e,t,n){const r=new Map;Kt(e.length===n.length);for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,SO(c,f,n[a]))}return r}function pb(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,wO(l,c,t))}return r}class yd extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&IO(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Mu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Mu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ZS();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=r1(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,(n,r)=>db(n,r))&&Go(this.baseMutations,t.baseMutations,(n,r)=>db(n,r))}}class Ny{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Kt(t.mutations.length===r.length);let a=function(){return _O}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Ny(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,zt;function MO(e){switch(e){case et.OK:return wt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt()}}function a1(e){if(e===void 0)return Nr("GRPC error has no .code"),et.UNKNOWN;switch(e){case Ce.OK:return et.OK;case Ce.CANCELLED:return et.CANCELLED;case Ce.UNKNOWN:return et.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return et.INTERNAL;case Ce.UNAVAILABLE:return et.UNAVAILABLE;case Ce.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ce.NOT_FOUND:return et.NOT_FOUND;case Ce.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ce.ABORTED:return et.ABORTED;case Ce.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ce.DATA_LOSS:return et.DATA_LOSS;default:return wt()}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new As([4294967295,4294967295],0);function gb(e){const t=IS().encode(e),n=new bS;return n.update(t),new Uint8Array(n.digest())}function yb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new As([n,r],0),new As([a,l],0)]}class Py{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=As.fromNumber(this.Ee)}Ae(t,n,r){let a=t.add(n.multiply(As.fromNumber(r)));return a.compare(kO)===1&&(a=new As([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=gb(t),[r,a]=yb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Py(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.Ee===0)return;const n=gb(t),[r,a]=yb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,dc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new vd(St.min(),a,new de(Nt),Pr(),Lt())}}class dc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new dc(r,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n,r,a){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=a}}class o1{constructor(t,n){this.targetId=t,this.ge=n}}class l1{constructor(t,n,r=Ze.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class vb{constructor(){this.pe=0,this.ye=_b(),this.we=Ze.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Lt(),n=Lt(),r=Lt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:wt()}}),new dc(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=_b()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LO{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Pr(),this.$e=Jh(),this.Ue=Jh(),this.Ke=new de(Nt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(t){const n=t.targetId,r=t.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Rg(l))if(r===0){const c=new yt(l.path);this.ze(n,c,on.newNoDocument(c,St.min()))}else Kt(r===1);else{const c=this.et(n);if(c!==r){const f=this.tt(t),m=f?this.nt(f,t,c):1;if(m!==0){this.Ye(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Is(r).toUint8Array()}catch(m){if(m instanceof OS)return qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Py(c,a,l)}catch(m){return qo(m instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ee===0?null:f}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(t){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&Rg(f.target)){const m=new yt(f.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,on.newNoDocument(m,t))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let r=Lt();this.Ue.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new vd(t,n,this.Ke,this.Qe,r);return this.Qe=Pr(),this.$e=Jh(),this.Ue=Jh(),this.Ke=new de(Nt),a}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const a=this.He(t);this.ut(t,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new vb,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new ke(Nt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new ke(Nt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new vb),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Jh(){return new de(yt.comparator)}function _b(){return new de(yt.comparator)}const UO={asc:"ASCENDING",desc:"DESCENDING"},jO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BO={and:"AND",or:"OR"};class zO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ig(e,t){return e.useProto3Json||cd(t)?t:{value:t}}function Bf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function u1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function FO(e,t){return Bf(e,t.toTimestamp())}function ki(e){return Kt(!!e),St.fromTimestamp(function(n){const r=Cs(n);return new Me(r.seconds,r.nanos)}(e))}function Oy(e,t){return Dg(e,t).canonicalString()}function Dg(e,t){const n=function(a){return new ae(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function c1(e){const t=ae.fromString(e);return Kt(p1(t)),t}function Ng(e,t){return Oy(e.databaseId,t.path)}function $p(e,t){const n=c1(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(f1(n))}function h1(e,t){return Oy(e.databaseId,t)}function HO(e){const t=c1(e);return t.length===4?ae.emptyPath():f1(t)}function Pg(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function f1(e){return Kt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Tb(e,t,n){return{name:Ng(e,t),fields:n.value.mapValue.fields}}function qO(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Kt(y===void 0||typeof y=="string"),Ze.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Ze.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const y=p.code===void 0?et.UNKNOWN:a1(p.code);return new ht(y,p.message||"")}(c);n=new l1(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=$p(e,r.document.name),l=ki(r.document.updateTime),c=r.document.createTime?ki(r.document.createTime):St.min(),f=new Rn({mapValue:{fields:r.document.fields}}),m=on.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new yf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=$p(e,r.document),l=r.readTime?ki(r.readTime):St.min(),c=on.newNoDocument(a,l),f=r.removedTargetIds||[];n=new yf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=$p(e,r.document),l=r.removedTargetIds||[];n=new yf([],l,a,null)}else{if(!("filter"in t))return wt();{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new VO(a,l),f=r.targetId;n=new o1(f,c)}}return n}function GO(e,t){let n;if(t instanceof fc)n={update:Tb(e,t.key,t.value)};else if(t instanceof yd)n={delete:Ng(e,t.key)};else if(t instanceof ks)n={update:Tb(e,t.key,t.data),updateMask:tV(t.fieldMask)};else{if(!(t instanceof NO))return wt();n={verify:Ng(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Yo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jf)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw wt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:FO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:wt()}(e,t.precondition)),n}function KO(e,t){return e&&e.length>0?(Kt(t!==void 0),e.map(n=>function(a,l){let c=a.updateTime?ki(a.updateTime):ki(l);return c.isEqual(St.min())&&(c=ki(l)),new CO(c,a.transformResults||[])}(n,t))):[]}function $O(e,t){return{documents:[h1(e,t.path)]}}function YO(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=h1(e,a);const l=function(p){if(p.length!==0)return m1(di.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Po(b.field),direction:WO(b.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Ig(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:n,parent:a}}function QO(e){let t=HO(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Kt(r===1);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const b=d1(_);return b instanceof di&&HS(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(x){return new $u(Oo(x.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(n.orderBy));let f=null;n.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,cd(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(_){const b=!!_.before,w=_.values||[];return new Lf(w,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,w=_.values||[];return new Lf(w,b)}(n.endAt)),mO(t,a,c,l,f,"F",m,p)}function XO(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function d1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oo(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(n.unaryFilter.field);return Ie.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(n.unaryFilter.field);return Ie.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(n.unaryFilter.field);return Ie.create(c,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(e):e.fieldFilter!==void 0?function(n){return Ie.create(Oo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(r=>d1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(e):wt()}function WO(e){return UO[e]}function ZO(e){return jO[e]}function JO(e){return BO[e]}function Po(e){return{fieldPath:e.canonicalString()}}function Oo(e){return We.fromServerFormat(e.fieldPath)}function m1(e){return e instanceof Ie?function(n){if(n.op==="=="){if(ob(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(ab(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ob(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(ab(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:ZO(n.op),value:n.value}}}(e):e instanceof di?function(n){const r=n.getFilters().map(a=>m1(a));return r.length===1?r[0]:{compositeFilter:{op:JO(n.op),filters:r}}}(e):wt()}function tV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function p1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,n,r,a,l=St.min(),c=St.min(),f=Ze.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new _s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t){this.Tt=t}}function nV(e){const t=QO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Cg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Tn=new rV}addToCollectionParentIndex(t,n){return this.Tn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(xs.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(xs.min())}updateCollectionGroup(t,n,r){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class rV{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new ke(ae.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new ke(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(g1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Qo(0)}static Kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LruGarbageCollector",sV=1048576;function Ab([e,t],[n,r]){const a=Nt(e,n);return a===0?Nt(t,r):a}class aV{constructor(t){this.Hn=t,this.buffer=new ke(Ab),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ab(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oV{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){dt(bb,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){il(n)?dt(bb,"Ignoring IndexedDB error during garbage collection: ",n):await nl(n)}await this.er(3e5)})}}class lV{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return it.resolve(ud.ae);const r=new aV(n);return this.tr.forEachTarget(t,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Eb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(t,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),Do()<=kt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function uV(e,t){return new lV(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.changes=new Va(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?it.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&Mu(r.mutation,a,Ln.empty(),Me.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Lt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Lt()){const a=wa();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=Ru();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=wa();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Lt()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,a){let l=Pr();const c=Vu(),f=function(){return Vu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ks)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Mu(y.mutation,p,y.mutation.getFieldMask(),Me.now())):c.set(p.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new hV(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(t,n){const r=Vu();let a=new de((c,f)=>c-f),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Ln.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Lt()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=ZS();y.forEach(b=>{if(!l.has(b)){const w=r1(n.get(b),r.get(b));w!==null&&_.set(b,w),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return it.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):it.resolve(wa());let f=Hu,m=l;return c.next(p=>it.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Lt())).next(y=>({batchId:f,changes:WS(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(r=>{let a=Ru();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(t,l).next(f=>it.forEach(f,m=>{const p=function(_,b){return new rl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))});let f=Ru();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Mu(y.mutation,p,Ln.empty(),Me.now()),md(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return it.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ki(a.createTime)}}(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:nV(a.bundledQuery),readTime:ki(a.readTime)}}(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.overlays=new de(yt.comparator),this.Rr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const r=wa();return it.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.Et(t,n,l)}),it.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),it.resolve()}getOverlaysForCollection(t,n,r){const a=wa(),l=n.length+1,c=new yt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new de((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=wa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=wa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return it.resolve(f)}Et(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new OO(n,r));let l=this.Rr.get(n);l===void 0&&(l=Lt(),this.Rr.set(n,l)),this.Rr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Vr=new ke(Fe.mr),this.gr=new ke(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new Fe(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new yt(new ae([])),r=new Fe(n,t),a=new Fe(n,t+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new ae([])),r=new Fe(n,t),a=new Fe(n,t+1);let l=Lt();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new Fe(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||Nt(t.Cr,n.Cr)}static pr(t,n){return Nt(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ke(Fe.mr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PO(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new Fe(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Nr(r),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Sy:this.Fr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),a=new Fe(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const f=this.Or(c.Cr);l.push(f)}),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ke(Nt);return n.forEach(a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{r=r.add(f.Cr)})}),it.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new yt(l),0);let f=new ke(Nt);return this.Mr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Cr)),!0)},c),it.resolve(this.Br(f))}Br(t){const n=[];return t.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Kt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return it.forEach(n.mutations,a=>{const l=new Fe(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new Fe(n,0),a=this.Mr.firstAfterOrEqual(r);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(t){this.kr=t,this.docs=function(){return new de(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return it.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let r=Pr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))}),it.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Pr();const c=n.path,f=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||KP(GP(y),r)<=0||(a.has(y.key)||md(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,r,a){wt()}qr(t,n){return it.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new vV(this)}getSize(t){return it.resolve(this.size)}}class vV extends cV{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(r)}),it.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t){this.persistence=t,this.Qr=new Va(n=>Cy(n),Iy),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vy,this.targetCount=0,this.Kr=Qo.Un()}forEachTarget(t,n){return this.Qr.forEach((r,a)=>n(a)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),it.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Qo(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.zn(n),it.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),it.waitFor(l).next(()=>a)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return it.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),it.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),it.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return it.resolve(r)}containsKey(t,n){return it.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new ud(0),this.zr=!1,this.zr=!0,this.jr=new pV,this.referenceDelegate=t(this),this.Hr=new _V(this),this.indexManager=new iV,this.remoteDocumentCache=function(a){return new yV(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new eV(n),this.Yr=new dV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mV,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new gV(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){dt("MemoryPersistence","Starting transaction:",t);const a=new TV(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,n){return it.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class TV extends YP{constructor(t){super(),this.currentSequenceNumber=t}}class My{constructor(t){this.persistence=t,this.ti=new Vy,this.ni=null}static ri(t){return new My(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),it.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),it.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.ii,r=>{const a=yt.fromPath(r);return this.si(t,a).next(l=>{l||n.removeEntry(a,St.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return it.or([()=>it.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class zf{constructor(t,n){this.persistence=t,this.oi=new Va(r=>WP(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=uV(this,n)}static ri(t,n){return new zf(t,n)}Zr(){}Xr(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return it.forEach(this.oi,(r,a)=>this.ar(t,r,a).next(l=>l?it.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,n).next(f=>{f||(r++,l.removeEntry(c,St.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),it.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mf(t.data.value)),n}ar(t,n,r){return it.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.oi.get(n);return it.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(t,n){let r=Lt(),a=Lt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ky(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return WC()?8:QP(cn())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.rs(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new EV;return this._s(t,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(t,n,c,f.size)})}).next(()=>l.result)}us(t,n,r,a){return r.documentReadCount<this.es?(Do()<=kt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),it.resolve()):(Do()<=kt.DEBUG&&dt("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Do()<=kt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(n))):it.resolve())}rs(t,n){if(hb(n))return it.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Cg(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Lt(...l);return this.ns.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.cs(n,f);return this.ls(n,p,c,m.readTime)?this.rs(t,Cg(n,null,"F")):this.hs(t,p,n,m)}))})))}ss(t,n,r,a){return hb(n)||a.isEqual(St.min())?it.resolve(null):this.ns.getDocuments(t,r).next(l=>{const c=this.cs(n,l);return this.ls(n,c,r,a)?it.resolve(null):(Do()<=kt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),No(n)),this.hs(t,c,n,qP(a,Hu)).next(f=>f))})}cs(t,n){let r=new ke(QS(t));return n.forEach((a,l)=>{md(t,l)&&(r=r.add(l))}),r}ls(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,n,r){return Do()<=kt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",No(n)),this.ns.getDocumentsMatchingQuery(t,n,xs.min(),r)}hs(t,n,r,a){return this.ns.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LocalStore",AV=3e8;class wV{constructor(t,n,r,a){this.persistence=t,this.Ps=n,this.serializer=a,this.Ts=new de(Nt),this.Is=new Va(l=>Cy(l),Iy),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function SV(e,t,n,r){return new wV(e,t,n,r)}async function v1(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Lt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:f}))})})}function RV(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,b=_.keys();let w=it.resolve();return b.forEach(x=>{w=w.next(()=>y.getEntry(m,x)).next(L=>{const C=p.docVersions.get(x);Kt(C!==null),L.version.compareTo(C)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))})}),w.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Lt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function _1(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function xV(e,t){const n=xt(e),r=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];t.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let w=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(Ze.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(_,w),function(L,C,N){return L.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=AV?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(b,w,y)&&f.push(n.Hr.updateTargetData(l,w))});let m=Pr(),p=Lt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(CV(l,c,t.documentUpdates).next(y=>{m=y.Vs,p=y.fs})),!r.isEqual(St.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return it.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ts=a,l))}function CV(e,t,n){let r=Lt(),a=Lt();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=Pr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):dt(Ly,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function IV(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Sy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function DV(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,t).next(l=>l?(a=l,it.resolve(a)):n.Hr.allocateTargetId(r).next(c=>(a=new _s(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function Og(e,t,n){const r=xt(e),a=r.Ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!il(c))throw c;dt(Ly,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ts=r.Ts.remove(t),r.Is.delete(a.target)}function wb(e,t,n){const r=xt(e);let a=St.min(),l=Lt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=xt(m),b=_.Is.get(y);return b!==void 0?it.resolve(_.Ts.get(b)):_.Hr.getTargetData(p,y)}(r,c,Mi(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:Lt())).next(f=>(NV(r,gO(t),f),{documents:f,gs:l})))}function NV(e,t,n){let r=e.Es.get(t)||St.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Es.set(t,r)}class Sb{constructor(){this.activeTargetIds=bO()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PV{constructor(){this.ho=new Sb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Sb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="ConnectivityMonitor";class xb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){dt(Rb,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){dt(Rb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function Vg(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RestConnection",VV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MV{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Mf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(t,n,r,a,l){const c=Vg(),f=this.bo(t,n.toUriEncodedString());dt(Yp,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(t,f,m,r).then(p=>(dt(Yp,`Received RPC '${t}' ${c}: `,p),p),p=>{throw qo(Yp,`RPC '${t}' ${c} failed with error: `,p,"url: ",f,"request:",r),p})}Co(t,n,r,a,l,c){return this.So(t,n,r,a,l)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}bo(t,n){const r=VV[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class LV extends MV{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,a){const l=Vg();return new Promise((c,f)=>{const m=new AS;m.setWithCredentials(!0),m.listenOnce(wS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case df.NO_ERROR:const y=m.getResponseJson();dt(rn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case df.TIMEOUT:dt(rn,`RPC '${t}' ${l} timed out`),f(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const _=m.getStatus();if(dt(rn,`RPC '${t}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const x=function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(N)>=0?N:et.UNKNOWN}(w.status);f(new ht(x,w.message))}else f(new ht(et.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ht(et.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{dt(rn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);dt(rn,`RPC '${t}' ${l} sending request:`,a),m.send(n,"POST",p,r,15)})}Wo(t,n,r){const a=Vg(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=xS(),f=RS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");dt(rn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let b=!1,w=!1;const x=new kV({Fo:C=>{w?dt(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,C):(b||(dt(rn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),dt(rn,`RPC '${t}' stream ${a} sending:`,C),_.send(C))},Mo:()=>_.close()}),L=(C,N,Q)=>{C.listen(N,H=>{try{Q(H)}catch(rt){setTimeout(()=>{throw rt},0)}})};return L(_,Su.EventType.OPEN,()=>{w||(dt(rn,`RPC '${t}' stream ${a} transport opened.`),x.Qo())}),L(_,Su.EventType.CLOSE,()=>{w||(w=!0,dt(rn,`RPC '${t}' stream ${a} transport closed`),x.Uo())}),L(_,Su.EventType.ERROR,C=>{w||(w=!0,qo(rn,`RPC '${t}' stream ${a} transport errored:`,C),x.Uo(new ht(et.UNAVAILABLE,"The operation could not be completed")))}),L(_,Su.EventType.MESSAGE,C=>{var N;if(!w){const Q=C.data[0];Kt(!!Q);const H=Q,rt=(H==null?void 0:H.error)||((N=H[0])===null||N===void 0?void 0:N.error);if(rt){dt(rn,`RPC '${t}' stream ${a} received error:`,rt);const Z=rt.status;let ot=function(I){const M=Ce[I];if(M!==void 0)return a1(M)}(Z),O=rt.message;ot===void 0&&(ot=et.INTERNAL,O="Unknown error status: "+Z+" with message "+rt.message),w=!0,x.Uo(new ht(ot,O)),_.close()}else dt(rn,`RPC '${t}' stream ${a} received:`,Q),x.Ko(Q)}}),L(f,SS.STAT_EVENT,C=>{C.stat===Eg.PROXY?dt(rn,`RPC '${t}' stream ${a} detected buffering proxy`):C.stat===Eg.NOPROXY&&dt(rn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e){return new zO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="PersistentStream";class E1{constructor(t,n,r,a,l,c,f,m){this.Ti=t,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new T1(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{t(()=>{const a=new ht(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return dt(Cb,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(dt(Cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UV extends E1{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=qO(this.serializer,t),r=function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?ki(c.readTime):St.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=Pg(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=Rg(m)?{documents:$O(l,m)}:{query:YO(l,m).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=u1(l,c.resumeToken);const p=Ig(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){f.readTime=Bf(l,c.snapshotVersion.toTimestamp());const p=Ig(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const r=XO(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=Pg(this.serializer),n.removeTarget=t,this.I_(n)}}class jV extends E1{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=KO(t.writeResults,t.commitTime),r=ki(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=Pg(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>GO(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{}class zV extends BV{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(t,Dg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(et.UNKNOWN,l.toString())})}Co(t,n,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(t,Dg(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(et.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class FV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Nr(n),this.N_=!1):dt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class HV{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{Ma(this)&&(dt(Pa,"Restarting streams for network reachability change."),await async function(m){const p=xt(m);p.W_.add(4),await mc(p),p.j_.set("Unknown"),p.W_.delete(4),await Td(p)}(this))})}),this.j_=new FV(r,a)}}async function Td(e){if(Ma(e))for(const t of e.G_)await t(!0)}async function mc(e){for(const t of e.G_)await t(!1)}function b1(e,t){const n=xt(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),zy(n)?By(n):sl(n).c_()&&jy(n,t))}function Uy(e,t){const n=xt(e),r=sl(n);n.K_.delete(t),r.c_()&&A1(n,t),n.K_.size===0&&(r.c_()?r.P_():Ma(n)&&n.j_.set("Unknown"))}function jy(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sl(e).y_(t)}function A1(e,t){e.H_.Ne(t),sl(e).w_(t)}function By(e){e.H_=new LO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),sl(e).start(),e.j_.B_()}function zy(e){return Ma(e)&&!sl(e).u_()&&e.K_.size>0}function Ma(e){return xt(e).W_.size===0}function w1(e){e.H_=void 0}async function qV(e){e.j_.set("Online")}async function GV(e){e.K_.forEach((t,n)=>{jy(e,t)})}async function KV(e,t){w1(e),zy(e)?(e.j_.q_(t),By(e)):e.j_.set("Unknown")}async function $V(e,t,n){if(e.j_.set("Online"),t instanceof l1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.K_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.K_.delete(f),a.H_.removeTarget(f))}(e,t)}catch(r){dt(Pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ff(e,r)}else if(t instanceof yf?e.H_.We(t):t instanceof o1?e.H_.Ze(t):e.H_.je(t),!n.isEqual(St.min()))try{const r=await _1(e.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.K_.get(p);y&&l.K_.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.K_.get(m);if(!y)return;l.K_.set(m,y.withResumeToken(Ze.EMPTY_BYTE_STRING,y.snapshotVersion)),A1(l,m);const _=new _s(y.target,m,p,y.sequenceNumber);jy(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){dt(Pa,"Failed to raise snapshot:",r),await Ff(e,r)}}async function Ff(e,t,n){if(!il(t))throw t;e.W_.add(1),await mc(e),e.j_.set("Offline"),n||(n=()=>_1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{dt(Pa,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Td(e)})}function S1(e,t){return t().catch(n=>Ff(e,n,t))}async function Ed(e){const t=xt(e),n=Ns(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Sy;for(;YV(t);)try{const a=await IV(t.localStore,r);if(a===null){t.U_.length===0&&n.P_();break}r=a.batchId,QV(t,a)}catch(a){await Ff(t,a)}R1(t)&&x1(t)}function YV(e){return Ma(e)&&e.U_.length<10}function QV(e,t){e.U_.push(t);const n=Ns(e);n.c_()&&n.S_&&n.b_(t.mutations)}function R1(e){return Ma(e)&&!Ns(e).u_()&&e.U_.length>0}function x1(e){Ns(e).start()}async function XV(e){Ns(e).C_()}async function WV(e){const t=Ns(e);for(const n of e.U_)t.b_(n.mutations)}async function ZV(e,t,n){const r=e.U_.shift(),a=Ny.from(r,t,n);await S1(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Ed(e)}async function JV(e,t){t&&Ns(e).S_&&await async function(r,a){if(function(c){return MO(c)&&c!==et.ABORTED}(a.code)){const l=r.U_.shift();Ns(r).h_(),await S1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ed(r)}}(e,t),R1(e)&&x1(e)}async function Ib(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),dt(Pa,"RemoteStore received new credentials");const r=Ma(n);n.W_.add(3),await mc(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Td(n)}async function tM(e,t){const n=xt(e);t?(n.W_.delete(2),await Td(n)):t||(n.W_.add(2),await mc(n),n.j_.set("Unknown"))}function sl(e){return e.J_||(e.J_=function(n,r,a){const l=xt(n);return l.M_(),new UV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:qV.bind(null,e),No:GV.bind(null,e),Lo:KV.bind(null,e),p_:$V.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),zy(e)?By(e):e.j_.set("Unknown")):(await e.J_.stop(),w1(e))})),e.J_}function Ns(e){return e.Y_||(e.Y_=function(n,r,a){const l=xt(n);return l.M_(),new jV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:XV.bind(null,e),Lo:JV.bind(null,e),D_:WV.bind(null,e),v_:ZV.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await Ed(e)):(await e.Y_.stop(),e.U_.length>0&&(dt(Pa,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new Fy(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(e,t){if(Nr("AsyncQueue",`${t}: ${e}`),il(e))return new ht(et.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(t){return new Fo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=Ru(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Z_=new de(yt.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Xo{constructor(t,n,r,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Xo(t,n,Fo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class nM{constructor(){this.queries=Nb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=xt(n),l=a.queries;a.queries=Nb(),l.forEach((c,f)=>{for(const m of f.ta)m.onError(r)})})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function Nb(){return new Va(e=>YS(e),dd)}async function qy(e,t){const n=xt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.na()&&t.ra()&&(r=2):(l=new eM,r=t.ra()?0:1);try{switch(r){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Hy(c,`Initialization of query '${No(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.ta.push(t),t.sa(n.onlineState),l.ea&&t.oa(l.ea)&&Ky(n)}async function Gy(e,t){const n=xt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iM(e,t){const n=xt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(r=!0);c.ea=a}}r&&Ky(n)}function rM(e,t,n){const r=xt(e),a=r.queries.get(t);if(a)for(const l of a.ta)l.onError(n);r.queries.delete(t)}function Ky(e){e.ia.forEach(t=>{t.next()})}var Mg,Pb;(Pb=Mg||(Mg={}))._a="default",Pb.Cache="cache";class $y{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.key=t}}class I1{constructor(t){this.key=t}}class sM{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lt(),this.mutatedKeys=Lt(),this.ya=QS(t),this.wa=new Fo(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Db,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const b=a.get(y),w=md(this.query,_)?_:null,x=!!b&&this.mutatedKeys.has(b.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;b&&w?b.data.isEqual(w.data)?x!==L&&(r.track({type:3,doc:w}),C=!0):this.va(b,w)||(r.track({type:2,doc:w}),C=!0,(m&&this.ya(w,m)>0||p&&this.ya(w,p)<0)&&(f=!0)):!b&&w?(r.track({type:0,doc:w}),C=!0):b&&!w&&(r.track({type:1,doc:b}),C=!0,(m||p)&&(f=!0)),C&&(w?(c=c.add(w),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{wa:c,Da:r,ls:f,mutatedKeys:l}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((y,_)=>function(w,x){const L=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return L(w)-L(x)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(r),a=a!=null&&a;const f=n&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,p=m!==this.ga;return this.ga=m,c.length!==0||p?{snapshot:new Xo(this.query,t.wa,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Db,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Lt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new I1(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new C1(r))}),n}Oa(t){this.fa=t.gs,this.pa=Lt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Xo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yy="SyncEngine";class aM{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class oM{constructor(t){this.key=t,this.Ba=!1}}class lM{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Va(f=>YS(f),dd),this.qa=new Map,this.Qa=new Set,this.$a=new de(yt.comparator),this.Ua=new Map,this.Ka=new Vy,this.Wa={},this.Ga=new Map,this.za=Qo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uM(e,t,n=!0){const r=M1(e);let a;const l=r.ka.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await D1(r,t,n,!0),a}async function cM(e,t){const n=M1(e);await D1(n,t,!0,!1)}async function D1(e,t,n,r){const a=await DV(e.localStore,Mi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await hM(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&b1(e.remoteStore,a),f}async function hM(e,t,n,r,a){e.Ha=(_,b,w)=>async function(L,C,N,Q){let H=C.view.ba(N);H.ls&&(H=await wb(L.localStore,C.query,!1).then(({documents:O})=>C.view.ba(O,H)));const rt=Q&&Q.targetChanges.get(C.targetId),Z=Q&&Q.targetMismatches.get(C.targetId)!=null,ot=C.view.applyChanges(H,L.isPrimaryClient,rt,Z);return Vb(L,C.targetId,ot.Ma),ot.snapshot}(e,_,b,w);const l=await wb(e.localStore,t,!0),c=new sM(t,l.gs),f=c.ba(l.documents),m=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Vb(e,n,p.Ma);const y=new aM(t,n,c);return e.ka.set(t,y),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),p.snapshot}async function fM(e,t,n){const r=xt(e),a=r.ka.get(t),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!dd(c,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Og(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Uy(r.remoteStore,a.targetId),kg(r,a.targetId)}).catch(nl)):(kg(r,a.targetId),await Og(r.localStore,a.targetId,!0))}async function dM(e,t){const n=xt(e),r=n.ka.get(t),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uy(n.remoteStore,r.targetId))}async function mM(e,t,n){const r=EM(e);try{const a=await function(c,f){const m=xt(c),p=Me.now(),y=f.reduce((w,x)=>w.add(x.key),Lt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Pr(),L=Lt();return m.ds.getEntries(w,y).next(C=>{x=C,x.forEach((N,Q)=>{Q.isValidDocument()||(L=L.add(N))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,x)).next(C=>{_=C;const N=[];for(const Q of f){const H=DO(Q,_.get(Q.key).overlayedDocument);H!=null&&N.push(new ks(Q.key,H,BS(H.value.mapValue),_n.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,N,f)}).next(C=>{b=C;const N=C.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(w,C.batchId,N)})}).then(()=>({batchId:b.batchId,changes:WS(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Wa[c.currentUser.toKey()];p||(p=new de(Nt)),p=p.insert(f,m),c.Wa[c.currentUser.toKey()]=p}(r,a.batchId,n),await pc(r,a.changes),await Ed(r.remoteStore)}catch(a){const l=Hy(a,"Failed to persist write");n.reject(l)}}async function N1(e,t){const n=xt(e);try{const r=await xV(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Kt(c.Ba):a.removedDocuments.size>0&&(Kt(c.Ba),c.Ba=!1))}),await pc(n,r,t)}catch(r){await nl(r)}}function Ob(e,t,n){const r=xt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((l,c)=>{const f=c.view.sa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=xt(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.ta)b.sa(f)&&(p=!0)}),p&&Ky(m)}(r.eventManager,t),a.length&&r.La.p_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pM(e,t,n){const r=xt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Ua.get(t),l=a&&a.key;if(l){let c=new de(yt.comparator);c=c.insert(l,on.newNoDocument(l,St.min()));const f=Lt().add(l),m=new vd(St.min(),new Map,new de(Nt),c,f);await N1(r,m),r.$a=r.$a.remove(l),r.Ua.delete(t),Qy(r)}else await Og(r.localStore,t,!1).then(()=>kg(r,t,n)).catch(nl)}async function gM(e,t){const n=xt(e),r=t.batch.batchId;try{const a=await RV(n.localStore,t);O1(n,r,null),P1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pc(n,a)}catch(a){await nl(a)}}async function yM(e,t,n){const r=xt(e);try{const a=await function(c,f){const m=xt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Kt(_!==null),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);O1(r,t,n),P1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await pc(r,a)}catch(a){await nl(a)}}function P1(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function O1(e,t,n){const r=xt(e);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Wa[r.currentUser.toKey()]=a}}function kg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(r=>{e.Ka.containsKey(r)||V1(e,r)})}function V1(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(Uy(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),Qy(e))}function Vb(e,t,n){for(const r of n)r instanceof C1?(e.Ka.addReference(r.key,t),vM(e,r)):r instanceof I1?(dt(Yy,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||V1(e,r.key)):wt()}function vM(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(dt(Yy,"New document in limbo: "+n),e.Qa.add(r),Qy(e))}function Qy(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new yt(ae.fromString(t)),r=e.za.next();e.Ua.set(r,new oM(n)),e.$a=e.$a.insert(n,r),b1(e.remoteStore,new _s(Mi(fd(n.path)),r,"TargetPurposeLimboResolution",ud.ae))}}async function pc(e,t,n){const r=xt(e),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((f,m)=>{c.push(r.Ha(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=ky.Yi(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.La.p_(a),await async function(m,p){const y=xt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>it.forEach(p,b=>it.forEach(b.Hi,w=>y.persistence.referenceDelegate.addReference(_,b.targetId,w)).next(()=>it.forEach(b.Ji,w=>y.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))}catch(_){if(!il(_))throw _;dt(Ly,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const w=y.Ts.get(b),x=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(x);y.Ts=y.Ts.insert(b,L)}}}(r.localStore,l))}async function _M(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){dt(Yy,"User change. New user:",t.toKey());const r=await v1(n.localStore,t);n.currentUser=t,function(l,c){l.Ga.forEach(f=>{f.forEach(m=>{m.reject(new ht(et.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await pc(n,r.Rs)}}function TM(e,t){const n=xt(e),r=n.Ua.get(t);if(r&&r.Ba)return Lt().add(r.key);{let a=Lt();const l=n.qa.get(t);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.Sa)}return a}}function M1(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pM.bind(null,t),t.La.p_=iM.bind(null,t.eventManager),t.La.Ja=rM.bind(null,t.eventManager),t}function EM(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,t),t}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_d(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return SV(this.persistence,new bV,t.initialUser,this.serializer)}Xa(t){return new y1(My.ri,this.serializer)}Za(t){return new PV}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class bM extends Hf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Kt(this.persistence.referenceDelegate instanceof zf);const r=this.persistence.referenceDelegate.garbageCollector;return new oV(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new y1(r=>zf.ri(r,n),this.serializer)}}class Lg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ob(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_M.bind(null,this.syncEngine),await tM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nM}()}createDatastore(t){const n=_d(t.databaseInfo.databaseId),r=function(l){return new LV(l)}(t.databaseInfo);return function(l,c,f,m){return new zV(l,c,f,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,f){return new HV(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>Ob(this.syncEngine,n,0),function(){return xb.D()?new xb:new OV}())}createSyncEngine(t,n){return function(a,l,c,f,m,p,y){const _=new lM(a,l,c,f,m,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=xt(a);dt(Pa,"RemoteStore shutting down."),l.W_.add(5),await mc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Nr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class AM{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{dt(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(dt(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Hy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Xp(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Ps,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await v1(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Mb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wM(e);dt(Ps,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Ib(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>Ib(t.remoteStore,a)),e._onlineComponents=t}async function wM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Ps,"Using user provided OfflineComponentProvider");try{await Xp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await Xp(e,new Hf)}}else dt(Ps,"Using default OfflineComponentProvider"),await Xp(e,new bM(void 0));return e._offlineComponents}async function k1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Ps,"Using user provided OnlineComponentProvider"),await Mb(e,e._uninitializedComponentsProvider._online)):(dt(Ps,"Using default OnlineComponentProvider"),await Mb(e,new Lg))),e._onlineComponents}function SM(e){return k1(e).then(t=>t.syncEngine)}async function qf(e){const t=await k1(e),n=t.eventManager;return n.onListen=uM.bind(null,t.syncEngine),n.onUnlisten=fM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dM.bind(null,t.syncEngine),n}function RM(e,t,n={}){const r=new xr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new Xy({next:b=>{y.su(),c.enqueueAndForget(()=>Gy(l,_));const w=b.docs.has(f);!w&&b.fromCache?p.reject(new ht(et.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?p.reject(new ht(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new $y(fd(f.path),y,{includeMetadataChanges:!0,Ta:!0});return qy(l,_)}(await qf(e),e.asyncQueue,t,n,r)),r.promise}function xM(e,t,n={}){const r=new xr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new Xy({next:b=>{y.su(),c.enqueueAndForget(()=>Gy(l,_)),b.fromCache&&m.source==="server"?p.reject(new ht(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new $y(f,y,{includeMetadataChanges:!0,Ta:!0});return qy(l,_)}(await qf(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e,t,n){if(!n)throw new ht(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function CM(e,t,n,r){if(t===!0&&r===!0)throw new ht(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Lb(e){if(!yt.isDocumentKey(e))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ub(e){if(yt.isDocumentKey(e))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function bd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt()}function Tn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bd(e);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firestore.googleapis.com",jb=!0;class Bb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j1,this.ssl=jb}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:jb;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sV)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ad{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MP;switch(r.type){case"firstParty":return new jP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kb.get(n);r&&(dt("ComponentProvider","Removing Datastore"),kb.delete(n),r.terminate())}(this),Promise.resolve()}}function IM(e,t,n,r={}){var a;const l=(e=Tn(e,Ad))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),f=`${t}:${n}`;l.host!==j1&&l.host!==f&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!Ss(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=an.MOCK_USER;else{p=Lw(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(_)}e._authCredentials=new kP(new CS(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ls(this.firestore,t,this._query)}}class un{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new un(this.firestore,t,this._key)}}class ws extends Ls{constructor(t,n,r){super(t,n,fd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new un(this.firestore,null,new yt(t))}withConverter(t){return new ws(this.firestore,t,this._path)}}function Ug(e,t,...n){if(e=be(e),U1("collection","path",t),e instanceof Ad){const r=ae.fromString(t,...n);return Ub(r),new ws(e,null,r)}{if(!(e instanceof un||e instanceof ws))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ae.fromString(t,...n));return Ub(r),new ws(e.firestore,null,r)}}function ms(e,t,...n){if(e=be(e),arguments.length===1&&(t=DS.newId()),U1("doc","path",t),e instanceof Ad){const r=ae.fromString(t,...n);return Lb(r),new un(e,null,new yt(r))}{if(!(e instanceof un||e instanceof ws))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ae.fromString(t,...n));return Lb(r),new un(e.firestore,e instanceof ws?e.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="AsyncQueue";class Fb{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new T1(this,"async_queue_retry"),this.Su=()=>{const r=Qp();r&&dt(zb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new xr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!il(t))throw t;dt(zb,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(r);throw Nr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const a=Fy.createAndSchedule(this,t,n,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Hb(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(e,["next","error","complete"])}class Fi extends Ad{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new Fb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fb(t),this._firestoreClient=void 0,await t}}}function DM(e,t){const n=typeof e=="object"?e:fy(),r=typeof e=="string"?e:Mf,a=sd(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Vw("firestore");l&&IM(a,...l)}return a}function gc(e){if(e._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||NM(e),e._firestoreClient}function NM(e){var t,n,r;const a=e._freezeSettings(),l=function(f,m,p,y){return new tO(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,L1(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new AM(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wo(Ze.fromBase64String(t))}catch(n){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wo(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=/^__.*__$/;class OM{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new fc(t,this.data,n,this.fieldTransforms)}}class B1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ks(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function z1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Sd{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Sd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.$u(t),a}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Gf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(z1(this.Lu)&&PM.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class VM{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||_d(t)}ju(t,n,r,a=!1){return new Sd({Lu:t,methodName:n,zu:r,path:We.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vc(e){const t=e._freezeSettings(),n=_d(e._databaseId);return new VM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jy(e,t,n,r,a,l={}){const c=e.ju(l.merge||l.mergeFields?2:0,t,n,a);ev("Data must be an object, but it was:",c,r);const f=q1(r,c);let m,p;if(l.merge)m=new Ln(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=jg(t,_,n);if(!c.contains(b))throw new ht(et.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);K1(y,b)||y.push(b)}m=new Ln(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new OM(new Rn(f),m,p)}class Rd extends wd{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rd}}function MM(e,t,n){return new Sd({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class tv extends wd{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=MM(this,t,!0),r=this.Hu.map(l=>al(l,n)),a=new Yo(r);return new RO(t.path,a)}isEqual(t){return t instanceof tv&&Ss(this.Hu,t.Hu)}}function F1(e,t,n,r){const a=e.ju(1,t,n);ev("Data must be an object, but it was:",a,r);const l=[],c=Rn.empty();Ms(r,(m,p)=>{const y=nv(t,m,n);p=be(p);const _=a.Uu(y);if(p instanceof Rd)l.push(y);else{const b=al(p,_);b!=null&&(l.push(y),c.set(y,b))}});const f=new Ln(l);return new B1(c,f,a.fieldTransforms)}function H1(e,t,n,r,a,l){const c=e.ju(1,t,n),f=[jg(t,r,n)],m=[a];if(l.length%2!=0)throw new ht(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(jg(t,l[b])),m.push(l[b+1]);const p=[],y=Rn.empty();for(let b=f.length-1;b>=0;--b)if(!K1(p,f[b])){const w=f[b];let x=m[b];x=be(x);const L=c.Uu(w);if(x instanceof Rd)p.push(w);else{const C=al(x,L);C!=null&&(p.push(w),y.set(w,C))}}const _=new Ln(p);return new B1(y,_,c.fieldTransforms)}function kM(e,t,n,r=!1){return al(n,e.ju(r?4:3,t))}function al(e,t){if(G1(e=be(e)))return ev("Unsupported field value:",t,e),q1(e,t);if(e instanceof wd)return function(r,a){if(!z1(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=al(f,a.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Me.fromDate(r);return{timestampValue:Bf(a.serializer,l)}}if(r instanceof Me){const l=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(a.serializer,l)}}if(r instanceof Wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:u1(a.serializer,r._byteString)};if(r instanceof un){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Oy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Zy)return function(c,f){return{mapValue:{fields:{[US]:{stringValue:jS},[kf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return Dy(f.serializer,p)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${bd(r)}`)}(e,t)}function q1(e,t){const n={};return PS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(e,(r,a)=>{const l=al(a,t.qu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function G1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Me||e instanceof Wy||e instanceof Wo||e instanceof un||e instanceof wd||e instanceof Zy)}function ev(e,t,n){if(!G1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=bd(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function jg(e,t,n){if((t=be(t))instanceof yc)return t._internalPath;if(typeof t=="string")return nv(e,t);throw Gf("Field path arguments must be of type string or ",e,!1,void 0,n)}const LM=new RegExp("[~\\*/\\[\\]]");function nv(e,t,n){if(t.search(LM)>=0)throw Gf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yc(...t.split("."))._internalPath}catch{throw Gf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new ht(et.INVALID_ARGUMENT,f+e+m)}function K1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UM extends $1{data(){return super.data()}}function xd(e,t){return typeof t=="string"?nv(e,t):t instanceof yc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class Q1 extends iv{}function qb(e,t,...n){let r=[];t instanceof iv&&r.push(t),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof rv).length,f=l.filter(m=>m instanceof Cd).length;if(c>1||c>0&&f>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class Cd extends Q1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Cd(t,n,r)}_apply(t){const n=this._parse(t);return X1(t._query,n),new Ls(t.firestore,t.converter,xg(t._query,n))}_parse(t){const n=vc(t.firestore);return function(l,c,f,m,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){$b(_,y);const x=[];for(const L of _)x.push(Kb(m,l,L));b={arrayValue:{values:x}}}else b=Kb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||$b(_,y),b=kM(f,c,_,y==="in"||y==="not-in");return Ie.create(p,y,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function jM(e,t,n){const r=t,a=xd("where",e);return Cd._create(a,r,n)}class rv extends iv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)X1(c,m),c=xg(c,m)}(t._query,n),new Ls(t.firestore,t.converter,xg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sv extends Q1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new sv(t,n)}_apply(t){const n=function(a,l,c){if(a.startAt!==null)throw new ht(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $u(l,c)}(t._query,this._field,this._direction);return new Ls(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new rl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function Gb(e,t="asc"){const n=t,r=xd("orderBy",e);return sv._create(r,n)}function Kb(e,t,n){if(typeof(n=be(n))=="string"){if(n==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(t)&&n.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ae.fromString(n));if(!yt.isDocumentKey(r))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sb(e,new yt(r))}if(n instanceof un)return sb(e,n._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(n)}.`)}function $b(e,t){if(!Array.isArray(e)||e.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function X1(e,t){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class BM{convertValue(t,n="none"){switch(Ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ms(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[kf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Ee(c.doubleValue));return new Zy(l)}convertGeoPoint(t){return new Wy(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=hd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(t));default:return null}}convertTimestamp(t){const n=Cs(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ae.fromString(t);Kt(p1(r));const a=new Gu(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(n)||Nr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class W1 extends $1{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(xd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vf extends W1{data(t={}){return super.data(t)}}class Z1{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Cu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new vf(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new vf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new vf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Cu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:zM(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){e=Tn(e,un);const t=Tn(e.firestore,Fi);return RM(gc(t),e._key).then(n=>J1(t,e,n))}class ov extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new un(this.firestore,null,n)}}function FM(e){e=Tn(e,Ls);const t=Tn(e.firestore,Fi),n=gc(t),r=new ov(t);return Y1(e._query),xM(n,e._query).then(a=>new Z1(t,r,e,a))}function Yb(e,t,n){e=Tn(e,un);const r=Tn(e.firestore,Fi),a=av(e.converter,t,n);return _c(r,[Jy(vc(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,_n.none())])}function Qb(e,t,n,...r){e=Tn(e,un);const a=Tn(e.firestore,Fi),l=vc(a);let c;return c=typeof(t=be(t))=="string"||t instanceof yc?H1(l,"updateDoc",e._key,t,n,r):F1(l,"updateDoc",e._key,t),_c(a,[c.toMutation(e._key,_n.exists(!0))])}function HM(e){return _c(Tn(e.firestore,Fi),[new yd(e._key,_n.none())])}function qM(e,t){const n=Tn(e.firestore,Fi),r=ms(e),a=av(e.converter,t);return _c(n,[Jy(vc(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function GM(e,...t){var n,r,a;e=be(e);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||Hb(t[c])||(l=t[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Hb(t[c])){const _=t[c];t[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),t[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),t[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,p,y;if(e instanceof un)p=Tn(e.firestore,Fi),y=fd(e._key.path),m={next:_=>{t[c]&&t[c](J1(p,e,_))},error:t[c+1],complete:t[c+2]};else{const _=Tn(e,Ls);p=Tn(_.firestore,Fi),y=_._query;const b=new ov(p);m={next:w=>{t[c]&&t[c](new Z1(p,b,_,w))},error:t[c+1],complete:t[c+2]},Y1(e._query)}return function(b,w,x,L){const C=new Xy(L),N=new $y(w,C,x);return b.asyncQueue.enqueueAndForget(async()=>qy(await qf(b),N)),()=>{C.su(),b.asyncQueue.enqueueAndForget(async()=>Gy(await qf(b),N))}}(gc(p),y,f,m)}function _c(e,t){return function(r,a){const l=new xr;return r.asyncQueue.enqueueAndForget(async()=>mM(await SM(r),a,l)),l.promise}(gc(e),t)}function J1(e,t,n){const r=n.docs.get(t._key),a=new ov(e);return new W1(e,a,t._key,r,new Cu(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vc(t)}set(t,n,r){this._verifyNotCommitted();const a=Wp(t,this._firestore),l=av(a.converter,n,r),c=Jy(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,_n.none())),this}update(t,n,r,...a){this._verifyNotCommitted();const l=Wp(t,this._firestore);let c;return c=typeof(n=be(n))=="string"||n instanceof yc?H1(this._dataReader,"WriteBatch.update",l._key,n,r,a):F1(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,_n.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Wp(t,this._firestore);return this._mutations=this._mutations.concat(new yd(n._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wp(e,t){if((e=be(e)).firestore!==t)throw new ht(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Xb(...e){return new tv("arrayUnion",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(e){return gc(e=Tn(e,Fi)),new KM(e,t=>_c(e,t))}(function(t,n=!0){(function(a){el=a})(Oa),Ca(new Rs("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Fi(new LP(r.getProvider("auth-internal")),new BP(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Oi($E,YE,t),Oi($E,YE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebasestorage.googleapis.com",YM="storageBucket",QM=2*60*1e3,XM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Gi{constructor(t,n,r=0){super(Zp(t),`Firebase Storage: ${n} (${Zp(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Zp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function Zp(e){return"storage/"+e}function WM(){const e="An unknown error occurred, please check the error payload for server response.";return new Ki(Hi.UNKNOWN,e)}function ZM(){return new Ki(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JM(){return new Ki(Hi.CANCELED,"User canceled the upload/download.")}function t4(e){return new Ki(Hi.INVALID_URL,"Invalid URL '"+e+"'.")}function e4(e){return new Ki(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Wb(e){return new Ki(Hi.INVALID_ARGUMENT,e)}function eR(){return new Ki(Hi.APP_DELETED,"The Firebase app was deleted.")}function n4(e){return new Ki(Hi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=hi.makeFromUrl(t,n)}catch{return new hi(t,"")}if(r.path==="")return r;throw e4(t)}static makeFromUrl(t,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(rt){rt.path_=decodeURIComponent(rt.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${y}/b/${a}/o${b}`,"i"),x={bucket:1,path:3},L=n===tR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",N=new RegExp(`^https?://${L}/${a}/${C}`,"i"),H=[{regex:f,indices:m,postModify:l},{regex:w,indices:x,postModify:p},{regex:N,indices:{bucket:1,path:2},postModify:p}];for(let rt=0;rt<H.length;rt++){const Z=H[rt],ot=Z.regex.exec(t);if(ot){const O=ot[Z.indices.bucket];let R=ot[Z.indices.path];R||(R=""),r=new hi(O,R),Z.postModify(r);break}}if(r==null)throw t4(t);return r}}class i4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(e,t,n){let r=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...C){p||(p=!0,t.apply(null,C))}function _(C){a=setTimeout(()=>{a=null,e(w,m())},C)}function b(){l&&clearTimeout(l)}function w(C,...N){if(p){b();return}if(C){b(),y.call(null,C,...N);return}if(m()||c){b(),y.call(null,C,...N);return}r<64&&(r*=2);let H;f===1?(f=2,H=0):H=(r+Math.random())*1e3,_(H)}let x=!1;function L(C){x||(x=!0,b(),!p&&(a!==null?(C||(f=2),clearTimeout(a),_(0)):C||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,L(!0)},n),L}function s4(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(e){return e!==void 0}function Zb(e,t,n,r){if(r<t)throw Wb(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Wb(`Invalid value for '${e}'. Expected ${n} or less.`)}function o4(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const a=t(r)+"="+t(e[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Kf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Kf||(Kf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t,n,r,a,l,c,f,m,p,y,_,b=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,x)=>{this.resolve_=w,this.reject_=x,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new nf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Kf.NO_ERROR,m=l.getStatus();if(!f||l4(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Kf.ABORT;r(!1,new nf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new nf(p,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());a4(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=WM();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?eR():JM();c(m)}else{const m=ZM();c(m)}};this.canceled_?n(!1,new nf(!1,null,!0)):this.backoffId_=r4(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&s4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function c4(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function h4(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function f4(e,t){t&&(e["X-Firebase-GMPID"]=t)}function d4(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function m4(e,t,n,r,a,l,c=!0){const f=o4(e.urlParams),m=e.url+f,p=Object.assign({},e.headers);return f4(p,t),c4(p,n),h4(p,l),d4(p,r),new u4(m,e.method,p,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function g4(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n){this._service=t,n instanceof hi?this._location=n:this._location=hi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $f(t,n)}get root(){const t=new hi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g4(this._location.path)}get storage(){return this._service}get parent(){const t=p4(this._location.path);if(t===null)return null;const n=new hi(this._location.bucket,t);return new $f(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw n4(t)}}function Jb(e,t){const n=t==null?void 0:t[YM];return n==null?null:hi.makeFromBucketSpec(n,e)}function y4(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:Lw(a,e.app.options.projectId))}class v4{constructor(t,n,r,a,l){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=tR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QM,this._maxUploadRetryTime=XM,this._requests=new Set,a!=null?this._bucket=hi.makeFromBucketSpec(a,this._host):this._bucket=Jb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,t):this._bucket=Jb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Zb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Zb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $f(this,t)}_makeRequest(t,n,r,a,l=!0){if(this._deleted)return new i4(eR());{const c=m4(t,this._appId,r,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,a).getPromise()}}const tA="@firebase/storage",eA="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="storage";function _4(e=fy(),t){e=be(e);const r=sd(e,nR).getImmediate({identifier:t}),a=Vw("storage");return a&&T4(r,...a),r}function T4(e,t,n,r={}){y4(e,t,n,r)}function E4(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new v4(n,r,a,t,Oa)}function b4(){Ca(new Rs(nR,E4,"PUBLIC").setMultipleInstances(!0)),Oi(tA,eA,""),Oi(tA,eA,"esm2017")}b4();const A4={apiKey:"AIzaSyDZ3zZ1FSdd4nw8JDxuY7TUuvWFZ4rdePU",authDomain:"collabboard-acdc6.firebaseapp.com",projectId:"collabboard-acdc6",storageBucket:"collabboard-acdc6.appspot.com",messagingSenderId:"863216384883",appId:"1:863216384883:web:db9db85c951c4adacf2306",measurementId:"G-2L11QB141V"},lv=Bw(A4),li=DM(lv),Ea=OP(lv),w4=new Ar;_4(lv);var iR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nA=Ts.createContext&&Ts.createContext(iR),S4=["attr","size","title"];function R4(e,t){if(e==null)return{};var n=x4(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function x4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(this,arguments)}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){C4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C4(e,t,n){return t=I4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I4(e){var t=D4(e,"string");return typeof t=="symbol"?t:t+""}function D4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rR(e){return e&&e.map((t,n)=>Ts.createElement(t.tag,Qf({key:n},t.attr),rR(t.child)))}function xn(e){return t=>Ts.createElement(N4,Yf({attr:Qf({},e.attr)},t),rR(e.child))}function N4(e){var t=n=>{var{attr:r,size:a,title:l}=e,c=R4(e,S4),f=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),Ts.createElement("svg",Yf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:Qf(Qf({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ts.createElement("title",null,l),e.children)};return nA!==void 0?Ts.createElement(nA.Consumer,null,n=>t(n)):t(iR)}function P4(e){return xn({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function O4(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function sR(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function aR(e){return xn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function Bg(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function V4(e){return xn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function M4(e){return xn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function k4(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464.8 80c-26.9-.4-48.8 21.2-48.8 48h-8V96.8c0-26.3-20.9-48.3-47.2-48.8-26.9-.4-48.8 21.2-48.8 48v32h-8V80.8c0-26.3-20.9-48.3-47.2-48.8-26.9-.4-48.8 21.2-48.8 48v48h-8V96.8c0-26.3-20.9-48.3-47.2-48.8-26.9-.4-48.8 21.2-48.8 48v136l-8-7.1v-48.1c0-26.3-20.9-48.3-47.2-48.8C21.9 127.6 0 149.2 0 176v66.4c0 27.4 11.7 53.5 32.2 71.8l111.7 99.3c10.2 9.1 16.1 22.2 16.1 35.9v6.7c0 13.3 10.7 24 24 24h240c13.3 0 24-10.7 24-24v-2.9c0-12.8 2.6-25.5 7.5-37.3l49-116.3c5-11.8 7.5-24.5 7.5-37.3V128.8c0-26.3-20.9-48.4-47.2-48.8z"},child:[]}]})(e)}function L4(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Qu(e){return xn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function U4(e){return xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function oR(e){return xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function lR(e){return xn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function uR(e){return xn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}var _u={},rA;function j4(){if(rA)return _u;rA=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.parse=c,_u.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const x=new l,L=b.length;if(L<2)return x;const C=(w==null?void 0:w.decode)||y;let N=0;do{const Q=b.indexOf("=",N);if(Q===-1)break;const H=b.indexOf(";",N),rt=H===-1?L:H;if(Q>rt){N=b.lastIndexOf(";",Q-1)+1;continue}const Z=f(b,N,Q),ot=m(b,Q,Z),O=b.slice(Z,ot);if(x[O]===void 0){let R=f(b,Q+1,rt),I=m(b,rt,R);const M=C(b.slice(R,I));x[O]=M}N=rt+1}while(N<L);return x}function f(b,w,x){do{const L=b.charCodeAt(w);if(L!==32&&L!==9)return w}while(++w<x);return x}function m(b,w,x){for(;w>x;){const L=b.charCodeAt(--w);if(L!==32&&L!==9)return w+1}return x}function p(b,w,x){const L=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=L(w);if(!t.test(C))throw new TypeError(`argument val is invalid: ${w}`);let N=b+"="+C;if(!x)return N;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);N+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);N+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);N+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);N+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(N+="; HttpOnly"),x.secure&&(N+="; Secure"),x.partitioned&&(N+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return N}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return a.call(b)==="[object Date]"}return _u}j4();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sA="popstate";function B4(e={}){function t(r,a){let{pathname:l,search:c,hash:f}=r.location;return zg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Xu(a)}return F4(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z4(){return Math.random().toString(36).substring(2,10)}function aA(e,t){return{usr:e.state,key:e.key,idx:t}}function zg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ol(t):t,state:n,key:t&&t.key||r||z4()}}function Xu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ol(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function F4(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let C=y(),N=C==null?null:C-p;p=C,m&&m({action:f,location:L.location,delta:N})}function b(C,N){f="PUSH";let Q=zg(L.location,C,N);p=y()+1;let H=aA(Q,p),rt=L.createHref(Q);try{c.pushState(H,"",rt)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(rt)}l&&m&&m({action:f,location:L.location,delta:1})}function w(C,N){f="REPLACE";let Q=zg(L.location,C,N);p=y();let H=aA(Q,p),rt=L.createHref(Q);c.replaceState(H,"",rt),l&&m&&m({action:f,location:L.location,delta:0})}function x(C){let N=a.location.origin!=="null"?a.location.origin:a.location.href,Q=typeof C=="string"?C:Xu(C);return Q=Q.replace(/ $/,"%20"),fe(N,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,N)}let L={get action(){return f},get location(){return e(a,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(sA,_),m=C,()=>{a.removeEventListener(sA,_),m=null}},createHref(C){return t(a,C)},createURL:x,encodeLocation(C){let N=x(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:w,go(C){return c.go(C)}};return L}function cR(e,t,n="/"){return H4(e,t,n,!1)}function H4(e,t,n,r){let a=typeof t=="string"?ol(t):t,l=Or(a.pathname||"/",n);if(l==null)return null;let c=hR(e);q4(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=ek(l);f=J4(c[m],p,r)}return f}function hR(e,t=[],n=[],r=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(fe(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=Cr([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(fe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),hR(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:W4(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of fR(l.path))a(l,c,m)}),t}function fR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=fR(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function q4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var G4=/^:[\w-]+$/,K4=3,$4=2,Y4=1,Q4=10,X4=-2,oA=e=>e==="*";function W4(e,t){let n=e.split("/"),r=n.length;return n.some(oA)&&(r+=X4),t&&(r+=$4),n.filter(a=>!oA(a)).reduce((a,l)=>a+(G4.test(l)?K4:l===""?Y4:Q4),r)}function Z4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function J4(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Cr([l,_.pathname]),pathnameBase:sk(Cr([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=Cr([l,_.pathnameBase]))}return c}function Xf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tk(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let x=f[b]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const w=f[b];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function tk(e,t=!1,n=!0){qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ek(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Or(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function nk(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ol(e):e;return{pathname:n?n.startsWith("/")?n:ik(n,t):t,search:ak(r),hash:ok(a)}}function ik(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Jp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dR(e){let t=rk(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function mR(e,t,n,r=!1){let a;typeof e=="string"?a=ol(e):(a={...e},fe(!a.pathname||!a.pathname.includes("?"),Jp("?","pathname","search",a)),fe(!a.pathname||!a.pathname.includes("#"),Jp("#","pathname","hash",a)),fe(!a.search||!a.search.includes("#"),Jp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?t[_]:"/"}let m=nk(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Cr=e=>e.join("/").replace(/\/\/+/g,"/"),sk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ok=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var pR=["POST","PUT","PATCH","DELETE"];new Set(pR);var uk=["GET",...pR];new Set(uk);var ll=U.createContext(null);ll.displayName="DataRouter";var Id=U.createContext(null);Id.displayName="DataRouterState";var gR=U.createContext({isTransitioning:!1});gR.displayName="ViewTransition";var ck=U.createContext(new Map);ck.displayName="Fetchers";var hk=U.createContext(null);hk.displayName="Await";var $i=U.createContext(null);$i.displayName="Navigation";var Tc=U.createContext(null);Tc.displayName="Location";var Ur=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var uv=U.createContext(null);uv.displayName="RouteError";function fk(e,{relative:t}={}){fe(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext($i),{hash:a,pathname:l,search:c}=bc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Cr([n,l])),r.createHref({pathname:f,search:c,hash:a})}function Ec(){return U.useContext(Tc)!=null}function ka(){return fe(Ec(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Tc).location}var yR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vR(e){U.useContext($i).static||U.useLayoutEffect(e)}function cv(){let{isDataRoute:e}=U.useContext(Ur);return e?Sk():dk()}function dk(){fe(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(ll),{basename:t,navigator:n}=U.useContext($i),{matches:r}=U.useContext(Ur),{pathname:a}=ka(),l=JSON.stringify(dR(r)),c=U.useRef(!1);return vR(()=>{c.current=!0}),U.useCallback((m,p={})=>{if(qi(c.current,yR),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=mR(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Cr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}U.createContext(null);function bc(e,{relative:t}={}){let{matches:n}=U.useContext(Ur),{pathname:r}=ka(),a=JSON.stringify(dR(n));return U.useMemo(()=>mR(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function mk(e,t){return _R(e,t)}function _R(e,t,n,r){var Q;fe(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=U.useContext($i),{matches:c}=U.useContext(Ur),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";TR(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=ka(),w;if(t){let H=typeof t=="string"?ol(t):t;fe(y==="/"||((Q=H.pathname)==null?void 0:Q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),w=H}else w=b;let x=w.pathname||"/",L=x;if(y!=="/"){let H=y.replace(/^\//,"").split("/");L="/"+x.replace(/^\//,"").split("/").slice(H.length).join("/")}let C=!l&&n&&n.matches&&n.matches.length>0?n.matches:cR(e,{pathname:L});qi(_||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=_k(C&&C.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Cr([y,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Cr([y,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,n,r);return t&&N?U.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function pk(){let e=wk(),t=lk(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:a},n):null,c)}var gk=U.createElement(pk,null),yk=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(Ur.Provider,{value:this.props.routeContext},U.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vk({routeContext:e,match:t,children:n}){let r=U.useContext(ll);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(Ur.Provider,{value:e},n)}function _k(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);fe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,b=!1,w=null,x=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||gk,c&&(f<0&&y===0?(TR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===y&&(b=!0,x=p.route.hydrateFallbackElement||null)));let L=t.concat(a.slice(0,y+1)),C=()=>{let N;return _?N=w:b?N=x:p.route.Component?N=U.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,U.createElement(vk,{match:p,routeContext:{outlet:m,matches:L,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?U.createElement(yk,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:C(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):C()},null)}function hv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tk(e){let t=U.useContext(ll);return fe(t,hv(e)),t}function Ek(e){let t=U.useContext(Id);return fe(t,hv(e)),t}function bk(e){let t=U.useContext(Ur);return fe(t,hv(e)),t}function fv(e){let t=bk(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ak(){return fv("useRouteId")}function wk(){var r;let e=U.useContext(uv),t=Ek("useRouteError"),n=fv("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Sk(){let{router:e}=Tk("useNavigate"),t=fv("useNavigate"),n=U.useRef(!1);return vR(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{qi(n.current,yR),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var lA={};function TR(e,t,n){!t&&!lA[e]&&(lA[e]=!0,qi(!1,n))}U.memo(Rk);function Rk({routes:e,future:t,state:n}){return _R(e,void 0,n,t)}function Fg(e){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){fe(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ol(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:b="default"}=n,w=U.useMemo(()=>{let x=Or(m,c);return x==null?null:{location:{pathname:x,search:p,hash:y,state:_,key:b},navigationType:r}},[c,m,p,y,_,b,r]);return qi(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:U.createElement($i.Provider,{value:f},U.createElement(Tc.Provider,{children:t,value:w}))}function Ck({children:e,location:t}){return mk(Hg(e),t)}function Hg(e,t=[]){let n=[];return U.Children.forEach(e,(r,a)=>{if(!U.isValidElement(r))return;let l=[...t,a];if(r.type===U.Fragment){n.push.apply(n,Hg(r.props.children,l));return}fe(r.type===Fg,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Hg(r.props.children,l)),n.push(c)}),n}var _f="get",Tf="application/x-www-form-urlencoded";function Dd(e){return e!=null&&typeof e.tagName=="string"}function Ik(e){return Dd(e)&&e.tagName.toLowerCase()==="button"}function Dk(e){return Dd(e)&&e.tagName.toLowerCase()==="form"}function Nk(e){return Dd(e)&&e.tagName.toLowerCase()==="input"}function Pk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ok(e,t){return e.button===0&&(!t||t==="_self")&&!Pk(e)}var rf=null;function Vk(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var Mk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tg(e){return e!=null&&!Mk.has(e)?(qi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):e}function kk(e,t){let n,r,a,l,c;if(Dk(e)){let f=e.getAttribute("action");r=f?Or(f,t):null,n=e.getAttribute("method")||_f,a=tg(e.getAttribute("enctype"))||Tf,l=new FormData(e)}else if(Ik(e)||Nk(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?Or(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||_f,a=tg(e.getAttribute("formenctype"))||tg(f.getAttribute("enctype"))||Tf,l=new FormData(f,e),!Vk()){let{name:p,type:y,value:_}=e;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(Dd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,r=null,a=Tf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function dv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Lk(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Uk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jk(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await Lk(l,n);return c.links?c.links():[]}return[]}));return Hk(r.flat(1).filter(Uk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function uA(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Bk(e,t,{includeHydrateFallback:n}={}){return zk(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function zk(e){return[...new Set(e)]}function Fk(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Hk(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(Fk(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function qk(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Or(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ER(){let e=U.useContext(ll);return dv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Gk(){let e=U.useContext(Id);return dv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mv=U.createContext(void 0);mv.displayName="FrameworkContext";function bR(){let e=U.useContext(mv);return dv(e,"You must render this element inside a <HydratedRouter> element"),e}function Kk(e,t){let n=U.useContext(mv),[r,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,b=U.useRef(null);U.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let L=N=>{N.forEach(Q=>{c(Q.isIntersecting)})},C=new IntersectionObserver(L,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[e]),U.useEffect(()=>{if(r){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[r]);let w=()=>{a(!0)},x=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:Tu(f,w),onBlur:Tu(m,x),onMouseEnter:Tu(p,w),onMouseLeave:Tu(y,x),onTouchStart:Tu(_,w)}]:[!1,b,{}]}function Tu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $k({page:e,...t}){let{router:n}=ER(),r=U.useMemo(()=>cR(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?U.createElement(Qk,{page:e,matches:r,...t}):null}function Yk(e){let{manifest:t,routeModules:n}=bR(),[r,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return jk(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function Qk({page:e,matches:t,...n}){let r=ka(),{manifest:a,routeModules:l}=bR(),{basename:c}=ER(),{loaderData:f,matches:m}=Gk(),p=U.useMemo(()=>uA(e,t,m,a,r,"data"),[e,t,m,a,r]),y=U.useMemo(()=>uA(e,t,m,a,r,"assets"),[e,t,m,a,r]),_=U.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,L=!1;if(t.forEach(N=>{var H;let Q=a.routes[N.route.id];!Q||!Q.hasLoader||(!p.some(rt=>rt.route.id===N.route.id)&&N.route.id in f&&((H=l[N.route.id])!=null&&H.shouldRevalidate)||Q.hasClientLoader?L=!0:x.add(N.route.id))}),x.size===0)return[];let C=qk(e,c);return L&&x.size>0&&C.searchParams.set("_routes",t.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[c,f,r,a,p,t,e,l]),b=U.useMemo(()=>Bk(y,a),[y,a]),w=Yk(y);return U.createElement(U.Fragment,null,_.map(x=>U.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),b.map(x=>U.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:L})=>U.createElement("link",{key:x,...L})))}function Xk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var AR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AR&&(window.__reactRouterVersion="7.5.0")}catch{}function Wk({basename:e,children:t,window:n}){let r=U.useRef();r.current==null&&(r.current=B4({window:n,v5Compat:!0}));let a=r.current,[l,c]=U.useState({action:a.action,location:a.location}),f=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(f),[a,f]),U.createElement(xk,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var wR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SR=U.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...b},w){let{basename:x}=U.useContext($i),L=typeof p=="string"&&wR.test(p),C,N=!1;if(typeof p=="string"&&L&&(C=p,AR))try{let I=new URL(window.location.href),M=p.startsWith("//")?new URL(I.protocol+p):new URL(p),B=Or(M.pathname,x);M.origin===I.origin&&B!=null?p=B+M.search+M.hash:N=!0}catch{qi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=fk(p,{relative:a}),[H,rt,Z]=Kk(r,b),ot=eL(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function O(I){t&&t(I),I.defaultPrevented||ot(I)}let R=U.createElement("a",{...b,...Z,href:C||Q,onClick:N||l?t:O,ref:Xk(w,rt),target:m,"data-discover":!L&&n==="render"?"true":void 0});return H&&!L?U.createElement(U.Fragment,null,R,U.createElement($k,{page:Q})):R});SR.displayName="Link";var Zk=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=bc(c,{relative:p.relative}),b=ka(),w=U.useContext(Id),{navigator:x,basename:L}=U.useContext($i),C=w!=null&&aL(_)&&f===!0,N=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,Q=b.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),H=H?H.toLowerCase():null,N=N.toLowerCase()),H&&L&&(H=Or(H,L)||H);const rt=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Z=Q===N||!a&&Q.startsWith(N)&&Q.charAt(rt)==="/",ot=H!=null&&(H===N||!a&&H.startsWith(N)&&H.charAt(N.length)==="/"),O={isActive:Z,isPending:ot,isTransitioning:C},R=Z?t:void 0,I;typeof r=="function"?I=r(O):I=[r,Z?"active":null,ot?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(O):l;return U.createElement(SR,{...p,"aria-current":R,className:I,ref:y,style:M,to:c,viewTransition:f},typeof m=="function"?m(O):m)});Zk.displayName="NavLink";var Jk=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=_f,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...b},w)=>{let x=rL(),L=sL(f,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&wR.test(f),Q=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let rt=H.nativeEvent.submitter,Z=(rt==null?void 0:rt.getAttribute("formmethod"))||c;x(rt||H.currentTarget,{fetcherKey:t,method:Z,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return U.createElement("form",{ref:w,method:C,action:L,onSubmit:r?m:Q,...b,"data-discover":!N&&e==="render"?"true":void 0})});Jk.displayName="Form";function tL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RR(e){let t=U.useContext(ll);return fe(t,tL(e)),t}function eL(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=cv(),m=ka(),p=bc(e,{relative:l});return U.useCallback(y=>{if(Ok(y,t)){y.preventDefault();let _=n!==void 0?n:Xu(m)===Xu(p);f(e,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,t,e,a,l,c])}var nL=0,iL=()=>`__${String(++nL)}__`;function rL(){let{router:e}=RR("useSubmit"),{basename:t}=U.useContext($i),n=Ak();return U.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=kk(r,t);if(a.navigate===!1){let y=a.fetcherKey||iL();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function sL(e,{relative:t}={}){let{basename:n}=U.useContext($i),r=U.useContext(Ur);fe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...bc(e||".",{relative:t})},c=ka();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Cr([n,l.pathname])),Xu(l)}function aL(e,t={}){let n=U.useContext(gR);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RR("useViewTransitionState"),a=bc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Or(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Or(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xf(a.pathname,c)!=null||Xf(a.pathname,l)!=null}new TextEncoder;const pv=U.createContext({});function gv(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const yv=typeof window<"u",xR=yv?U.useLayoutEffect:U.useEffect,Nd=U.createContext(null),vv=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class oL extends U.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lL({children:e,isPresent:t,anchorX:n}){const r=U.useId(),a=U.useRef(null),l=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=U.useContext(vv);return U.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:y,right:_}=l.current;if(t||!a.current||!f||!m)return;const b=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const w=document.createElement("style");return c&&(w.nonce=c),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[t]),V.jsx(oL,{isPresent:t,childRef:a,sizeRef:l,children:U.cloneElement(e,{ref:a})})}const uL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const m=gv(cL),p=U.useId();let y=!0,_=U.useMemo(()=>(y=!1,{id:p,initial:t,isPresent:n,custom:a,onExitComplete:b=>{m.set(b,!0);for(const w of m.values())if(!w)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,r]);return l&&y&&(_={..._}),U.useMemo(()=>{m.forEach((b,w)=>m.set(w,!1))},[n]),U.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=V.jsx(lL,{isPresent:n,anchorX:f,children:e})),V.jsx(Nd.Provider,{value:_,children:e})};function cL(){return new Map}function CR(e=!0){const t=U.useContext(Nd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=U.useId();U.useEffect(()=>{if(e)return a(l)},[e]);const c=U.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const sf=e=>e.key||"";function cA(e){const t=[];return U.Children.forEach(e,n=>{U.isValidElement(n)&&t.push(n)}),t}const Ef=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[m,p]=CR(c),y=U.useMemo(()=>cA(e),[e]),_=c&&!m?[]:y.map(sf),b=U.useRef(!0),w=U.useRef(y),x=gv(()=>new Map),[L,C]=U.useState(y),[N,Q]=U.useState(y);xR(()=>{b.current=!1,w.current=y;for(let Z=0;Z<N.length;Z++){const ot=sf(N[Z]);_.includes(ot)?x.delete(ot):x.get(ot)!==!0&&x.set(ot,!1)}},[N,_.length,_.join("-")]);const H=[];if(y!==L){let Z=[...y];for(let ot=0;ot<N.length;ot++){const O=N[ot],R=sf(O);_.includes(R)||(Z.splice(ot,0,O),H.push(O))}return l==="wait"&&H.length&&(Z=H),Q(cA(Z)),C(y),null}const{forceRender:rt}=U.useContext(pv);return V.jsx(V.Fragment,{children:N.map(Z=>{const ot=sf(Z),O=c&&!m?!1:y===N||_.includes(ot),R=()=>{if(x.has(ot))x.set(ot,!0);else return;let I=!0;x.forEach(M=>{M||(I=!1)}),I&&(rt==null||rt(),Q(w.current),c&&(p==null||p()),r&&r())};return V.jsx(uL,{isPresent:O,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,onExitComplete:O?void 0:R,anchorX:f,children:Z},ot)})})};function _v(e,t){e.indexOf(t)===-1&&e.push(t)}function Tv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let IR=()=>{};const qg={useManualTiming:!1};function Ev(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jn=e=>e,Wu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class bv{constructor(){this.subscriptions=[]}add(t){return _v(this.subscriptions,t),()=>Tv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Li=e=>e*1e3,Ui=e=>e/1e3;function DR(e,t){return t?e*(1e3/t):0}const hL=Ev(()=>window.ScrollTimeline!==void 0);class fL{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(hL()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dL extends fL{then(t,n){return this.finished.finally(t).then(()=>{})}}const hA={value:null},Av=e=>Array.isArray(e)&&typeof e[0]=="number",mL={};function pL(e,t){const n=Ev(e);return()=>mL[t]??n()}const Zu=pL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),NR=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Iu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Gg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function PR(e,t){if(e)return typeof e=="function"&&Zu()?NR(e,t):Av(e)?Iu(e):Array.isArray(e)?e.map(n=>PR(n,t)||Gg.easeOut):Gg[e]}function gL(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=PR(f,a);return Array.isArray(_)&&(y.easing=_),e.animate(y,{delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:p})}function wv(e){return typeof e=="function"&&"applyToOptions"in e}function Sv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Wf=2e4;function Rv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wf;)t+=n,r=e.next(t);return t>=Wf?1/0:t}function yL(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Rv(r),Wf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Ui(a)}}function OR(e){return!!(typeof e=="function"&&Zu()||!e||typeof e=="string"&&(e in Gg||Zu())||Av(e)||Array.isArray(e)&&e.every(OR))}function fA(e,t){e.timeline=t,e.onfinish=null}const af=["read","resolveKeyframes","update","preRender","render","postRender"];function vL(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(f)}const y={schedule:(_,b=!1,w=!1)=>{const L=w&&a?n:r;return b&&c.add(_),L.has(_)||L.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&hA.value&&hA.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const _L=40;function VR(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=af.reduce((N,Q)=>(N[Q]=vL(l,t?Q:void 0),N),{}),{read:f,resolveKeyframes:m,update:p,preRender:y,render:_,postRender:b}=c,w=()=>{const N=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(N-a.timestamp,_L),1),a.timestamp=N,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(w))},x=()=>{n=!0,r=!0,a.isProcessing||e(w)};return{schedule:af.reduce((N,Q)=>{const H=c[Q];return N[Q]=(rt,Z=!1,ot=!1)=>(n||x(),H.schedule(rt,Z,ot)),N},{}),cancel:N=>{for(let Q=0;Q<af.length;Q++)c[af[Q]].cancel(N)},state:a,steps:c}}const{schedule:xv}=VR(queueMicrotask,!1),{schedule:se,cancel:Os,state:Qe,steps:eg}=VR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let bf;function TL(){bf=void 0}const ji={now:()=>(bf===void 0&&ji.set(Qe.isProcessing||qg.useManualTiming?Qe.timestamp:performance.now()),bf),set:e=>{bf=e,queueMicrotask(TL)}},ui={x:!1,y:!1};function MR(){return ui.x||ui.y}function EL(e){return e==="x"||e==="y"?ui[e]?null:(ui[e]=!0,()=>{ui[e]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function bL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function kR(e,t){const n=bL(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function dA(e){return!(e.pointerType==="touch"||MR())}function AL(e,t,n={}){const[r,a,l]=kR(e,n),c=f=>{if(!dA(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{dA(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const LR=(e,t)=>t?e===t?!0:LR(e,t.parentElement):!1,Cv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,wL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SL(e){return wL.has(e.tagName)||e.tabIndex!==-1}const Du=new WeakSet;function mA(e){return t=>{t.key==="Enter"&&e(t)}}function ng(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=mA(()=>{if(Du.has(n))return;ng(n,"down");const a=mA(()=>{ng(n,"up")}),l=()=>ng(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function pA(e){return Cv(e)&&!MR()}function xL(e,t,n={}){const[r,a,l]=kR(e,n),c=f=>{const m=f.currentTarget;if(!pA(f)||Du.has(m))return;Du.add(m);const p=t(m,f),y=(w,x)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),!(!pA(w)||!Du.has(m))&&(Du.delete(m),typeof p=="function"&&p(w,{success:x}))},_=w=>{y(w,m===window||m===document||n.useGlobalTarget||LR(m,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),f instanceof HTMLElement&&(f.addEventListener("focus",p=>RL(p,a)),!SL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}const gA=30,CL=e=>!isNaN(parseFloat(e));class IL{constructor(t,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=ji.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ji.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=CL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bv);const r=this.events[t].add(n);return t==="change"?()=>{r(),se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gA);return DR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ju(e,t){return new IL(e,t)}const UR=U.createContext({strict:!1}),yA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const e in yA)Zo[e]={isEnabled:t=>yA[e].some(n=>!!t[n])};function DL(e){for(const t in e)Zo[t]={...Zo[t],...e[t]}}const NL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NL.has(e)}let jR=e=>!Zf(e);function PL(e){e&&(jR=t=>t.startsWith("on")?!Zf(t):e(t))}try{PL(require("@emotion/is-prop-valid").default)}catch{}function OL(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(jR(a)||n===!0&&Zf(a)||!t&&!Zf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function VL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Pd=U.createContext({});function Od(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tc(e){return typeof e=="string"||Array.isArray(e)}const Iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dv=["initial",...Iv];function Vd(e){return Od(e.animate)||Dv.some(t=>tc(e[t]))}function BR(e){return!!(Vd(e)||e.variants)}function ML(e,t){if(Vd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||tc(n)?n:void 0,animate:tc(r)?r:void 0}}return e.inherit!==!1?t:{}}function kL(e){const{initial:t,animate:n}=ML(e,U.useContext(Pd));return U.useMemo(()=>({initial:t,animate:n}),[vA(t),vA(n)])}function vA(e){return Array.isArray(e)?e.join(" "):e}const LL=Symbol.for("motionComponentSymbol");function Vo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function UL(e,t,n){return U.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Vo(n)&&(n.current=r))},[t])}const Nv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jL="framerAppearId",zR="data-"+Nv(jL),FR=U.createContext({});function BL(e,t,n,r,a){var L,C;const{visualElement:l}=U.useContext(Pd),c=U.useContext(UR),f=U.useContext(Nd),m=U.useContext(vv).reducedMotion,p=U.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=U.useContext(FR);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&zL(p.current,n,a,_);const b=U.useRef(!1);U.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const w=n[zR],x=U.useRef(!!w&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,w))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,w)));return xR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),xv.render(y.render),x.current&&y.animationState&&y.animationState.animateChanges())}),U.useEffect(()=>{y&&(!x.current&&y.animationState&&y.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,w)}),x.current=!1))}),y}function zL(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:HR(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Vo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function HR(e){if(e)return e.options.allowProjection!==!1?e.projection:HR(e.parent)}function FL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&DL(e);function l(f,m){let p;const y={...U.useContext(vv),...f,layoutId:HL(f)},{isStatic:_}=y,b=kL(f),w=r(f,_);if(!_&&yv){qL();const x=GL(y);p=x.MeasureLayout,b.visualElement=BL(a,w,y,t,x.ProjectionNode)}return V.jsxs(Pd.Provider,{value:b,children:[p&&b.visualElement?V.jsx(p,{visualElement:b.visualElement,...y}):null,n(a,f,UL(w,b.visualElement,m),w,_,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=U.forwardRef(l);return c[LL]=a,c}function HL({layoutId:e}){const t=U.useContext(pv).id;return t&&e!==void 0?t+"-"+e:e}function qL(e,t){U.useContext(UR).strict}function GL(e){const{drag:t,layout:n}=Zo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qR=e=>t=>typeof t=="string"&&t.startsWith(e),Pv=qR("--"),KL=qR("var(--"),Ov=e=>KL(e)?$L.test(e.split("/*")[0].trim()):!1,$L=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ec={};function YL(e){for(const t in e)ec[t]=e[t],Pv(t)&&(ec[t].isCSSVariable=!0)}const ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],La=new Set(ul);function GR(e,{layout:t,layoutId:n}){return La.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ec[e]||e==="opacity")}const ln=e=>!!(e&&e.getVelocity),KR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Vr=(e,t,n)=>n>t?t:n<e?e:n,cl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nc={...cl,transform:e=>Vr(0,1,e)},of={...cl,default:1},Ac=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ps=Ac("deg"),Bi=Ac("%"),Et=Ac("px"),QL=Ac("vh"),XL=Ac("vw"),_A={...Bi,parse:e=>Bi.parse(e)/100,transform:e=>Bi.transform(e*100)},WL={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et},ZL={rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:ps,skewX:ps,skewY:ps,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:nc,originX:_A,originY:_A,originZ:Et},TA={...cl,transform:Math.round},Vv={...WL,...ZL,zIndex:TA,size:Et,fillOpacity:nc,strokeOpacity:nc,numOctaves:TA},JL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t6=ul.length;function e6(e,t,n){let r="",a=!0;for(let l=0;l<t6;l++){const c=ul[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=KR(f,Vv[c]);if(!m){a=!1;const y=JL[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Mv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(La.has(m)){c=!0;continue}else if(Pv(m)){a[m]=p;continue}else{const y=KR(p,Vv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=e6(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $R(e,t,n){for(const r in t)!ln(t[r])&&!GR(r,n)&&(e[r]=t[r])}function n6({transformTemplate:e},t){return U.useMemo(()=>{const n=kv();return Mv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function i6(e,t){const n=e.style||{},r={};return $R(r,n,e),Object.assign(r,n6(e,t)),r}function r6(e,t){const n={},r=i6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const s6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lv(e){return typeof e!="string"||e.includes("-")?!1:!!(s6.indexOf(e)>-1||/[A-Z]/u.test(e))}const a6={offset:"stroke-dashoffset",array:"stroke-dasharray"},o6={offset:"strokeDashoffset",array:"strokeDasharray"};function l6(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?a6:o6;e[l.offset]=Et.transform(-r);const c=Et.transform(t),f=Et.transform(n);e[l.array]=`${c} ${f}`}function EA(e,t,n){return typeof e=="string"?e:Et.transform(t+n*e)}function u6(e,t,n){const r=EA(t,e.x,e.width),a=EA(n,e.y,e.height);return`${r} ${a}`}function Uv(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:m=0,...p},y,_){if(Mv(e,p,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:w,dimensions:x}=e;b.transform&&(x&&(w.transform=b.transform),delete b.transform),x&&(a!==void 0||l!==void 0||w.transform)&&(w.transformOrigin=u6(x,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),c!==void 0&&l6(b,c,f,m,!1)}const YR=()=>({...kv(),attrs:{}}),jv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function c6(e,t,n,r){const a=U.useMemo(()=>{const l=YR();return Uv(l,t,jv(r),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};$R(l,e.style,e),a.style={...l,...a.style}}return a}function h6(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(Lv(n)?c6:r6)(r,l,c,n),p=OL(r,typeof n=="string",e),y=n!==U.Fragment?{...p,...m,ref:a}:{},{children:_}=r,b=U.useMemo(()=>ln(_)?_.get():_,[_]);return U.createElement(n,{...y,children:b})}}function bA(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Bv(e,t,n,r){if(typeof t=="function"){const[a,l]=bA(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=bA(r);t=t(n!==void 0?n:e.custom,a,l)}return t}const Kg=e=>Array.isArray(e),f6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),d6=e=>Kg(e)?e[e.length-1]||0:e;function Af(e){const t=ln(e)?e.get():e;return f6(t)?t.toValue():t}function m6({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,l){const c={latestValues:p6(r,a,l,e),renderState:t()};return n&&(c.onMount=f=>n({props:r,current:f,...c}),c.onUpdate=f=>n(f)),c}const QR=e=>(t,n)=>{const r=U.useContext(Pd),a=U.useContext(Nd),l=()=>m6(e,t,r,a);return n?l():gv(l)};function p6(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=Af(l[b]);let{initial:c,animate:f}=e;const m=Vd(e),p=BR(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Od(_)){const b=Array.isArray(_)?_:[_];for(let w=0;w<b.length;w++){const x=Bv(e,b[w]);if(x){const{transitionEnd:L,transition:C,...N}=x;for(const Q in N){let H=N[Q];if(Array.isArray(H)){const rt=y?H.length-1:0;H=H[rt]}H!==null&&(a[Q]=H)}for(const Q in L)a[Q]=L[Q]}}}return a}function zv(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(ln(r[c])||t.style&&ln(t.style[c])||GR(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const g6={useVisualState:QR({scrapeMotionValuesFromProps:zv,createRenderState:kv})};function XR(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function WR(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}const ZR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JR(e,t,n,r){WR(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(ZR.has(a)?a:Nv(a),t.attrs[a])}function t2(e,t,n){const r=zv(e,t,n);for(const a in e)if(ln(e[a])||ln(t[a])){const l=ul.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const AA=["x","y","width","height","cx","cy","r"],y6={useVisualState:QR({scrapeMotionValuesFromProps:t2,createRenderState:YR,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let l=!!e.drag;if(!l){for(const f in a)if(La.has(f)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let f=0;f<AA.length;f++){const m=AA[f];e[m]!==t[m]&&(c=!0)}c&&se.read(()=>{XR(n,r),se.render(()=>{Uv(r,a,jv(n.tagName),e.transformTemplate),JR(n,r)})})}})};function v6(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Lv(r)?y6:g6,preloadedFeatures:e,useRender:h6(a),createVisualElement:t,Component:r};return FL(c)}}function ic(e,t,n){const r=e.getProps();return Bv(r,t,n!==void 0?n:r.custom,e)}const e2=new Set(["width","height","top","left","right","bottom",...ul]);function _6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ju(n))}function T6(e,t){const n=ic(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=d6(l[c]);_6(e,c,f)}}function E6(e){return!!(ln(e)&&e.add)}function $g(e,t){const n=e.getValue("willChange");if(E6(n))return n.add(t);if(!n&&qg.WillChange){const r=new qg.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function n2(e){return e.props[zR]}const i2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,b6=1e-7,A6=12;function w6(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=i2(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>b6&&++f<A6);return c}function wc(e,t,n,r){if(e===t&&n===r)return Jn;const a=l=>w6(l,0,1,e,n);return l=>l===0||l===1?l:i2(a(l),t,r)}const r2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,s2=e=>t=>1-e(1-t),a2=wc(.33,1.53,.69,.99),Fv=s2(a2),o2=r2(Fv),l2=e=>(e*=2)<1?.5*Fv(e):.5*(2-Math.pow(2,-10*(e-1))),Hv=e=>1-Math.sin(Math.acos(e)),u2=s2(Hv),c2=r2(Hv),h2=e=>/^0[^.\s]+$/u.test(e);function S6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||h2(e):!0}const ku=e=>Math.round(e*1e5)/1e5,qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R6(e){return e==null}const x6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gv=(e,t)=>n=>!!(typeof n=="string"&&x6.test(n)&&n.startsWith(e)||t&&!R6(n)&&Object.prototype.hasOwnProperty.call(n,t)),f2=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(qv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},C6=e=>Vr(0,255,e),ig={...cl,transform:e=>Math.round(C6(e))},Sa={test:Gv("rgb","red"),parse:f2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ig.transform(e)+", "+ig.transform(t)+", "+ig.transform(n)+", "+ku(nc.transform(r))+")"};function I6(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Yg={test:Gv("#"),parse:I6,transform:Sa.transform},Mo={test:Gv("hsl","hue"),parse:f2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bi.transform(ku(t))+", "+Bi.transform(ku(n))+", "+ku(nc.transform(r))+")"},sn={test:e=>Sa.test(e)||Yg.test(e)||Mo.test(e),parse:e=>Sa.test(e)?Sa.parse(e):Mo.test(e)?Mo.parse(e):Yg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Sa.transform(e):Mo.transform(e)},D6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N6(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qv))==null?void 0:t.length)||0)+(((n=e.match(D6))==null?void 0:n.length)||0)>0}const d2="number",m2="color",P6="var",O6="var(",wA="${}",V6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(V6,m=>(sn.test(m)?(r.color.push(l),a.push(m2),n.push(sn.parse(m))):m.startsWith(O6)?(r.var.push(l),a.push(P6),n.push(m)):(r.number.push(l),a.push(d2),n.push(parseFloat(m))),++l,wA)).split(wA);return{values:n,split:f,indexes:r,types:a}}function p2(e){return rc(e).values}function g2(e){const{split:t,types:n}=rc(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===d2?l+=ku(a[c]):f===m2?l+=sn.transform(a[c]):l+=a[c]}return l}}const M6=e=>typeof e=="number"?0:e;function k6(e){const t=p2(e);return g2(e)(t.map(M6))}const Vs={test:N6,parse:p2,createTransformer:g2,getAnimatableNone:k6},L6=new Set(["brightness","contrast","saturate","opacity"]);function U6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qv)||[];if(!r)return e;const a=n.replace(r,"");let l=L6.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const j6=/\b([a-z-]*)\(.*?\)/gu,Qg={...Vs,getAnimatableNone:e=>{const t=e.match(j6);return t?t.map(U6).join(" "):e}},B6={...Vv,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Qg,WebkitFilter:Qg},y2=e=>B6[e];function v2(e,t){let n=y2(e);return n!==Qg&&(n=Vs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const z6=new Set(["auto","none","0"]);function F6(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!z6.has(l)&&rc(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=v2(n,a)}const Ra=e=>e*180/Math.PI,Xg=e=>{const t=Ra(Math.atan2(e[1],e[0]));return Wg(t)},H6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xg,rotateZ:Xg,skewX:e=>Ra(Math.atan(e[1])),skewY:e=>Ra(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wg=e=>(e=e%360,e<0&&(e+=360),e),SA=Xg,RA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),q6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RA,scaleY:xA,scale:e=>(RA(e)+xA(e))/2,rotateX:e=>Wg(Ra(Math.atan2(e[6],e[5]))),rotateY:e=>Wg(Ra(Math.atan2(-e[2],e[0]))),rotateZ:SA,rotate:SA,skewX:e=>Ra(Math.atan(e[4])),skewY:e=>Ra(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function CA(e){return e.includes("scale")?1:0}function Zg(e,t){if(!e||e==="none")return CA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=q6,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=H6,a=f}if(!a)return CA(t);const l=r[t],c=a[1].split(",").map(K6);return typeof l=="function"?l(c):c[l]}const G6=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Zg(n,t)};function K6(e){return parseFloat(e.trim())}const IA=e=>e===cl||e===Et,$6=new Set(["x","y","z"]),Y6=ul.filter(e=>!$6.has(e));function Q6(e){const t=[];return Y6.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Jo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Zg(t,"x"),y:(e,{transform:t})=>Zg(t,"y")};Jo.translateX=Jo.x;Jo.translateY=Jo.y;const xa=new Set;let Jg=!1,ty=!1;function _2(){if(ty){const e=Array.from(xa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Q6(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ty=!1,Jg=!1,xa.forEach(e=>e.complete()),xa.clear()}function T2(){xa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ty=!0)})}function X6(){T2(),_2()}class Kv{constructor(t,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xa.add(this),Jg||(Jg=!0,se.read(T2),se.resolveKeyframes(_2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=a==null?void 0:a.get(),f=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&n){const m=r.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),a&&c===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const E2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),W6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z6(e){const t=W6.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function b2(e,t,n=1){const[r,a]=Z6(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return E2(c)?parseFloat(c):c}return Ov(a)?b2(a,t,n+1):a}const A2=e=>t=>t.test(e),J6={test:e=>e==="auto",parse:e=>e},w2=[cl,Et,Bi,ps,XL,QL,J6],DA=e=>w2.find(A2(e));class S2 extends Kv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Ov(p))){const y=b2(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!e2.has(r)||t.length!==2)return;const[a,l]=t,c=DA(a),f=DA(l);if(c!==f)if(IA(c)&&IA(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)S6(t[a])&&r.push(a);r.length&&F6(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Jo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const NA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vs.test(e)||e==="0")&&!e.startsWith("url("));function t3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function e3(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=NA(a,t),f=NA(l,t);return!c||!f?!1:t3(e)||(n==="spring"||wv(n))&&r}const n3=e=>e!==null;function Md(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(n3),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const i3=40;class R2{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ji.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>i3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&X6(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ji.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:c,onComplete:f,onUpdate:m,isGenerator:p}=this.options;if(!p&&!e3(t,r,a,l))if(c)this.options.duration=0;else{m&&m(Md(t,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,n);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const he=(e,t,n)=>e+(t-e)*n;function rg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function r3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=rg(m,f,e+1/3),l=rg(m,f,e),c=rg(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Jf(e,t){return n=>n>0?t:e}const sg=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},s3=[Yg,Sa,Mo],a3=e=>s3.find(t=>t.test(e));function PA(e){const t=a3(e);if(!t)return!1;let n=t.parse(e);return t===Mo&&(n=r3(n)),n}const OA=(e,t)=>{const n=PA(e),r=PA(t);if(!n||!r)return Jf(e,t);const a={...n};return l=>(a.red=sg(n.red,r.red,l),a.green=sg(n.green,r.green,l),a.blue=sg(n.blue,r.blue,l),a.alpha=he(n.alpha,r.alpha,l),Sa.transform(a))},o3=(e,t)=>n=>t(e(n)),Sc=(...e)=>e.reduce(o3),ey=new Set(["none","hidden"]);function l3(e,t){return ey.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function u3(e,t){return n=>he(e,t,n)}function $v(e){return typeof e=="number"?u3:typeof e=="string"?Ov(e)?Jf:sn.test(e)?OA:f3:Array.isArray(e)?x2:typeof e=="object"?sn.test(e)?OA:c3:Jf}function x2(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>$v(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function c3(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=$v(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function h3(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],f=e.values[c]??0;n[a]=f,r[l]++}return n}const f3=(e,t)=>{const n=Vs.createTransformer(t),r=rc(e),a=rc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?ey.has(e)&&!a.values.length||ey.has(t)&&!r.values.length?l3(e,t):Sc(x2(h3(r,a),a.values),n):Jf(e,t)};function C2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?he(e,t,n):$v(e)(e,t)}const d3=5;function I2(e,t,n){const r=Math.max(t-d3,0);return DR(n-e(r),t-r)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VA=.001;function m3({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:r=ge.mass}){let a,l,c=1-t;c=Vr(ge.minDamping,ge.maxDamping,c),e=Vr(ge.minDuration,ge.maxDuration,Ui(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,w=ny(p,c),x=Math.exp(-_);return VA-b/w*x},l=p=>{const _=p*c*e,b=_*n+n,w=Math.pow(c,2)*Math.pow(p,2)*e,x=Math.exp(-_),L=ny(Math.pow(p,2),c);return(-a(p)+VA>0?-1:1)*((b-w)*x)/L}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=g3(a,l,f);if(e=Li(e),isNaN(m))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const p3=12;function g3(e,t,n){let r=n;for(let a=1;a<p3;a++)r=r-e(r)/t(r);return r}function ny(e,t){return e*Math.sqrt(1-t*t)}const y3=["duration","bounce"],v3=["stiffness","damping","mass"];function MA(e,t){return t.some(n=>e[n]!==void 0)}function _3(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!MA(e,v3)&&MA(e,y3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Vr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ge.mass,stiffness:a,damping:l}}else{const n=m3(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function td(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:w}=_3({...n,velocity:-Ui(n.velocity||0)}),x=b||0,L=p/(2*Math.sqrt(m*y)),C=c-l,N=Ui(Math.sqrt(m/y)),Q=Math.abs(C)<5;r||(r=Q?ge.restSpeed.granular:ge.restSpeed.default),a||(a=Q?ge.restDelta.granular:ge.restDelta.default);let H;if(L<1){const Z=ny(N,L);H=ot=>{const O=Math.exp(-L*N*ot);return c-O*((x+L*N*C)/Z*Math.sin(Z*ot)+C*Math.cos(Z*ot))}}else if(L===1)H=Z=>c-Math.exp(-N*Z)*(C+(x+N*C)*Z);else{const Z=N*Math.sqrt(L*L-1);H=ot=>{const O=Math.exp(-L*N*ot),R=Math.min(Z*ot,300);return c-O*((x+L*N*C)*Math.sinh(R)+Z*C*Math.cosh(R))/Z}}const rt={calculatedDuration:w&&_||null,next:Z=>{const ot=H(Z);if(w)f.done=Z>=_;else{let O=0;L<1&&(O=Z===0?Li(x):I2(H,Z,ot));const R=Math.abs(O)<=r,I=Math.abs(c-ot)<=a;f.done=R&&I}return f.value=f.done?c:ot,f},toString:()=>{const Z=Math.min(Rv(rt),Wf),ot=NR(O=>rt.next(Z*O).value,Z,30);return Z+"ms "+ot},toTransition:()=>{}};return rt}td.applyToOptions=e=>{const t=yL(e,100,td);return e.ease=Zu()?t.ease:"easeOut",e.duration=Li(t.duration),e.type="keyframes",e};function kA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},w=R=>f!==void 0&&R<f||m!==void 0&&R>m,x=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let L=n*t;const C=_+L,N=c===void 0?C:c(C);N!==C&&(L=N-_);const Q=R=>-L*Math.exp(-R/r),H=R=>N+Q(R),rt=R=>{const I=Q(R),M=H(R);b.done=Math.abs(I)<=p,b.value=b.done?N:M};let Z,ot;const O=R=>{w(b.value)&&(Z=R,ot=td({keyframes:[b.value,x(b.value)],velocity:I2(H,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return O(0),{calculatedDuration:null,next:R=>{let I=!1;return!ot&&Z===void 0&&(I=!0,rt(R),O(R)),Z!==void 0&&R>=Z?ot.next(R-Z):(!I&&rt(R),b)}}}const T3=wc(.42,0,1,1),E3=wc(0,0,.58,1),D2=wc(.42,0,.58,1),b3=e=>Array.isArray(e)&&typeof e[0]!="number",A3={linear:Jn,easeIn:T3,easeInOut:D2,easeOut:E3,circIn:Hv,circInOut:c2,circOut:u2,backIn:Fv,backInOut:o2,backOut:a2,anticipate:l2},LA=e=>{if(Av(e)){IR(e.length===4);const[t,n,r,a]=e;return wc(t,n,r,a)}else if(typeof e=="string")return A3[e];return e};function w3(e,t,n){const r=[],a=n||C2,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Jn:t;f=Sc(m,f)}r.push(f)}return r}function S3(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(IR(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=w3(t,r,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=Wu(e[_],e[_+1],y);return f[_](b)};return n?y=>p(Vr(e[0],e[l-1],y)):p}function R3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Wu(0,t,r);e.push(he(n,1,a))}}function x3(e){const t=[0];return R3(t,e.length-1),t}function C3(e,t){return e.map(n=>n*t)}function I3(e,t){return e.map(()=>t||D2).splice(0,e.length-1)}function ed({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=b3(r)?r.map(LA):LA(r),l={done:!1,value:t[0]},c=C3(n&&n.length===t.length?n:x3(t),e),f=S3(c,t,{ease:Array.isArray(a)?a:I3(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const D3=e=>{const t=({timestamp:n})=>e(n);return{start:()=>se.update(t,!0),stop:()=>Os(t),now:()=>Qe.isProcessing?Qe.timestamp:ji.now()}},N3={decay:kA,inertia:kA,tween:ed,keyframes:ed,spring:td},P3=e=>e/100;class Yv extends R2{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:n,motionValue:r,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Kv,f=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,f,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,f=wv(n)?n:N3[n]||ed;let m,p;f!==ed&&typeof t[0]!="number"&&(m=Sc(P3,C2(t[0],t[1])),t=[0,100]);const y=f({...this.options,keyframes:t});l==="mirror"&&(p=f({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=Rv(y));const{calculatedDuration:_}=y,b=_+a,w=b*(r+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:_,resolvedDuration:b,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:m,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:b,repeat:w,repeatType:x,repeatDelay:L,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const N=this.currentTime-b*(this.speed>=0?1:-1),Q=this.speed>=0?N<0:N>y;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let H=this.currentTime,rt=l;if(w){const R=Math.min(this.currentTime,y)/_;let I=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&I--,I=Math.min(I,w+1),!!(I%2)&&(x==="reverse"?(M=1-M,L&&(M-=L/_)):x==="mirror"&&(rt=c)),H=Vr(0,1,M)*_}const Z=Q?{done:!1,value:m[0]}:rt.next(H);f&&(Z.value=f(Z.value));let{done:ot}=Z;!Q&&p!==null&&(ot=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return O&&a!==void 0&&(Z.value=Md(m,this.options,a)),C&&C(Z.value),O&&this.finish(),Z}get duration(){const{resolved:t}=this;return t?Ui(t.calculatedDuration):0}get time(){return Ui(this.currentTime)}set time(t){t=Li(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=D3,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const O3=new Set(["opacity","clipPath","filter","transform"]),V3=Ev(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nd=10,M3=2e4;function k3(e){return wv(e.type)||e.type==="spring"||!OR(e.ease)}function L3(e,t){const n=new Yv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let l=0;for(;!r.done&&l<M3;)r=n.sample(l),a.push(r.value),l+=nd;return{times:void 0,keyframes:a,duration:l-nd,ease:"linear"}}const N2={anticipate:l2,backInOut:o2,circInOut:c2};function U3(e){return e in N2}class UA extends R2{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new S2(l,(c,f)=>this.onKeyframesResolved(c,f),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:l,type:c,motionValue:f,name:m,startTime:p}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&Zu()&&U3(l)&&(l=N2[l]),k3(this.options)){const{onComplete:_,onUpdate:b,motionValue:w,element:x,...L}=this.options,C=L3(t,L);t=C.keyframes,t.length===1&&(t[1]=t[0]),r=C.duration,a=C.times,l=C.ease,c="keyframes"}const y=gL(f.owner.current,m,t,{...this.options,duration:r,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(fA(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;f.set(Md(t,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ui(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ui(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Li(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Jn;const{animation:r}=n;fA(r,t)}return Jn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:l,ease:c,times:f}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:b,...w}=this.options,x=new Yv({...w,keyframes:r,duration:a,type:l,ease:c,times:f,isGenerator:!0}),L=Li(this.time);p.setWithVelocity(x.sample(L-nd).value,x.sample(L).value,nd)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:l,damping:c,type:f}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=n.owner.getProps();return V3()&&r&&O3.has(r)&&(r!=="transform"||!p)&&!m&&!a&&l!=="mirror"&&c!==0&&f!=="inertia"}}const j3={type:"spring",stiffness:500,damping:25,restSpeed:10},B3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),z3={type:"keyframes",duration:.8},F3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},H3=(e,{keyframes:t})=>t.length>2?z3:La.has(e)?e.startsWith("scale")?B3(t[1]):j3:F3;function q3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Qv=(e,t,n,r={},a,l)=>c=>{const f=Sv(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Li(m);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};q3(f)||(y={...y,...H3(e,y)}),y.duration&&(y.duration=Li(y.duration)),y.repeatDelay&&(y.repeatDelay=Li(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const b=Md(y.keyframes,f);if(b!==void 0)return se.update(()=>{y.onUpdate(b),y.onComplete()}),new dL([])}return!l&&UA.supports(y)?new UA(y):new Yv(y)};function G3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function P2(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),b=f[y];if(b===void 0||p&&G3(p,y))continue;const w={delay:n,...Sv(l||{},y)};let x=!1;if(window.MotionHandoffAnimation){const C=n2(e);if(C){const N=window.MotionHandoffAnimation(C,y,se);N!==null&&(w.startTime=N,x=!0)}}$g(e,y),_.start(Qv(y,_,b,e.shouldReduceMotion&&e2.has(y)?{type:!1}:w,e,x));const L=_.animation;L&&m.push(L)}return c&&Promise.all(m).then(()=>{se.update(()=>{c&&T6(e,c)})}),m}function iy(e,t,n={}){var m;const r=ic(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(P2(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=a;return K3(e,t,y+p,_,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function K3(e,t,n=0,r=0,a=1,l){const c=[],f=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(e.variantChildren).sort($3).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(iy(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function $3(e,t){return e.sortNodePosition(t)}function Y3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>iy(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=iy(e,t,n);else{const a=typeof t=="function"?ic(e,t,n.custom):t;r=Promise.all(P2(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function O2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Q3=Dv.length;function V2(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?V2(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Q3;n++){const r=Dv[n],a=e.props[r];(tc(a)||a===!1)&&(t[r]=a)}return t}const X3=[...Iv].reverse(),W3=Iv.length;function Z3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Y3(e,n,r)))}function J3(e){let t=Z3(e),n=jA(),r=!0;const a=m=>(p,y)=>{var b;const _=ic(e,y,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(_){const{transition:w,transitionEnd:x,...L}=_;p={...p,...L,...x}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=V2(e.parent)||{},_=[],b=new Set;let w={},x=1/0;for(let C=0;C<W3;C++){const N=X3[C],Q=n[N],H=p[N]!==void 0?p[N]:y[N],rt=tc(H),Z=N===m?Q.isActive:null;Z===!1&&(x=C);let ot=H===y[N]&&H!==p[N]&&rt;if(ot&&r&&e.manuallyAnimateOnMount&&(ot=!1),Q.protectedKeys={...w},!Q.isActive&&Z===null||!H&&!Q.prevProp||Od(H)||typeof H=="boolean")continue;const O=tU(Q.prevProp,H);let R=O||N===m&&Q.isActive&&!ot&&rt||C>x&&rt,I=!1;const M=Array.isArray(H)?H:[H];let B=M.reduce(a(N),{});Z===!1&&(B={});const{prevResolvedValues:z={}}=Q,P={...z,...B},oe=at=>{R=!0,b.has(at)&&(I=!0,b.delete(at)),Q.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in P){const ft=B[at],Ct=z[at];if(w.hasOwnProperty(at))continue;let k=!1;Kg(ft)&&Kg(Ct)?k=!O2(ft,Ct):k=ft!==Ct,k?ft!=null?oe(at):b.add(at):ft!==void 0&&b.has(at)?oe(at):Q.protectedKeys[at]=!0}Q.prevProp=H,Q.prevResolvedValues=B,Q.isActive&&(w={...w,...B}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(ot&&O)||I)&&_.push(...M.map(at=>({animation:at,options:{type:N}})))}if(b.size){const C={};if(typeof p.initial!="boolean"){const N=ic(e,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(C.transition=N.transition)}b.forEach(N=>{const Q=e.getBaseTarget(N),H=e.getValue(N);H&&(H.liveStyle=!0),C[N]=Q??null}),_.push({animation:C})}let L=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(L=!1),r=!1,L?t(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=jA(),r=!0}}}function tU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!O2(t,e):!1}function _a(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jA(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class Us{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eU extends Us{constructor(t){super(t),t.animationState||(t.animationState=J3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Od(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let nU=0;class iU extends Us{constructor(){super(...arguments),this.id=nU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rU={animation:{Feature:eU},exit:{Feature:iU}};function sc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Rc(e){return{point:{x:e.pageX,y:e.pageY}}}const sU=e=>t=>Cv(t)&&e(t,Rc(t));function Lu(e,t,n,r){return sc(e,t,sU(n),r)}function M2({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function aU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const k2=1e-4,lU=1-k2,uU=1+k2,L2=.01,cU=0-L2,hU=0+L2;function vn(e){return e.max-e.min}function fU(e,t,n){return Math.abs(e-t)<=n}function BA(e,t,n,r=.5){e.origin=r,e.originPoint=he(t.min,t.max,e.origin),e.scale=vn(n)/vn(t),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(e.scale>=lU&&e.scale<=uU||isNaN(e.scale))&&(e.scale=1),(e.translate>=cU&&e.translate<=hU||isNaN(e.translate))&&(e.translate=0)}function Uu(e,t,n,r){BA(e.x,t.x,n.x,r?r.originX:void 0),BA(e.y,t.y,n.y,r?r.originY:void 0)}function zA(e,t,n){e.min=n.min+t.min,e.max=e.min+vn(t)}function dU(e,t,n){zA(e.x,t.x,n.x),zA(e.y,t.y,n.y)}function FA(e,t,n){e.min=t.min-n.min,e.max=e.min+vn(t)}function ju(e,t,n){FA(e.x,t.x,n.x),FA(e.y,t.y,n.y)}const HA=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:HA(),y:HA()}),qA=()=>({min:0,max:0}),Te=()=>({x:qA(),y:qA()});function Zn(e){return[e("x"),e("y")]}function ag(e){return e===void 0||e===1}function ry({scale:e,scaleX:t,scaleY:n}){return!ag(e)||!ag(t)||!ag(n)}function ba(e){return ry(e)||U2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function U2(e){return GA(e.x)||GA(e.y)}function GA(e){return e&&e!=="0%"}function id(e,t,n){const r=e-n,a=t*r;return n+a}function KA(e,t,n,r,a){return a!==void 0&&(e=id(e,a,r)),id(e,n,r)+t}function sy(e,t=0,n=1,r,a){e.min=KA(e.min,t,n,r,a),e.max=KA(e.max,t,n,r,a)}function j2(e,{x:t,y:n}){sy(e.x,t.translate,t.scale,t.originPoint),sy(e.y,n.translate,n.scale,n.originPoint)}const $A=.999999999999,YA=1.0000000000001;function mU(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Uo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,j2(e,c)),r&&ba(l.latestValues)&&Uo(e,l.latestValues))}t.x<YA&&t.x>$A&&(t.x=1),t.y<YA&&t.y>$A&&(t.y=1)}function Lo(e,t){e.min=e.min+t,e.max=e.max+t}function QA(e,t,n,r,a=.5){const l=he(e.min,e.max,a);sy(e,t,n,l,r)}function Uo(e,t){QA(e.x,t.x,t.scaleX,t.scale,t.originX),QA(e.y,t.y,t.scaleY,t.scale,t.originY)}function B2(e,t){return M2(oU(e.getBoundingClientRect(),t))}function pU(e,t,n){const r=B2(e,n),{scroll:a}=t;return a&&(Lo(r.x,a.offset.x),Lo(r.y,a.offset.y)),r}const z2=({current:e})=>e?e.ownerDocument.defaultView:null,XA=(e,t)=>Math.abs(e-t);function gU(e,t){const n=XA(e.x,t.x),r=XA(e.y,t.y);return Math.sqrt(n**2+r**2)}class F2{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=lg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=gU(_.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:x}=_,{timestamp:L}=Qe;this.history.push({...x,timestamp:L});const{onStart:C,onMove:N}=this.handlers;b||(C&&C(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=og(b,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=lg(_.type==="pointercancel"?this.lastMoveEventInfo:og(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(_,C),x&&x(_,C)},!Cv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=Rc(t),f=og(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Qe;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,lg(f,this.history)),this.removeListeners=Sc(Lu(this.contextWindow,"pointermove",this.handlePointerMove),Lu(this.contextWindow,"pointerup",this.handlePointerUp),Lu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Os(this.updatePoint)}}function og(e,t){return t?{point:t(e.point)}:e}function WA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lg({point:e},t){return{point:e,delta:WA(e,H2(t)),offset:WA(e,yU(t)),velocity:vU(t,.1)}}function yU(e){return e[0]}function H2(e){return e[e.length-1]}function vU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=H2(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Li(t)));)n--;if(!r)return{x:0,y:0};const l=Ui(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function _U(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?he(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?he(n,e,r.max):Math.min(e,n)),e}function ZA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function TU(e,{top:t,left:n,bottom:r,right:a}){return{x:ZA(e.x,n,a),y:ZA(e.y,t,r)}}function JA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function EU(e,t){return{x:JA(e.x,t.x),y:JA(e.y,t.y)}}function bU(e,t){let n=.5;const r=vn(e),a=vn(t);return a>r?n=Wu(t.min,t.max-r,e.min):r>a&&(n=Wu(e.min,e.max-a,t.min)),Vr(0,1,n)}function AU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ay=.35;function wU(e=ay){return e===!1?e=0:e===!0&&(e=ay),{x:tw(e,"left","right"),y:tw(e,"top","bottom")}}function tw(e,t,n){return{min:ew(e,t),max:ew(e,n)}}function ew(e,t){return typeof e=="number"?e:e[t]||0}const SU=new WeakMap;class RU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rc(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:w,onDragStart:x}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EL(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(C=>{let N=this.getAxisMotionValue(C).get()||0;if(Bi.test(N)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const H=Q.layout.layoutBox[C];H&&(N=vn(H)*(parseFloat(N)/100))}}this.originPoint[C]=N}),x&&se.postRender(()=>x(y,_)),$g(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:x,onDrag:L}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=_;if(w&&this.currentDirection===null){this.currentDirection=xU(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",_.point,C),this.updateAxis("y",_.point,C),this.visualElement.render(),L&&L(y,_)},f=(y,_)=>this.stop(y,_),m=()=>Zn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new F2(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:z2(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&se.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!lf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=_U(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Vo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=TU(r.layoutBox,t):this.constraints=!1,this.elastic=wU(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=AU(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=pU(r,a.root,this.visualElement.getTransformPagePoint());let c=EU(a.layout.layoutBox,l);if(n){const f=n(aU(c));this.hasMutatedConstraints=!!f,f&&(c=M2(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Zn(y=>{if(!lf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,x={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return $g(this.visualElement,t),r.start(Qv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Zn(n=>{const{drag:r}=this.getProps();if(!lf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-he(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=bU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zn(c=>{if(!lf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(he(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;SU.set(this.visualElement,this);const t=this.visualElement.current,n=Lu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Vo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),se.read(r);const c=sc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Zn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ay,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function lf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class CU extends Us{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new RU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const nw=e=>(t,n)=>{e&&se.postRender(()=>e(t,n))};class IU extends Us{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new F2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:nw(t),onStart:nw(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&se.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Lu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Eu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Et.test(e))e=parseFloat(e);else return e;const n=iw(e,t.target.x),r=iw(e,t.target.y);return`${n}% ${r}%`}},DU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Vs.parse(e);if(a.length>5)return r;const l=Vs.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=he(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class NU extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;YL(PU),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||se.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function q2(e){const[t,n]=CR(),r=U.useContext(pv);return V.jsx(NU,{...e,layoutGroup:r,switchLayoutGroup:U.useContext(FR),isPresent:t,safeToRemove:n})}const PU={borderRadius:{...Eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Eu,borderTopRightRadius:Eu,borderBottomLeftRadius:Eu,borderBottomRightRadius:Eu,boxShadow:DU};function OU(e,t,n){const r=ln(e)?e:Ju(e);return r.start(Qv("",r,t,n)),r.animation}function VU(e){return e instanceof SVGElement&&e.tagName!=="svg"}const MU=(e,t)=>e.depth-t.depth;class kU{constructor(){this.children=[],this.isDirty=!1}add(t){_v(this.children,t),this.isDirty=!0}remove(t){Tv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MU),this.isDirty=!1,this.children.forEach(t)}}function LU(e,t){const n=ji.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Os(r),e(l-t))};return se.read(r,!0),()=>Os(r)}const G2=["TopLeft","TopRight","BottomLeft","BottomRight"],UU=G2.length,rw=e=>typeof e=="string"?parseFloat(e):e,sw=e=>typeof e=="number"||Et.test(e);function jU(e,t,n,r,a,l){a?(e.opacity=he(0,n.opacity??1,BU(r)),e.opacityExit=he(t.opacity??1,0,zU(r))):l&&(e.opacity=he(t.opacity??1,n.opacity??1,r));for(let c=0;c<UU;c++){const f=`border${G2[c]}Radius`;let m=aw(t,f),p=aw(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||sw(m)===sw(p)?(e[f]=Math.max(he(rw(m),rw(p),r),0),(Bi.test(p)||Bi.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,r))}function aw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BU=K2(0,.5,u2),zU=K2(.5,.95,Jn);function K2(e,t,n){return r=>r<e?0:r>t?1:n(Wu(e,t,r))}function ow(e,t){e.min=t.min,e.max=t.max}function Wn(e,t){ow(e.x,t.x),ow(e.y,t.y)}function lw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uw(e,t,n,r,a){return e-=t,e=id(e,1/n,r),a!==void 0&&(e=id(e,1/a,r)),e}function FU(e,t=0,n=1,r=.5,a,l=e,c=e){if(Bi.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=he(l.min,l.max,r);e===l&&(f-=t),e.min=uw(e.min,t,n,f,a),e.max=uw(e.max,t,n,f,a)}function cw(e,t,[n,r,a],l,c){FU(e,t[n],t[r],t[a],t.scale,l,c)}const HU=["x","scaleX","originX"],qU=["y","scaleY","originY"];function hw(e,t,n,r){cw(e.x,t,HU,n?n.x:void 0,r?r.x:void 0),cw(e.y,t,qU,n?n.y:void 0,r?r.y:void 0)}function fw(e){return e.translate===0&&e.scale===1}function $2(e){return fw(e.x)&&fw(e.y)}function dw(e,t){return e.min===t.min&&e.max===t.max}function GU(e,t){return dw(e.x,t.x)&&dw(e.y,t.y)}function mw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Y2(e,t){return mw(e.x,t.x)&&mw(e.y,t.y)}function pw(e){return vn(e.x)/vn(e.y)}function gw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class KU{constructor(){this.members=[]}add(t){_v(this.members,t),t.scheduleRender()}remove(t){if(Tv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $U(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:w,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),x&&(r+=`skewY(${x}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const ug=["","X","Y","Z"],YU={visibility:"hidden"},yw=1e3;let QU=0;function cg(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Q2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=n2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",se,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Q2(r)}function X2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=QU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZU),this.nodes.forEach(i9),this.nodes.forEach(r9),this.nodes.forEach(JU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new kU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new bv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VU(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||m)&&(this.isLayoutDirty=!0),e){let _;const b=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=LU(b,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(_w))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||y.getDefaultTransition()||u9,{onLayoutAnimationStart:C,onLayoutAnimationComplete:N}=y.getProps(),Q=!this.targetLayout||!Y2(this.targetLayout,x),H=!b&&w;if(this.options.layoutRoot||this.resumeFrom||H||b&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,H);const rt={...Sv(L,"layout"),onPlay:C,onComplete:N};(y.shouldReduceMotion||this.options.layoutRoot)&&(rt.delay=0,rt.type=!1),this.startAnimation(rt)}else b||_w(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vw);return}this.isUpdating||this.nodes.forEach(e9),this.isUpdating=!1,this.nodes.forEach(n9),this.nodes.forEach(XU),this.nodes.forEach(WU),this.clearAllSnapshots();const f=ji.now();Qe.delta=Vr(0,1e3/60,f-Qe.timestamp),Qe.timestamp=f,Qe.isProcessing=!0,eg.update.process(Qe),eg.preRender.process(Qe),eg.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t9),this.sharedNodes.forEach(a9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!$2(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(f||ba(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),c9(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Te();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(h9))){const{scroll:y}=this.root;y&&(Lo(f.x,y.offset.x),Lo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Te();if(Wn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&Wn(f,c),Lo(f.x,_.offset.x),Lo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Te();Wn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Uo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ba(y.latestValues)&&Uo(m,y.latestValues)}return ba(this.latestValues)&&Uo(m,this.latestValues),m}removeTransform(c){const f=Te();Wn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ba(p.latestValues))continue;ry(p.latestValues)&&p.updateSnapshot();const y=Te(),_=p.measurePageBox();Wn(y,_),hw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ba(this.latestValues)&&hw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),ju(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),j2(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),ju(this.relativeTargetOrigin,this.target,w.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ry(this.parent.latestValues)||U2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Wn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;mU(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Te());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lw(this.prevProjectionDelta.x,this.projectionDelta.x),lw(this.prevProjectionDelta.y,this.projectionDelta.y)),Uu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Te(),w=m?m.source:void 0,x=this.layout?this.layout.source:void 0,L=w!==x,C=this.getStack(),N=!C||C.members.length<=1,Q=!!(L&&!N&&this.options.crossfade===!0&&!this.path.some(l9));this.animationProgress=0;let H;this.mixTargetDelta=rt=>{const Z=rt/1e3;Tw(_.x,c.x,Z),Tw(_.y,c.y,Z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o9(this.relativeTarget,this.relativeTargetOrigin,b,Z),H&&GU(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Te()),Wn(H,this.relativeTarget)),L&&(this.animationValues=y,jU(y,p,this.latestValues,Z,Q,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{wf.hasAnimatedSinceResize=!0,this.currentAnimation=OU(0,yw,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&W2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Te();const _=vn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=vn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Wn(f,m),Uo(f,y),Uu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new KU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&cg("z",c,p,this.animationValues);for(let y=0;y<ug.length;y++)cg(`rotate${ug[y]}`,c,p,this.animationValues),cg(`skew${ug[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return YU;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Af(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Af(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=$U(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:b}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in ec){if(y[w]===void 0)continue;const{correct:x,applyTo:L,isCSSVariable:C}=ec[w],N=f.transform==="none"?y[w]:x(y[w],p);if(L){const Q=L.length;for(let H=0;H<Q;H++)f[L[H]]=N}else C?this.options.visualElement.renderState.vars[w]=N:f[w]=N}return this.options.layoutId&&(f.pointerEvents=p===this?Af(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(vw),this.root.sharedNodes.clear()}}}function XU(e){e.updateLayout()}function WU(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Zn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],w=vn(b);b.min=r[_].min,b.max=b.min+w}):W2(l,t.layoutBox,r)&&Zn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],w=vn(r[_]);b.max=b.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+w)});const f=ko();Uu(f,r,t.layoutBox);const m=ko();c?Uu(m,e.applyTransform(a,!0),t.measuredBox):Uu(m,r,t.layoutBox);const p=!$2(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:w}=_;if(b&&w){const x=Te();ju(x,t.layoutBox,b.layoutBox);const L=Te();ju(L,r,w.layoutBox),Y2(x,L)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=L,e.relativeTargetOrigin=x,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ZU(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function t9(e){e.clearSnapshot()}function vw(e){e.clearMeasurements()}function e9(e){e.isLayoutDirty=!1}function n9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _w(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function i9(e){e.resolveTargetDelta()}function r9(e){e.calcProjection()}function s9(e){e.resetSkewAndRotation()}function a9(e){e.removeLeadSnapshot()}function Tw(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ew(e,t,n,r){e.min=he(t.min,n.min,r),e.max=he(t.max,n.max,r)}function o9(e,t,n,r){Ew(e.x,t.x,n.x,r),Ew(e.y,t.y,n.y,r)}function l9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const u9={duration:.45,ease:[.4,0,.1,1]},bw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Aw=bw("applewebkit/")&&!bw("chrome/")?Math.round:Jn;function ww(e){e.min=Aw(e.min),e.max=Aw(e.max)}function c9(e){ww(e.x),ww(e.y)}function W2(e,t,n){return e==="position"||e==="preserve-aspect"&&!fU(pw(t),pw(n),.2)}function h9(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const f9=X2({attachResizeListener:(e,t)=>sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hg={current:void 0},Z2=X2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hg.current){const e=new f9({});e.mount(window),e.setOptions({layoutScroll:!0}),hg.current=e}return hg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d9={pan:{Feature:IU},drag:{Feature:CU,ProjectionNode:Z2,MeasureLayout:q2}};function Sw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&se.postRender(()=>l(t,Rc(t)))}class m9 extends Us{mount(){const{current:t}=this.node;t&&(this.unmount=AL(t,(n,r)=>(Sw(this.node,r,"Start"),a=>Sw(this.node,a,"End"))))}unmount(){}}class p9 extends Us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rw(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&se.postRender(()=>l(t,Rc(t)))}class g9 extends Us{mount(){const{current:t}=this.node;t&&(this.unmount=xL(t,(n,r)=>(Rw(this.node,r,"Start"),(a,{success:l})=>Rw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oy=new WeakMap,fg=new WeakMap,y9=e=>{const t=oy.get(e.target);t&&t(e)},v9=e=>{e.forEach(y9)};function _9({root:e,...t}){const n=e||document;fg.has(n)||fg.set(n,{});const r=fg.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(v9,{root:e,...t})),r[a]}function T9(e,t,n){const r=_9(t);return oy.set(e,n),r.observe(e),()=>{oy.delete(e),r.unobserve(e)}}const E9={some:0,all:1};class b9 extends Us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:E9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return T9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(A9(t,n))&&this.startObserver()}unmount(){}}function A9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const w9={inView:{Feature:b9},tap:{Feature:g9},focus:{Feature:p9},hover:{Feature:m9}},S9={layout:{ProjectionNode:Z2,MeasureLayout:q2}},ly={current:null},J2={current:!1};function R9(){if(J2.current=!0,!!yv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ly.current=e.matches;e.addListener(t),t()}else ly.current=!1}const x9=[...w2,sn,Vs],C9=e=>x9.find(A2(e)),I9=new WeakMap;function D9(e,t,n){for(const r in t){const a=t[r],l=n[r];if(ln(a))e.addValue(r,a);else if(ln(l))e.addValue(r,Ju(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Ju(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const xw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class N9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=ji.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,se.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Vd(n),this.isVariantNode=BR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const x=b[w];m[w]!==void 0&&ln(x)&&x.set(m[w],!1)}}mount(t){this.current=t,I9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),J2.current||R9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ly.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Os(this.notifyUpdate),Os(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=La.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const n=Zo[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xw.length;r++){const a=xw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=D9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ju(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(E2(r)||h2(r))?r=parseFloat(r):!C9(r)&&Vs.test(n)&&(r=v2(t,n)),this.setBaseTarget(t,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Bv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class tx extends N9{constructor(){super(...arguments),this.KeyframeResolver=S2}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P9(e){return window.getComputedStyle(e)}class O9 extends tx{constructor(){super(...arguments),this.type="html",this.renderInstance=WR}readValueFromInstance(t,n){if(La.has(n))return G6(t,n);{const r=P9(t),a=(Pv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return B2(t,n)}build(t,n,r){Mv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return zv(t,n,r)}}class V9 extends tx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Te,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&XR(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(La.has(n)){const r=y2(n);return r&&r.default||0}return n=ZR.has(n)?n:Nv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return t2(t,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&se.postRender(this.updateDimensions)}build(t,n,r){Uv(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){JR(t,n,r,a)}mount(t){this.isSVGTag=jv(t.tagName),super.mount(t)}}const M9=(e,t)=>Lv(e)?new V9(t):new O9(t,{allowProjection:e!==U.Fragment}),k9=v6({...rU,...w9,...d9,...S9},M9),yn=VL(k9),Cw=({setShowUpload:e,onClose:t,userProfile:n})=>{const[r,a]=U.useState(""),[l,c]=U.useState(""),[f,m]=U.useState(""),[p,y]=U.useState(""),[_,b]=U.useState(""),[w,x]=U.useState(""),L=cv(),C=async N=>{N.preventDefault();const Q=Ea.currentUser;if(!Q){alert("You must be logged in to create a post.");return}const H=_.split(",").map(rt=>rt.trim());try{await qM(Ug(li,"posts"),{title:r,description:l,eventDate:f?new Date(f):null,teamSize:p||"Flexible",skillsNeeded:H,contactInfo:w,userId:Q.uid,userName:n.name,createdAt:new Date,interestedUsers:[]}),alert("Post created successfully!"),e(!1),L("/")}catch(rt){console.error("Error creating post:",rt),alert("Failed to create post. Please try again.")}};return V.jsx(Ef,{children:V.jsx(yn.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:V.jsxs(yn.div,{className:"relative w-full max-w-2xl bg-gradient-to-br from-gray-800/90 to-violet-900/90 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 overflow-hidden",initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{type:"spring",damping:25},children:[V.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-600 to-blue-500"}),V.jsxs("div",{className:"p-6",children:[V.jsxs("div",{className:"flex justify-between items-center mb-6",children:[V.jsx("h2",{className:"text-2xl font-bold text-white",children:"New Collaboration Post"}),V.jsx("button",{onClick:t,className:"text-white/70 hover:text-white transition-colors",children:V.jsx(Qu,{size:20})})]}),V.jsxs("form",{onSubmit:C,className:"space-y-5 text-black",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-black",children:"Project Title"}),V.jsx("input",{type:"text",id:"title",value:r,onChange:N=>a(N.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Your awesome project name",required:!0})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-black",children:"Description"}),V.jsx("textarea",{id:"description",value:l,onChange:N=>c(N.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all min-h-[120px]",placeholder:"Tell us about your project, goals, and what you're looking for...",required:!0})]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsxs("label",{htmlFor:"eventDate",className:"block text-sm font-medium text-black flex items-center gap-2",children:[V.jsx(sR,{className:"text-purple-500"}),"Event Date"]}),V.jsx("input",{type:"date",id:"eventDate",value:f,onChange:N=>m(N.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("label",{htmlFor:"teamSize",className:"block text-sm font-medium text-black flex items-center gap-2",children:[V.jsx(uR,{className:"text-purple-500"}),"Team Size"]}),V.jsx("input",{type:"text",id:"teamSize",value:p,onChange:N=>y(N.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"e.g., 3-5 members"})]})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("label",{htmlFor:"skillsNeeded",className:"block text-sm font-medium text-black flex items-center gap-2",children:[V.jsx(aR,{className:"text-purple-500"}),"Skills Needed"]}),V.jsx("input",{type:"text",id:"skillsNeeded",value:_,onChange:N=>b(N.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"React, Node.js, Python (comma separated)"})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("label",{htmlFor:"contactInfo",className:"block text-sm font-medium text-black flex items-center gap-2",children:[V.jsx(Bg,{className:"text-purple-500"}),"Contact Info"]}),V.jsx("input",{type:"text",id:"contactInfo",value:w,onChange:N=>x(N.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Email, Discord, or social media link"})]}),V.jsx("div",{className:"pt-3",children:V.jsxs(yn.button,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-500 text-white py-3.5 rounded-xl font-medium flex items-center justify-center gap-2 shadow-lg hover:shadow-purple-500/30 transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:[V.jsx(oR,{className:"text-lg"}),"Create Collaboration"]})})]})]})]})})})},L9=({post:e,user:t,onInterestClick:n})=>{var b,w,x,L;const[r,a]=U.useState(!1),[l,c]=U.useState(!1),[f,m]=U.useState(!1);U.useEffect(()=>{if(t&&e.interestedUsers){const C=e.interestedUsers.some(N=>N.userId===t.uid);c(C)}},[t,e.interestedUsers]);const p=C=>{C.stopPropagation(),t&&(l?m(!f):(n(e.id),c(!0)))},y=C=>C?typeof C.toDate=="function"?C.toDate().toLocaleDateString():new Date(C).toLocaleDateString():"Not specified",_=C=>{if(!C)return null;const N=new Date,H=(typeof C.toDate=="function"?C.toDate():new Date(C))-N,rt=Math.ceil(H/(1e3*60*60*24));return rt>0?`${rt} days remaining`:"Event passed"};return e?V.jsxs(yn.div,{className:`bg-gray-800/50 backdrop-blur-sm text-white p-6 rounded-xl shadow-lg mb-6 cursor-pointer border border-gray-700 hover:border-purple-500 transition-all ${r?"border-purple-500":""}`,onClick:()=>a(!r),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[V.jsxs("div",{className:"flex justify-between items-start",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold text-white",children:e.title}),e.userName&&V.jsxs("p",{className:"text-purple-400",children:["Posted by: ",e.userName]})]}),V.jsx("span",{className:"text-sm text-gray-400",children:y(e.createdAt)})]}),V.jsx("p",{className:"mt-3 text-gray-300",children:e.description}),r&&V.jsxs("div",{className:"mt-4 space-y-3",children:[V.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[V.jsx(sR,{className:"text-purple-400"}),V.jsxs("span",{children:["Event Date: ",y(e.eventDate)]}),e.eventDate&&V.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-900/50 rounded-full text-xs",children:_(e.eventDate)})]}),V.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[V.jsx(uR,{className:"text-purple-400"}),V.jsxs("span",{children:["Team Size: ",e.teamSize||"Flexible"]})]}),((b=e.skillsNeeded)==null?void 0:b.length)>0&&V.jsxs("div",{className:"mt-3",children:[V.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[V.jsx(aR,{className:"text-purple-400"}),V.jsx("span",{children:"Skills Needed:"})]}),V.jsx("div",{className:"flex flex-wrap gap-2",children:e.skillsNeeded.map((C,N)=>V.jsx("span",{className:"px-3 py-1 bg-purple-900/30 text-purple-200 rounded-full text-xs",children:C},N))})]}),e.contactInfo&&V.jsx("div",{className:"mt-3",children:V.jsxs("p",{className:"text-sm flex items-center gap-2",children:[V.jsx("span",{className:"text-purple-400",children:"Contact:"}),e.contactInfo.startsWith("http")?V.jsxs("a",{href:e.contactInfo,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1",onClick:C=>C.stopPropagation(),children:[e.contactInfo," ",V.jsx(Bg,{size:12})]}):V.jsx("span",{children:e.contactInfo})]})})]}),V.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[V.jsxs("div",{className:"text-sm text-gray-400",children:[((w=e.interestedUsers)==null?void 0:w.length)||0," interested",((x=e.interestedUsers)==null?void 0:x.length)>0&&V.jsx("button",{onClick:C=>{C.stopPropagation(),m(!f)},className:"ml-2 text-purple-400 hover:underline",children:f?"Hide":"Show"})]}),V.jsxs(yn.button,{onClick:p,className:`flex items-center gap-2 py-2 px-4 rounded-full ${l?"bg-green-600/80":"bg-purple-600"} text-white hover:bg-purple-700 transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[V.jsx(k4,{}),l?"Interested":"I'm Interested"]})]}),f&&((L=e.interestedUsers)==null?void 0:L.length)>0&&(t==null?void 0:t.uid)===e.userId&&V.jsxs("div",{className:"mt-4 space-y-2",children:[V.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Interested Members:"}),e.interestedUsers.map((C,N)=>V.jsxs("div",{className:"p-3 bg-gray-700/50 rounded-lg flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[V.jsxs("div",{children:[V.jsx("p",{className:"font-medium",children:C.name}),V.jsx("p",{className:"text-sm text-gray-300",children:C.skills})]}),C.social&&V.jsxs("a",{href:C.social,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline text-sm mt-1 sm:mt-0 flex items-center gap-1",onClick:Q=>Q.stopPropagation(),children:["Contact ",V.jsx(Bg,{size:10})]})]},N))]})]}):null},U9=()=>V.jsx("footer",{className:"py-4 text-center text-white/70 bg-gray-900/50 backdrop-blur-sm",children:V.jsx("p",{children:" 2025 CollabBoard (Only for Desktop) . All rights reserved. Crafted by Yoganandha "})}),j9=({children:e})=>V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-violet-800",children:e}),Xv=({children:e,className:t=""})=>V.jsx("div",{className:`backdrop-blur-lg bg-white/10 rounded-2xl shadow-xl border border-white/20 ${t}`,children:e}),Ho=({children:e,onClick:t,className:n="",whileHover:r={},whileTap:a={}})=>V.jsx(yn.button,{onClick:t,className:`rounded-full font-medium ${n}`,whileHover:{scale:1.05,...r},whileTap:{scale:.95,...a},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e}),bu=({label:e,value:t})=>V.jsxs("div",{children:[V.jsx("p",{className:"text-sm text-gray-600",children:e}),V.jsx("p",{className:"text-gray-800 font-medium",children:t||"Not specified"})]}),B9=({userProfile:e,handleLogout:t,handleEditProfile:n,onClose:r})=>V.jsx(yn.div,{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:V.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-lg p-6",children:[V.jsxs("div",{className:"relative h-40 bg-gradient-to-r from-purple-600 to-blue-500 rounded-t-2xl flex items-center justify-center",children:[V.jsx("div",{className:"h-24 w-24 rounded-full border-4 border-white bg-gray-200 overflow-hidden",children:V.jsx(lR,{className:"h-full w-full text-gray-400"})}),V.jsx(Qu,{className:"absolute top-4 right-4 text-white text-xl cursor-pointer hover:text-gray-200",onClick:r})]}),V.jsxs("div",{className:"pt-8",children:[V.jsxs("div",{className:"flex justify-between items-start mb-6",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e.name}),V.jsx("p",{className:"text-gray-600",children:e.email})]}),V.jsxs("div",{className:"flex space-x-3",children:[V.jsx("button",{onClick:n,className:"bg-gray-200 text-gray-800 border border-gray-300 px-4 py-1 rounded-full hover:bg-gray-300",children:"Edit"}),V.jsx("button",{onClick:t,className:"bg-red-500 text-white px-4 py-1 rounded-full hover:bg-red-600",children:"Logout"})]})]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[V.jsxs("div",{className:"bg-gray-100 rounded-2xl p-4 shadow-md",children:[V.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Academic Info"}),V.jsxs("div",{className:"space-y-2",children:[V.jsx(bu,{label:"College",value:e.collegeName}),V.jsx(bu,{label:"Branch",value:e.branch}),V.jsx(bu,{label:"Year",value:e.year})]})]}),V.jsxs("div",{className:"bg-gray-100 rounded-2xl p-4 shadow-md",children:[V.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Skills & Links"}),V.jsxs("div",{className:"space-y-2",children:[V.jsx(bu,{label:"Skills",value:e.skills}),V.jsx(bu,{label:"Social Links",value:e.social})]})]})]})]})]})}),z9=({email:e,setEmail:t,password:n,setPassword:r,showPassword:a,setShowPassword:l,handleSubmit:c,handleGoogleSignin:f,handleForgotPassword:m,isSignup:p,setIsSignup:y,loading:_,onClose:b})=>V.jsxs(Xv,{className:"max-w-md mx-auto p-8 space-y-6",children:[V.jsx(yn.h1,{className:"text-3xl font-bold text-center text-white",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:p?"Join CollabBoard":"Welcome Back"}),V.jsx(yn.p,{className:"text-center text-black/70",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:p?"Create your account to start collaborating":"Sign in to continue"}),V.jsxs("form",{onSubmit:c,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{htmlFor:"email",className:"block text-black/70",children:"Email"}),V.jsx("input",{type:"email",id:"email",value:e,onChange:w=>t(w.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-black placeholder-black/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),V.jsxs("div",{className:"relative",children:[V.jsx("label",{htmlFor:"password",className:"block text-black/70",children:"Password"}),V.jsx("input",{type:a?"text":"password",id:"password",value:n,onChange:w=>r(w.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-black placeholder-black/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),V.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-black/70 hover:text-white transition-colors",children:a?V.jsx(V4,{}):V.jsx(M4,{})})]}),V.jsx(Ho,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-500 text-white py-2",whileHover:{boxShadow:"0 0 15px rgba(124, 58, 237, 0.5)"},disabled:_,children:_?"Loading...":p?"Sign Up":"Login"}),V.jsxs(Ho,{onClick:f,className:"w-full bg-white text-gray-800 py-2 flex items-center justify-center",whileHover:{boxShadow:"0 0 15px rgba(0, 0, 0, 0.1)"},children:[V.jsx(P4,{className:"mr-2"}),"Sign in with Google"]}),V.jsx("button",{type:"button",onClick:()=>y(!p),className:"text-black/70 underline",children:p?"Already have an account? Login":"Don't have an account? Sign Up"}),V.jsx("button",{type:"button",onClick:m,className:"text-black/70 underline block",children:"Forgot Password?"})]})]}),F9=({name:e,setName:t,branch:n,setBranch:r,collegeName:a,setCollegeName:l,year:c,setYear:f,skills:m,setSkills:p,social:y,setSocial:_,handleProfileSubmit:b,handleCancel:w,loading:x,isEditing:L})=>V.jsxs("div",{className:"relative w-full max-w-4xl h-[90vh] overflow-y-auto bg-gray-800 rounded-xl p-6",children:[V.jsx(Qu,{className:"absolute top-4 right-4 text-white text-xl cursor-pointer z-50",onClick:w}),V.jsxs(Xv,{className:"max-w-md mx-auto p-8 space-y-6",children:[V.jsx("h1",{className:"text-3xl font-bold text-center text-white",children:L?"Edit Your Profile":"Complete Your Profile"}),V.jsxs("form",{onSubmit:b,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{htmlFor:"name",className:"block text-white/70",children:"Name"}),V.jsx("input",{type:"text",id:"name",value:e,onChange:C=>t(C.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"branch",className:"block text-white/70",children:"Branch"}),V.jsx("input",{type:"text",id:"branch",value:n,onChange:C=>r(C.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"collegeName",className:"block text-white/70",children:"College Name"}),V.jsx("input",{type:"text",id:"collegeName",value:a,onChange:C=>l(C.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"year",className:"block text-white/70",children:"Year"}),V.jsx("input",{type:"text",id:"year",value:c,onChange:C=>f(C.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"skills",className:"block text-white/70",children:"Skills"}),V.jsx("input",{type:"text",id:"skills",value:m,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"social",className:"block text-white/70",children:"Social Media Link (eg:Instagram,LinkedIn,FaceBook)"}),V.jsx("input",{type:"text",id:"social",value:y,onChange:C=>_(C.target.value),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),V.jsx(Ho,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-500 text-white py-2",whileHover:{boxShadow:"0 0 15px rgba(124, 58, 237, 0.5)"},disabled:x,children:x?"Saving...":"Save Profile"}),V.jsx("button",{type:"button",onClick:w,className:"text-white/70 underline block text-center mt-4",children:"Cancel"})]})]})]});function H9(){const[e,t]=U.useState(""),[n,r]=U.useState(""),[a,l]=U.useState(!1),[c,f]=U.useState(null),[m,p]=U.useState(!1),[y,_]=U.useState(null),[b,w]=U.useState(!1),[x,L]=U.useState(!1),[C,N]=U.useState(""),[Q,H]=U.useState(""),[rt,Z]=U.useState(""),[ot,O]=U.useState(""),[R,I]=U.useState(""),[M,B]=U.useState(""),[z,P]=U.useState(!1),[oe,$t]=U.useState(!1),[W,at]=U.useState(!1),[ft,Ct]=U.useState(!1),[k,st]=U.useState([]),[ct,lt]=U.useState(""),[gt,Rt]=U.useState(!1),vt=cv();U.useEffect(()=>{const Ot=Ea.onAuthStateChanged(async Je=>{if(Je){f(Je);const fn=await ef(ms(li,"users",Je.uid));fn.exists()?(_(fn.data()),Rt(!0)):(N(""),H(""),Z(""),O(""),I(""),B(""),Ct(!0))}else f(null),_(null),Rt(!1)}),Ht=qb(Ug(li,"posts"),Gb("createdAt","desc")),He=GM(Ht,Je=>{const fn=[];Je.forEach(ne=>{fn.push({...ne.data(),id:ne.id})}),st(fn)});return()=>{Ot(),He()}},[]);const Ae=async Ot=>{Ot.preventDefault(),w(!0);try{let Ht;m?(Ht=await vN(Ea,e,n),await Yb(ms(li,"users",Ht.user.uid),{email:Ht.user.email,createdAt:new Date}),f(Ht.user),Ct(!0)):(Ht=await _N(Ea,e,n),f(Ht.user)),Rt(!0),$t(!1),vt("/")}catch(Ht){alert(Ht.message)}finally{w(!1)}},Wt=async()=>{w(!0);try{const Ot=await FN(Ea,w4);f(Ot.user),(await ef(ms(li,"users",Ot.user.uid))).exists()||Ct(!0),Rt(!0),$t(!1),vt("/")}catch(Ot){alert(Ot.message)}finally{w(!1)}},Un=async()=>{if(!e){alert("Please enter your email first");return}try{await yN(Ea,e),alert("Password reset email sent!")}catch(Ot){alert(Ot.message)}},mi=async Ot=>{Ot.preventDefault(),w(!0);try{await Yb(ms(li,"users",c.uid),{name:C,branch:Q,collegeName:rt,year:ot,skills:R,social:M,email:c.email},{merge:!0}),_({name:C,branch:Q,collegeName:rt,year:ot,skills:R,social:M,email:c.email}),Ct(!1),P(!1)}catch(Ht){alert(Ht.message)}finally{w(!1)}},ei=async()=>{try{await bN(Ea),f(null),_(null),L(!1),Rt(!1),vt("/")}catch(Ot){alert(Ot.message)}},Yi=()=>{y&&(N(y.name||""),H(y.branch||""),Z(y.collegeName||""),O(y.year||""),I(y.skills||""),B(y.social||"")),P(!0),Ct(!0),L(!1)},Qi=()=>{Ct(!1),P(!1),L(!1)},pi=()=>{$t(!1),p(!1)},Xi=()=>{at(!1),vt("/")},Ua=Ot=>{lt(Ot.target.value)},hn=k.filter(Ot=>Ot.title.toLowerCase().includes(ct.toLowerCase())),hl=async Ot=>{if(!(!c||!y))try{const Ht=ms(li,"posts",Ot);await Qb(Ht,{interestedUsers:Xb({userId:c.uid,name:y.name,skills:y.skills,social:y.social,email:c.email})});const He=await ef(Ht);if(He.exists()){const Je=He.data().userId;if(Je!==c.uid){const fn=ms(li,"notifications",Je);await Qb(fn,{notifications:Xb({type:"interest",postId:Ot,fromUserId:c.uid,fromUserName:y.name,message:`${y.name} is interested in your post "${He.data().title}"`,read:!1,timestamp:new Date}),hasUnread:!0})}}alert("Your interest has been recorded! The post owner will be notified.")}catch(Ht){console.error("Error expressing interest:",Ht),alert("Failed to express interest. Please try again.")}},js=async Ot=>{if(c)try{const Ht=ms(li,"posts",Ot),He=await ef(Ht);He.exists()&&He.data().userId===c.uid?(await HM(Ht),alert("Post deleted successfully!")):alert("You do not have permission to delete this post.")}catch(Ht){console.error("Error deleting post:",Ht),alert("Failed to delete post. Please try again.")}},Wi=()=>{$t(!0),p(!1)};return U.useEffect(()=>{(async()=>{const Ht=new Date;Ht.setDate(Ht.getDate()-10);const He=qb(Ug(li,"posts"),Gb("createdAt"),jM("createdAt","<",Ht)),Je=await FM(He),fn=$M(li);Je.forEach(ne=>{fn.delete(ne.ref)}),await fn.commit()})()},[]),V.jsxs("div",{className:"min-h-screen flex flex-col",children:[V.jsxs("header",{className:"flex items-center justify-between p-4",children:[V.jsxs("div",{className:"flex items-center space-x-4",children:[V.jsx(O4,{className:"text-white text-2xl cursor-pointer",onClick:()=>$t(!0)}),V.jsx("h1",{className:"text-2xl font-bold text-white",children:"CollabBoard"})]}),V.jsxs("div",{className:"relative",children:[V.jsx("input",{type:"text",placeholder:"Search posts...",value:ct,onChange:Ua,className:`px-4 py-2 bg-white/10 border border-white/20 rounded-lg placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent ${ct?"text-black":"text-white"}`}),V.jsx(L4,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white"})]}),c?V.jsxs("div",{className:"relative",children:[V.jsx(lR,{className:"text-white text-2xl cursor-pointer",onClick:()=>L(!0)}),V.jsx(Ef,{children:x&&V.jsx(B9,{userProfile:y,handleLogout:ei,handleEditProfile:Yi,onClose:()=>L(!1)})})]}):V.jsx(Ho,{onClick:Wi,className:"bg-gradient-to-r from-purple-600 to-blue-500 text-white py-2 px-4",whileHover:{boxShadow:"0 0 15px rgba(124, 58, 237, 0.5)"},children:"Login"})]}),V.jsxs("main",{className:"flex-1 p-4",children:[V.jsx(Ef,{children:(oe||ft)&&V.jsxs(yn.div,{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[oe&&V.jsxs(Xv,{className:"max-w-md w-full p-8 relative",children:[V.jsx(Qu,{className:"absolute top-4 right-4 text-white text-xl cursor-pointer",onClick:pi}),V.jsx(z9,{email:e,setEmail:t,password:n,setPassword:r,showPassword:a,setShowPassword:l,handleSubmit:Ae,handleGoogleSignin:Wt,handleForgotPassword:Un,isSignup:m,setIsSignup:p,loading:b,onClose:pi})]}),ft&&V.jsx(F9,{name:C,setName:N,branch:Q,setBranch:H,collegeName:rt,setCollegeName:Z,year:ot,setYear:O,skills:R,setSkills:I,social:M,setSocial:B,handleProfileSubmit:mi,handleCancel:Qi,loading:b,isEditing:z})]})}),V.jsx(Ef,{children:W&&V.jsx(yn.div,{className:"fixed inset-0 bg-black/70 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:V.jsx("div",{className:"h-full w-full flex items-center justify-center p-4",children:V.jsxs("div",{className:"relative w-full max-w-4xl h-[90vh] overflow-y-auto bg-gray-800 rounded-xl p-6",children:[V.jsx(Qu,{className:"absolute top-4 right-4 text-white text-xl cursor-pointer z-50",onClick:Xi}),V.jsx(Cw,{setShowUpload:at,onClose:Xi,user:c,userProfile:y})]})})})}),V.jsxs("div",{className:`${oe||W||ft?"opacity-0 pointer-events-none":"opacity-100"}`,children:[V.jsxs(yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[V.jsx(yn.h3,{className:"text-4xl font-bold text-purple-200 mb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:c?`Welcome back, ${(y==null?void 0:y.name)||"collaborator"}!`:" Alert "}),V.jsx(yn.p,{className:"text-lg text-white/80",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.4},children:c?" Youre not here to play small. Lets build greatness.":" Meet collaborators.  Spark ideas.  Build your legacy."}),!c&&V.jsx(yn.p,{className:"text-sm text-white/80 mt-2",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.6},children:" Youre not here to play small. Lets build greatness"})]}),V.jsxs(Ck,{children:[V.jsx(Fg,{path:"/",element:V.jsx(V.Fragment,{children:c?V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"flex justify-between items-center mb-6",children:[V.jsx("h2",{className:"text-2xl font-bold text-white",children:ct?"Search Results":"Available Collaborations"}),V.jsxs(Ho,{onClick:()=>{at(!0),vt("/upload")},className:"bg-gradient-to-r from-purple-600 to-blue-500 text-white py-2 px-4",whileHover:{boxShadow:"0 0 15px rgba(124, 58, 237, 0.5)"},children:[V.jsx(oR,{className:"mr-2"}),"Create Collaboration Post"]})]}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:hn.map(Ot=>V.jsxs("div",{className:"relative",children:[V.jsx(L9,{post:Ot,user:c,onInterestClick:hl}),c&&c.uid===Ot.userId&&V.jsx("div",{className:"absolute top-2 right-2",children:V.jsx("button",{onClick:()=>js(Ot.id),className:"text-red-500 hover:text-red-700",title:"Delete post",children:V.jsx(U4,{})})})]},Ot.id))}),hn.length===0&&V.jsx("div",{className:"text-center py-10",children:V.jsx("p",{className:"text-white/70 text-lg",children:ct?"No matching posts found":"No collaboration posts available yet. Be the first to create one!"})})]}):V.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:V.jsx(Ho,{onClick:Wi,className:"bg-gradient-to-r from-purple-600 to-blue-500 text-white py-3 px-6 text-lg mt-6",whileHover:{boxShadow:"0 0 15px rgba(124, 58, 237, 0.5)"},children:"Get Started - Join Now"})})})}),V.jsx(Fg,{path:"/upload",element:V.jsx(Cw,{setShowUpload:at,onClose:Xi,user:c,userProfile:y})})]})]})]}),V.jsx(U9,{})]})}function q9(){return V.jsx(Wk,{children:V.jsx(j9,{children:V.jsx(H9,{})})})}MC.createRoot(document.getElementById("root")).render(V.jsx(Ts.StrictMode,{children:V.jsx(q9,{})}));
